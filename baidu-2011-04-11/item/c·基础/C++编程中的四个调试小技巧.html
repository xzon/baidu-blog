<html><head><title>C++编程中的四个调试小技巧</title></head><body><div id='tit'>C++编程中的四个调试小技巧</div><div id='cate'>c&middot;基础</div><div id='date'>2007年12月12日 星期三 11:36 P.M.</div><div id='page'>187</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/1e93b0009d5ed484e850cd38.html'>http://hi.baidu.com/hxzon/blog/item/1e93b0009d5ed484e850cd38.html</a><div id='cnt'><p>C++编程中的四个调试小技</p> 
<div>
 <strong>1、调试标记</strong> 
 <p> 适用预处理#define定义一个或多个调试标记，在代码中把调试部分使用#ifdef和#endif进行管理。当程序最终调试完成后，只需要使用#undef标记，调试代码就会消失。常用的调试标记为DEBUG, 语句序列：</p> 
 <p><code><font face="新宋体">#define DEBUG<br /> #ifdef DEBUG<br /> 调试代码<br /> #endif</font></code></p> 
 <p><strong>2、运行期间调试标记</strong></p> 
 <p> 在程序运行期间打开和关闭调试标记。通过设置一个调试bool标记可以实现。这对命令行运行的程序更为方便。例如下面代码：</p> 
 <p><code><font face="新宋体">#include&lt;iostream&gt;<br /> #include &lt;string&gt;<br /> using namespace std;<br /> bool debug =false;<br /> int main(int argc,char*argv[])<br /> {<br /> for(int i=0;i&lt;argc;i++)<br /> if(string(argv[i])==“--debug=on“)<br /> debug = true;<br /> bool go=true;<br /> while(go)<br /> {<br /> if(debug)<br /> {<br /> 调试代码<br /> }else {}<br /> }<br /> }</font></code></p> 
 <p><strong>3、把变量和表达式转换成字符串</strong></p> 
 <p> 可是使用字符串运算符来实现转换输出定义</p> 
 <code><font face="新宋体">#define PR(x） cout&lt;&lt;#x”=”&lt;&lt;x&lt;&lt;'<br /> '</font></code> 
 <p> </p> 
 <p><strong>4、c语言的assert()</strong></p> 
 <p> 该宏在中，，当使用assert时候，给他个参数，即一个判读为真的表达式。预处理器产生测试该断言的代码，如果断言不为真，则发出一个错误信息告诉断言是什么以及它失败一会，程序会终止。</p> 
 <p><code><font face="新宋体">#include&lt; assert&gt;<br /> using namSAPce std;<br /> int main()<br /> {<br /> int i=100;<br /> assert(i!=100);<br /> //Fails<br /> }<br /> 当调试完毕后在#include&lt;assert&gt;前<br /> 加入#define NDEBUG即可消除红产生的代码<br /> }</font></code></p> 
 <p><code><font face="新宋体">引用地址：<a href="http://blog.programfan.com/trackback.asp?id=31279">http://blog.programfan.com/trackback.asp?id=31279</a></font></code></p> 
</div></div></body></html>