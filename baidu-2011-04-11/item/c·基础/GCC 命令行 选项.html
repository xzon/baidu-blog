<html><head><title>GCC 命令行 选项</title></head><body><div id='tit'>GCC 命令行 选项</div><div id='cate'>c&middot;基础</div><div id='date'>2009年08月28日 星期五 11:29 P.M.</div><div id='page'>34</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/22fa332a7dd9ce315243c15e.html'>http://hi.baidu.com/hxzon/blog/item/22fa332a7dd9ce315243c15e.html</a><div id='cnt'><p> </p> 
<p>GCC 命令行 选项</p> 
<p>gcc --help<br /> gcc --target-help</p> 
<p> </p> 
<p><a href="http://gcc.gnu.org/onlinedocs/gcc-3.3.6/gcc/index.html#toc_Invoking-GCC">http://gcc.gnu.org/onlinedocs/gcc-3.3.6/gcc/index.html#toc_Invoking-GCC</a><br /> mingw/info/gcc.info</p> 
<p><a href="http://gcc.gnu.org/onlinedocs/gcc-3.3.6/gcc/Invoking-GCC.html#Invoking-GCC" name="toc_Invoking-GCC">3 GCC Command Options</a></p> 
<ul> 
 <li><a href="http://gcc.gnu.org/onlinedocs/gcc-3.3.6/gcc/Option-Summary.html#Option-Summary">3.1 Option Summary</a></li> 
 <li><a href="http://gcc.gnu.org/onlinedocs/gcc-3.3.6/gcc/Overall-Options.html#Overall-Options">3.2 Options Controlling the Kind of Output</a></li> 
 <li><a href="http://gcc.gnu.org/onlinedocs/gcc-3.3.6/gcc/Invoking-G_002b_002b.html#Invoking-G_002b_002b">3.3 Compiling C++ Programs</a></li> 
 <li><a href="http://gcc.gnu.org/onlinedocs/gcc-3.3.6/gcc/C-Dialect-Options.html#C-Dialect-Options">3.4 Options Controlling C Dialect</a></li> 
 <li><a href="http://gcc.gnu.org/onlinedocs/gcc-3.3.6/gcc/C_002b_002b-Dialect-Options.html#C_002b_002b-Dialect-Options">3.5 Options Controlling C++ Dialect</a></li> 
 <li><a href="http://gcc.gnu.org/onlinedocs/gcc-3.3.6/gcc/Objective_002dC-Dialect-Options.html#Objective_002dC-Dialect-Options">3.6 Options Controlling Objective-C Dialect</a></li> 
 <li><a href="http://gcc.gnu.org/onlinedocs/gcc-3.3.6/gcc/">3.7 Options to Control Diagnostic Messages Formatting</a></li> 
 <li><a href="http://gcc.gnu.org/onlinedocs/gcc-3.3.6/gcc/Warning-Options.html#Warning-Options">3.8 Options to Request or Suppress Warnings</a></li> 
 <li><a href="http://gcc.gnu.org/onlinedocs/gcc-3.3.6/gcc/Debugging-Options.html#Debugging-Options">3.9 Options for Debugging Your Program or GCC</a></li> 
 <li><a href="http://gcc.gnu.org/onlinedocs/gcc-3.3.6/gcc/Optimize-Options.html#Optimize-Options">3.10 Options That Control Optimization</a></li> 
 <li><a href="http://gcc.gnu.org/onlinedocs/gcc-3.3.6/gcc/Preprocessor-Options.html#Preprocessor-Options">3.11 Options Controlling the Preprocessor</a></li> 
 <li><a href="http://gcc.gnu.org/onlinedocs/gcc-3.3.6/gcc/Assembler-Options.html#Assembler-Options">3.12 Passing Options to the Assembler</a></li> 
 <li><a href="http://gcc.gnu.org/onlinedocs/gcc-3.3.6/gcc/Link-Options.html#Link-Options">3.13 Options for Linking</a></li> 
 <li><a href="http://gcc.gnu.org/onlinedocs/gcc-3.3.6/gcc/Directory-Options.html#Directory-Options">3.14 Options for Directory Search</a></li> 
 <li><a href="http://gcc.gnu.org/onlinedocs/gcc-3.3.6/gcc/Spec-Files.html#Spec-Files">3.15 Specifying subprocesses and the switches to pass to them</a></li> 
 <li><a href="http://gcc.gnu.org/onlinedocs/gcc-3.3.6/gcc/Target-Options.html#Target-Options">3.16 Specifying Target Machine and Compiler Version</a></li> 
 <li><a href="http://gcc.gnu.org/onlinedocs/gcc-3.3.6/gcc/Submodel-Options.html#Submodel-Options">3.17 Hardware Models and Configurations</a></li> 
 <li><a href="http://gcc.gnu.org/onlinedocs/gcc-3.3.6/gcc/Code-Gen-Options.html#Code-Gen-Options">3.18 Options for Code Generation Conventions</a></li> 
 <li><a href="http://gcc.gnu.org/onlinedocs/gcc-3.3.6/gcc/Environment-Variables.html#Environment-Variables">3.19 Environment Variables Affecting GCC</a></li> 
 <li><a href="http://gcc.gnu.org/onlinedocs/gcc-3.3.6/gcc/Running-Protoize.html#Running-Protoize">3.20 Running Protoize</a></li> 
</ul> 
<div>
 ----------------------------
 <br /> 
 <a href="http://www.shanghai.ws/gnu/gcc_1.htm">http://www.shanghai.ws/gnu/gcc_1.htm</a> gcc编译选项
 <br /> 
 <a href="http://learn.akae.cn/media/apbs01.html">http://learn.akae.cn/media/apbs01.html</a>&nbsp;&nbsp; 
 <br /> ----------------------------
 <br /> 
 <dl>
  <dt>
   <code><font face="新宋体">-l</font></code>
   <var>library</var> 
  </dt>
  <dt>
   <code><font face="新宋体">-l </font></code>
   <var>library</var> 
  </dt>
  <dd>
   <a name="index-l-500"></a>Search the library named 
   <var>library</var> when linking. (The second alternative with the library as a separate argument is only for POSIX compliance and is not recommended.) 
   <p>It makes a difference where in the command you write this option; the linker searches and processes libraries and object files in the order they are specified. Thus, `<samp><span class="samp"><font face="新宋体">foo.o -lz bar.o</font></span></samp>' searches library `<samp><span class="samp"><font face="新宋体">z</font></span></samp>' after file <samp><span class="file"><font face="新宋体">foo.o</font></span></samp> but before <samp><span class="file"><font face="新宋体">bar.o</font></span></samp>. If <samp><span class="file"><font face="新宋体">bar.o</font></span></samp> refers to functions in `<samp><span class="samp"><font face="新宋体">z</font></span></samp>', those functions may not be loaded.</p> 
   <p>The linker searches a standard list of directories for the library, which is actually a file named <samp><font face="新宋体"><span class="file">lib</span><var>library</var><span class="file">.a</span></font></samp>. The linker then uses this file as if it had been specified precisely by name.</p> 
   <p>The directories searched include several standard system directories plus any that you specify with <samp><span class="option"><font face="新宋体">-L</font></span></samp>.</p> 
   <p>Normally the files found this way are library files—archive files whose members are object files. The linker handles an archive file by scanning through it for members which define symbols that have so far been referenced but not defined. But if the file that is found is an ordinary object file, it is linked in the usual fashion. The only difference between using an <samp><span class="option"><font face="新宋体">-l</font></span></samp> option and specifying a file name is that <samp><span class="option"><font face="新宋体">-l</font></span></samp> surrounds <var>library</var> with `<samp><span class="samp"><font face="新宋体">lib</font></span></samp>' and `<samp><span class="samp"><font face="新宋体">.a</font></span></samp>' and searches several directories.</p> 
  </dd>
  <dt>
   <code><font face="新宋体">-Wl,</font></code>
   <var>option</var> 
   <p> </p> 
  </dt>
  <dd>
   <a name="index-Wl-518"></a>Pass 
   <var>option</var> as an option to the linker. If 
   <var>option</var> contains commas, it is split into multiple options at the commas. 
   <p> </p> 
  </dd>
  <dt>
   <code><font face="新宋体">-o </font></code>
   <var>file</var> 
  </dt>
  <dd>
   <a name="index-o-435"></a>Write output to 
   <var>file</var>. This is the same as specifying 
   <var>file</var> as the second non-option argument to 
   <samp><span class="command"><font face="新宋体">cpp</font></span></samp>. 
   <samp><span class="command"><font face="新宋体">gcc</font></span></samp> has a different interpretation of a second non-option argument, so you must use 
   <samp><span class="option"><font face="新宋体">-o</font></span></samp> to specify the output file. 
   <br /> 
  </dd>
  <dt>
   <code><font face="新宋体">-Wall</font></code> 
   <p> </p> 
  </dt>
  <dd>
   <a name="index-Wall-436"></a>Turns on all optional warnings which are desirable for normal code. At present this is 
   <samp><span class="option"><font face="新宋体">-Wcomment</font></span></samp> and 
   <samp><span class="option"><font face="新宋体">-Wtrigraphs</font></span></samp>. Note that many of the preprocessor's warnings are on by default and have no options to control them. 
   <p> </p> 
   <p>------------------------<br /> <a href="http://gcc.gnu.org/onlinedocs/gcc-3.3.6/gcc/Environment-Variables.html#Environment-Variables">http://gcc.gnu.org/onlinedocs/gcc-3.3.6/gcc/Environment-Variables.html#Environment-Variables</a></p> 
   <h3 class="section">3.19 Environment Variables Affecting GCC</h3> 
   <p><a name="index-environment-variables-1457"></a>This section describes several environment variables that affect how GCC operates. Some of them work by specifying directories or prefixes to use when searching for various kinds of files. Some are used to specify other aspects of the compilation environment.</p> 
   <p>Note that you can also specify places to search using options such as <samp><span class="option"><font face="新宋体">-B</font></span></samp>, <samp><span class="option"><font face="新宋体">-I</font></span></samp> and <samp><span class="option"><font face="新宋体">-L</font></span></samp> (see <a href="http://gcc.gnu.org/onlinedocs/gcc-3.3.6/gcc/Directory-Options.html#Directory-Options">Directory Options</a>). These take precedence over places specified using environment variables, which in turn take precedence over those specified by the configuration of GCC. See <a href="http://gcc.gnu.org/onlinedocs/gcc-3.3.6/gccint/Driver.html#Driver">Controlling the Compilation Driver <samp><span class="file"><font face="新宋体">gcc</font></span></samp></a>.</p> 
  </dd>
 </dl>
 <dl>
  <dt>
   <samp><span class="env"><font face="新宋体">LANG</font></span></samp> 
  </dt>
  <dt>
   <samp><span class="env"><font face="新宋体">LC_CTYPE</font></span></samp> 
  </dt>
  <dd></dd>
  <dt>
   <samp><span class="env"><font face="新宋体">LC_MESSAGES</font></span></samp> 
  </dt>
  <dd></dd>
  <dt>
   <samp><span class="env"><font face="新宋体">LC_ALL</font></span></samp> 
  </dt>
  <dd>
   <a name="index-LANG-1458"></a>
   <a name="index-LC_005fCTYPE-1459"></a>
   <a name="index-LC_005fMESSAGES-1460"></a>
   <a name="index-LC_005fALL-1461"></a>
   <a name="index-locale-1462"></a>These environment variables control the way that GCC uses localization information that allow GCC to work with different national conventions. GCC inspects the locale categories 
   <samp><span class="env"><font face="新宋体">LC_CTYPE</font></span></samp> and 
   <samp><span class="env"><font face="新宋体">LC_MESSAGES</font></span></samp> if it has been configured to do so. These locale categories can be set to any value supported by your installation. A typical value is `
   <samp><span class="samp"><font face="新宋体">en_UK</font></span></samp>' for English in the United Kingdom. 
   <p>The <samp><span class="env"><font face="新宋体">LC_CTYPE</font></span></samp> environment variable specifies character classification. GCC uses it to determine the character boundaries in a string; this is needed for some multibyte encodings that contain quote and escape characters that would otherwise be interpreted as a string end or escape.</p> 
   <p>The <samp><span class="env"><font face="新宋体">LC_MESSAGES</font></span></samp> environment variable specifies the language to use in diagnostic messages.</p> 
   <p>If the <samp><span class="env"><font face="新宋体">LC_ALL</font></span></samp> environment variable is set, it overrides the value of <samp><span class="env"><font face="新宋体">LC_CTYPE</font></span></samp> and <samp><span class="env"><font face="新宋体">LC_MESSAGES</font></span></samp>; otherwise, <samp><span class="env"><font face="新宋体">LC_CTYPE</font></span></samp> and <samp><span class="env"><font face="新宋体">LC_MESSAGES</font></span></samp> default to the value of the <samp><span class="env"><font face="新宋体">LANG</font></span></samp> environment variable. If none of these variables are set, GCC defaults to traditional C English behavior.</p> 
  </dd>
  <dt>
   <samp><span class="env"><font face="新宋体">TMPDIR</font></span></samp> 
  </dt>
  <dd>
   <a name="index-TMPDIR-1463"></a>If 
   <samp><span class="env"><font face="新宋体">TMPDIR</font></span></samp> is set, it specifies the directory to use for temporary files. GCC uses temporary files to hold the output of one stage of compilation which is to be used as input to the next stage: for example, the output of the preprocessor, which is the input to the compiler proper. 
   <br /> 
  </dd>
  <dt>
   <samp><span class="env"><font face="新宋体">GCC_EXEC_PREFIX</font></span></samp> 
  </dt>
  <dd>
   <a name="index-GCC_005fEXEC_005fPREFIX-1464"></a>If 
   <samp><span class="env"><font face="新宋体">GCC_EXEC_PREFIX</font></span></samp> is set, it specifies a prefix to use in the names of the subprograms executed by the compiler. No slash is added when this prefix is combined with the name of a subprogram, but you can specify a prefix that ends with a slash if you wish. 
   <p>If <samp><span class="env"><font face="新宋体">GCC_EXEC_PREFIX</font></span></samp> is not set, GCC will attempt to figure out an appropriate prefix to use based on the pathname it was invoked with.</p> 
   <p>If GCC cannot find the subprogram using the specified prefix, it tries looking in the usual places for the subprogram.</p> 
   <p>The default value of <samp><span class="env"><font face="新宋体">GCC_EXEC_PREFIX</font></span></samp> is <samp><font face="新宋体"><var>prefix</var><span class="file">/lib/gcc-lib/</span></font></samp> where <var>prefix</var> is the value of <code><font face="新宋体">prefix</font></code> when you ran the <samp><span class="file"><font face="新宋体">configure</font></span></samp> script.</p> 
   <p>Other prefixes specified with <samp><span class="option"><font face="新宋体">-B</font></span></samp> take precedence over this prefix.</p> 
   <p>This prefix is also used for finding files such as <samp><span class="file"><font face="新宋体">crt0.o</font></span></samp> that are used for linking.</p> 
   <p>In addition, the prefix is used in an unusual way in finding the directories to search for header files. For each of the standard directories whose name normally begins with `<samp><span class="samp"><font face="新宋体">/usr/local/lib/gcc-lib</font></span></samp>' (more precisely, with the value of <samp><span class="env"><font face="新宋体">GCC_INCLUDE_DIR</font></span></samp>), GCC tries replacing that beginning with the specified prefix to produce an alternate directory name. Thus, with <samp><span class="option"><font face="新宋体">-Bfoo/</font></span></samp>, GCC will search <samp><span class="file"><font face="新宋体">foo/bar</font></span></samp> where it would normally search <samp><span class="file"><font face="新宋体">/usr/local/lib/bar</font></span></samp>. These alternate directories are searched first; the standard directories come next.</p> 
  </dd>
  <dt>
   <samp><span class="env"><font face="新宋体">COMPILER_PATH</font></span></samp> 
  </dt>
  <dd>
   <a name="index-COMPILER_005fPATH-1465"></a>The value of 
   <samp><span class="env"><font face="新宋体">COMPILER_PATH</font></span></samp> is a colon-separated list of directories, much like 
   <samp><span class="env"><font face="新宋体">PATH</font></span></samp>. GCC tries the directories thus specified when searching for subprograms, if it can't find the subprograms using 
   <samp><span class="env"><font face="新宋体">GCC_EXEC_PREFIX</font></span></samp>. 
   <br /> 
  </dd>
  <dt>
   <samp><span class="env"><font face="新宋体">LIBRARY_PATH</font></span></samp> 
  </dt>
  <dd>
   <a name="index-LIBRARY_005fPATH-1466"></a>The value of 
   <samp><span class="env"><font face="新宋体">LIBRARY_PATH</font></span></samp> is a colon-separated list of directories, much like 
   <samp><span class="env"><font face="新宋体">PATH</font></span></samp>. When configured as a native compiler, GCC tries the directories thus specified when searching for special linker files, if it can't find them using 
   <samp><span class="env"><font face="新宋体">GCC_EXEC_PREFIX</font></span></samp>. Linking using GCC also uses these directories when searching for ordinary libraries for the 
   <samp><span class="option"><font face="新宋体">-l</font></span></samp> option (but directories specified with 
   <samp><span class="option"><font face="新宋体">-L</font></span></samp> come first). 
   <br /> 
  </dd>
  <dt>
   <samp><span class="env"><font face="新宋体">LANG</font></span></samp> 
  </dt>
  <dd>
   <a name="index-LANG-1467"></a>
   <a name="index-locale-definition-1468"></a>This variable is used to pass locale information to the compiler. One way in which this information is used is to determine the character set to be used when character literals, string literals and comments are parsed in C and C++. When the compiler is configured to allow multibyte characters, the following values for 
   <samp><span class="env"><font face="新宋体">LANG</font></span></samp> are recognized: 
  </dd>
 </dl>
 <dl>
  <dt>
   `
   <samp><span class="samp"><font face="新宋体">C-JIS</font></span></samp>' 
  </dt>
  <dd>
   Recognize JIS characters. 
   <br /> 
  </dd>
  <dt>
   `
   <samp><span class="samp"><font face="新宋体">C-SJIS</font></span></samp>' 
  </dt>
  <dd>
   Recognize SJIS characters. 
   <br /> 
  </dd>
  <dt>
   `
   <samp><span class="samp"><font face="新宋体">C-EUCJP</font></span></samp>' 
  </dt>
  <dd>
   Recognize EUCJP characters. 
  </dd>
 </dl> 
 <p>If <samp><span class="env"><font face="新宋体">LANG</font></span></samp> is not defined, or if it has some other value, then the compiler will use mblen and mbtowc as defined by the default locale to recognize and translate multibyte characters.</p>  
 <p class="noindent">Some additional environments variables affect the behavior of the preprocessor.</p> 
 <dl>
  <dt>
   <samp><span class="env"><font face="新宋体">CPATH</font></span></samp>
   <a name="index-CPATH-1469"></a> 
  </dt>
  <dt>
   <samp><span class="env"><font face="新宋体">C_INCLUDE_PATH</font></span></samp>
   <a name="index-C_005fINCLUDE_005fPATH-1470"></a> 
  </dt>
  <dt>
   <samp><span class="env"><font face="新宋体">CPLUS_INCLUDE_PATH</font></span></samp>
   <a name="index-CPLUS_005fINCLUDE_005fPATH-1471"></a> 
  </dt>
  <dt>
   <samp><span class="env"><font face="新宋体">OBJC_INCLUDE_PATH</font></span></samp>
   <a name="index-OBJC_005fINCLUDE_005fPATH-1472"></a> 
  </dt>
  <dd>
   Each variable's value is a list of directories separated by a special character, much like 
   <samp><span class="env"><font face="新宋体">PATH</font></span></samp>, in which to look for header files. The special character, 
   <code><font face="新宋体">PATH_SEPARATOR</font></code>, is target-dependent and determined at GCC build time. For Windows-based targets it is a semicolon, and for almost all other targets it is a colon. 
   <p><samp><span class="env"><font face="新宋体">CPATH</font></span></samp> specifies a list of directories to be searched as if specified with <samp><span class="option"><font face="新宋体">-I</font></span></samp>, but after any paths given with <samp><span class="option"><font face="新宋体">-I</font></span></samp> options on the command line. This environment variable is used regardless of which language is being preprocessed.</p> 
   <p>The remaining environment variables apply only when preprocessing the particular language indicated. Each specifies a list of directories to be searched as if specified with <samp><span class="option"><font face="新宋体">-isystem</font></span></samp>, but after any paths given with <samp><span class="option"><font face="新宋体">-isystem</font></span></samp> options on the command line.</p> 
   <p>In all these variables, an empty element instructs the compiler to search its current working directory. Empty elements can appear at the beginning or end of a path. For instance, if the value of <samp><span class="env"><font face="新宋体">CPATH</font></span></samp> is <code><font face="新宋体">:/special/include</font></code>, that has the same effect as `<samp><span class="samp"><font face="新宋体">-I. -I/special/include</font></span></samp>'.</p> 
  </dd>
  <dt>
   <samp><span class="env"><font face="新宋体">DEPENDENCIES_OUTPUT</font></span></samp>
   <a name="index-DEPENDENCIES_005fOUTPUT-1473"></a> 
  </dt>
  <dd>
   <a name="index-dependencies-for-make-as-output-1474"></a>If this variable is set, its value specifies how to output dependencies for Make based on the non-system header files processed by the compiler. System header files are ignored in the dependency output. 
   <p>The value of <samp><span class="env"><font face="新宋体">DEPENDENCIES_OUTPUT</font></span></samp> can be just a file name, in which case the Make rules are written to that file, guessing the target name from the source file name. Or the value can have the form `<samp><font face="新宋体"><var>file</var> <var>target</var></font></samp>', in which case the rules are written to file <var>file</var> using <var>target</var> as the target name.</p> 
   <p>In other words, this environment variable is equivalent to combining the options <samp><span class="option"><font face="新宋体">-MM</font></span></samp> and <samp><span class="option"><font face="新宋体">-MF</font></span></samp> (see <a href="http://gcc.gnu.org/onlinedocs/gcc-3.3.6/gcc/Preprocessor-Options.html#Preprocessor-Options">Preprocessor Options</a>), with an optional <samp><span class="option"><font face="新宋体">-MT</font></span></samp> switch too.</p> 
  </dd>
  <dt>
   <samp><span class="env"><font face="新宋体">SUNPRO_DEPENDENCIES</font></span></samp>
   <a name="index-SUNPRO_005fDEPENDENCIES-1475"></a> 
  </dt>
  <dd>
   <a name="index-dependencies-for-make-as-output-1476"></a>This variable is the same as 
   <samp><span class="env"><font face="新宋体">DEPENDENCIES_OUTPUT</font></span></samp> (see above), except that system header files are not ignored, so it implies 
   <samp><span class="option"><font face="新宋体">-M</font></span></samp> rather than 
   <samp><span class="option"><font face="新宋体">-MM</font></span></samp>. However, the dependence on the main input file is omitted. See 
   <a href="http://gcc.gnu.org/onlinedocs/gcc-3.3.6/gcc/Preprocessor-Options.html#Preprocessor-Options">Preprocessor Options</a>. 
  </dd>
 </dl>
</div></div></body></html>