<html><head><title>第21章 JavaScript正则表达式应用 正则表达式学习笔记 -grule</title></head><body><div id='tit'>第21章 JavaScript正则表达式应用 正则表达式学习笔记 -grule</div><div id='cate'>js-css&middot;基础</div><div id='date'>2008年10月10日 星期五 04:58 P.M.</div><div id='page'>92</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/2cbb96ef98d271e9ce1b3ea2.html'>http://hi.baidu.com/hxzon/blog/item/2cbb96ef98d271e9ce1b3ea2.html</a><div id='cnt'><p><font color="#336699">第21章 JavaScript正则表达式应用</font> 正则表达式学习笔记 -grule</p> 
<p><font color="#336699">21.1.1 创建正则表达式</font></p> 
<p>&nbsp;&nbsp;&nbsp; 在JavaScript中，通过RexExp对象来表述和使用正则表达式。在使用正则表达式之前，首先需要创建一个RexExp对象。显式创建RegExp对象的语法如下：</p> 
<div style="margin: 0cm 0cm 0pt 21pt">
 <font style="background-color: #e0e0e0" size="2">var oRexp=new RegExp(pattern[,flag])</font>
</div> 
<div>
  其中，oRexp为必选项，表示所创建的RegExp对象的名称。pattern为必选项，表示以字符串格式表示的正则表达式。flag为可选项，是匹配选项，可用的值有四个：g表示全局匹配检测；i表示在匹配检测时忽略大小写；gi表示全局匹配检测且忽略大小写；m为允许多行搜索。
</div> 
<div>
 用户不一定要显示的创建。另外，还可以隐式创建RegExp对象，格式如下：
</div> 
<div style="margin: 0cm 0cm 0pt 21pt">
 <font style="background-color: #e0e0e0" size="2">var oRexp=/pattern/[flag]</font>
</div> 
<div>
  其中，oRexp为必选项，表示所创建的RegExp对象的名称。pattern为必选项，表示以字符串格式表示的正则表达式。flag为可选项，匹配选项。
</div> 
<div>
 注意：在使用显式格式创建RegExp对象时，正则表达式中的“\”要用“\\”来代替，且表达式开头和结尾的“/”需要省略。
</div> 
<p><font color="#336699">21.1.2 判断字符串中是否存在匹配内容</font></p> 
<p> </p> 
<div>
  在JavaScript中，test方法用于判断用户输入的数据是否符合指定的规则，如判断Email地址是否合法等。其返回值为布尔值。通过该值，可以判断字符串中是否存在与正则表达式相匹配的结果。如果返回值为true，则说明字符串中存在匹配内容；如果为false，则不存在匹配内容。其语法如下所示。
</div> 
<div style="margin: 0cm 0cm 0pt 21pt">
 <font style="background-color: #e0e0e0" size="2">objReg.test(objStr)</font>
</div> 
<div>
  其中，objReg为必选项，表示RegExp对象的名称。string为必选项，表示要进行匹配检测的字符串。
</div> 
<p><font color="#336699">21.1.3 对字符串进行匹配检测</font></p> 
<p> </p> 
<div>
  在JavaScript中，exec方法通过对指定的字符串进行一次匹配检测，获取字符串中第一个与正则表达式相匹配的内容，并将该匹配内容及其子匹配的结果存储到返回的数组中。其语法如下所示。
</div> 
<div style="margin: 0cm 0cm 0pt 21pt">
 <font style="background-color: #e0e0e0" size="2">objReg.exec(string)</font>
</div> 
<div>
  其中，objReg为必选项，表示RegExp对象的名称。string为必选项，表示要进行匹配检测的字符串。
</div> 
<font color="#336699">21.1.4 编译正则表达式</font> 
<p>在JavaScript中，compile方法可以编译指定的正则表达式。编译之后的正则表达式执行速度将会提高。如果该正则表达式要被多次调用，那么调用compile方法可以有效地提高代码的执行速度。如果该正则表达式只被使用一次，则不会有明显的效果。其语法如下所示。</p> 
<div style="margin: 0cm 0cm 0pt 21pt">
 <font style="background-color: #e0e0e0" size="2">objReg.compile(pattern[,flag])</font>
</div> 
<div>
  其中，objReg为必选项，表示RegExp对象变量的名称。pattern为必选项，表示正则表达式。flag为可选项，表示匹配选项。
</div> 
<div>
 <font color="#336699">21.1.5 替换字符串中的指定内容</font>
</div> 
<div> 
</div> 
<div> 
 <div>
   在JavaScript中，replace方法可以用指定的子字符串替换掉字符串中与指定的正则表达式相匹配的内容。其语法如下所示。
 </div> 
 <div style="margin: 0cm 0cm 0pt 21pt">
  <font style="background-color: #e0e0e0" size="2">objStr.replace(regexp,subStr)</font>
 </div> 
 <div>
   其中，objStr为必选项，表示字符串变量或常量。regexp为必选项，表示RegExp对象的名称或者以字符串格式表示的正则表达式。subStr为必选项，表示任意有效的字符串表达式。
 </div> 
 <p> </p> 
 <p><font color="#336699">21.2.1 获取字符串中所有的匹配信息</font></p> 
</div> 
<p> </p> 
<p> 在JavaScript中，如果字符串中的内容与指定的正则表达式至少有一个匹配时，match方法返回一个数组。数组中存储了字符串中所有的匹配信息。如果没有任何匹配信息，则该方法的返回值为null。其语法如下所示。</p> 
<div style="margin: 0cm 0cm 0pt 21pt">
 <font style="background-color: #e0e0e0" size="2">objStr.math(regexp)</font>
</div> 
<div>
  其中，objStr为必选项，表示字符串变量或常量。regexp为必选项，表示RegExp对象的名称或者以字符串格式表示的正则表达式。
</div> 
<p>21.2.2 获取第一次匹配的起始位置（1）</p> 
<p> </p> 
<div>
  在JavaScript中，search方法是与指定的正则表达式相比较，以得到与之相匹配的内容第一次出现时的位置。其语法如下所示。
</div> 
<div style="margin: 0cm 0cm 0pt 21pt">
 <font style="background-color: #e0e0e0" size="2">objstr.search(regexp)</font>
</div> 
<div>
  其中，objstr为必选项，表示字符串变量或常量。regexp为必选项，表示RegExp对象的名称或者以字符串格式表示的正则表达式。
</div> 
<p><font color="#336699">21.2.3 获取第一次匹配的起始位置（2）</font></p> 
<p> </p> 
<div>
  在JavaScript中，index属性的值与search方法的返回值相同，都是字符串中第一次匹配出现的起始位置。该位置的计算从0开始。如果没有找到任何匹配，那么该属性的值为-1。其语法如下所示。
</div> 
<div style="margin: 0cm 0cm 0pt 21pt">
 <font style="background-color: #e0e0e0" size="2">RegExp.index</font>
</div> 
<div>
  该属性也是RegExp对象的静态属性，调用方式固定。
</div> 
<p><font color="#336699">21.2.4 获取子匹配的结果</font></p> 
<p> </p> 
<div>
  在JavaScript中，$1到$9中存储了正则表达式最近的9个子匹配结果。这些匹配结果按子匹配出现的顺序从左到右依次存储。其语法如下所示。
</div> 
<div style="margin: 0cm 0cm 0pt 21pt">
 <font style="background-color: #e0e0e0" size="2">[RegExp.]$n</font>
</div> 
<div>
  这些属性为静态的。除了在replace方法的第二个参数中，可以省略RegExp而直接使用以外，在其他地方使用这些属性时，必须使用RegExp.$n的调用格式。
</div> 
<p><font color="#336699">21.2.5 获取与正则表达式进行匹配检测的字符串</font></p> 
<p> 在<span><font face="Times New Roman">JavaScript</font></span><span>中，</span><span><font face="Times New Roman">input</font></span><span>属性为</span><span><font face="Times New Roman">RegExp</font></span><span>的静态只读属性，该属性的值为与</span><span><font face="Times New Roman">RegExp</font></span><span>对象所表述的正则表达式进行匹配检测的字符串。该属性还可以表示为“</span><span><font face="Times New Roman">$_</font></span><span>”。其语法如下所示。</span></p> 
<p style="margin: 0cm 0cm 0pt 21pt" class="a"><span><font style="background-color: #e0e0e0" size="2">RegExp.input</font></span></p> 
<p style="margin: 0cm 0cm 0pt 21pt" class="a"><span><font style="background-color: #e0e0e0" size="2">RegExp.$_</font></span></p> 
<p><font color="#336699">21.2.6 获取匹配的内容的最后一个索引位置</font></p> 
<p> 在<span><font face="Times New Roman">JavaScript</font></span><span>中，</span><span><font face="Times New Roman">lastIndex</font></span><span>属性为</span><span><font face="Times New Roman">RegExp</font></span><span>对象的静态属性。其值为字符串中的匹配内容在字符串中的最后一个匹配位置，也就是进行下一次匹配查找的起始位置。其语法如下所示。</span></p> 
<p style="margin: 0cm 0cm 0pt 21pt" class="a"><span><font style="background-color: #e0e0e0" size="2">RegExp.lastIndex</font></span></p> 
<p><font color="#336699">21.2.7 获取最近一次匹配的内容</font></p> 
<p> </p> 
<div>
  在JavaScript中，lastMatch属性（$&amp;）也是RegExp对象的静态只读属性。该属性的值为正则表达式与字符串最后一次匹配的结果。进行任意新的匹配都会改变lastMatch属性的值。如果没有任何匹配信息，则该属性的值为空字符串。其语法如下所示。
</div> 
<div style="margin: 0cm 0cm 0pt 21pt">
 <font style="background-color: #e0e0e0" size="2">RegExp.lastIndex</font>
</div> 
<p><font color="#336699">21.2.8 获取最近一次匹配的最后一个子匹配</font></p> 
<p> </p> 
<div>
  在JavaScript中，lastParen属性（$+）为RegExp属性的只读静态属性。该属性返回在最近一次匹配检测中所得到的最后一个子匹配的值。任何新的匹配检测都会改变该属性的值。如果没有任何子匹配，则该属性的值为一个空字符串。其语法如下所示。
</div> 
<div style="margin: 0cm 0cm 0pt 21pt">
 <font style="background-color: #e0e0e0" size="2">RegExp.lastParen</font>
</div> 
<p><font color="#336699">21.2.9 获取匹配内容左侧的字符信息</font></p> 
<p> </p> 
<div>
  在JavaScript中，leftContext属性为RegExp对象的只读静态属性。该属性的值为从字符串开始到最后一次匹配之前的字符串。该属性的初始值为空字符串，如果检测到相应的匹配该属性的值就会改变。其语法如下所示。
</div> 
<div style="margin: 0cm 0cm 0pt 21pt">
 <font style="background-color: #e0e0e0" size="2">RegExp.leftContext</font>
</div> 
<p><font color="#336699">21.2.10 获取匹配内容右侧的字符信息</font></p> 
<p>在<span><font face="Times New Roman">JavaScript</font></span><span>中，</span><span><font face="Times New Roman">rightContext</font></span><span>属性（</span><span><font face="Times New Roman">$’</font></span><span>）为</span><span><font face="Times New Roman">RegExp</font></span><span>对象的只读静态属性。该属性的值为从最后一次匹配之后的到字符串末尾的字符串。该属性的初始值为空字符串。如果检测到相应的匹配，该属性的值就会改变。其语法如下所示。</span></p> 
<p style="margin: 0cm 0cm 0pt 21pt" class="a"><span><font style="background-color: #e0e0e0" size="2">RegExp.rightContext</font></span></p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p></div></body></html>