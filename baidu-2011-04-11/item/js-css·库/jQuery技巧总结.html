<html><head><title>jQuery技巧总结</title></head><body><div id='tit'>jQuery技巧总结</div><div id='cate'>js-css&middot;库</div><div id='date'>2008年08月14日 星期四 08:09 P.M.</div><div id='page'>108</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/66e1d713a682d0045baf5347.html'>http://hi.baidu.com/hxzon/blog/item/66e1d713a682d0045baf5347.html</a><div id='cnt'><p>jQuery技巧总结</p> 
<p>一、简介</p> 
<p>1.1、概述</p> 
<p>随着WEB2.0及ajax思想在互联网上的快速发展传播，陆续出现了一些优秀的Js框架，其中比较著名的有Prototype、YUI、jQuery、mootools、Bindows以及国内的JSVM框架等，通过将这些JS框架应用到我们的项目中能够使程序员从设计和书写繁杂的JS应用中解脱出来，将关注点转向功能需求而非实现细节上，从而提高项目的开发速度。</p> 
<p>jQuery是继prototype之后的又一个优秀的Javascript框架。它是由 John Resig 于 2006 年初创建的，它有助于简化 JavaScript™ 以及Ajax 编程。有人使用这样的一比喻来比较prototype和jQuery：prototype就像Java，而jQuery就像ruby. 它是一个简洁快速灵活的JavaScript框架，它能让你在你的网页上简单的操作文档、处理事件、实现特效并为Web页面添加Ajax交互。</p> 
<p>它具有如下一些特点：</p> 
<ol> 
 <li>代码简练、语义易懂、学习快速、文档丰富。</li> 
 <li>jQuery是一个轻量级的脚本，其代码非常小巧，最新版的JavaScript包只有20K左右。</li> 
 <li>jQuery支持CSS1-CSS3,以及基本的xPath。</li> 
 <li>jQuery是跨浏览器的，它支持的浏览器包括IE 6.0+, FF 1.5+, Safari 2.0+, Opera 9.0+。</li> 
 <li>可以很容易的为jQuery扩展其他功能。</li> 
 <li>能将JS代码和HTML代码完全分离，便于代码和维护和修改。</li> 
 <li>插件丰富，除了jQuery本身带有的一些特效外，可以通过插件实现更多功能，如表单验证、tab导航、拖放效果、表格排序、DataGrid，树形菜单、图像特效以及ajax上传等。</li> 
</ol> 
<p>jQuery的设计会改变你写JavaScript代码的方式，降低你学习使用JS操作网页的复杂度，提高网页JS开发效率，无论对于js初学者还是资深专家，jQuery都将是您的首选。</p> 
<p>jQuery适合于设计师、开发者以及那些还好者，同样适合用于商业开发，可以说jQuery适合任何JavaScript应用的地方，可用于不同的Web应用程序中。</p> 
<p>官方站点：<a target="_blank" href="http://jquery.com/">http://jquery.com/</a> 中文站点：<a target="_blank" href="http://jquery.org.cn/">http://jquery.org.cn/</a></p> 
<p>1.2、目的</p> 
<p>通过学习本文档，能够对jQuery有一个简单的认识了解，清楚JQuery与其他JS框架的不同，掌握jQuery的常用语法、使用技巧及注意事项。</p> 
<p>二、使用方法</p> 
<p>在需要使用JQuery的页面中引入JQuery的js文件即可。<br /> 例如：&lt;script type=&quot;text/javascript&quot; src=&quot;js/jquery.js&quot;&gt;&lt;/script&gt;<br /> 引入之后便可在页面的任意地方使用jQuery提供的语法。</p> 
<p>三、学习教程及参考资料</p> 
<p>请参照《jQuery中文API手册》和<a target="_blank" href="http://jquery.org.cn/visual/cn/index.xml">http://jquery.org.cn/visual/cn/index.xml</a><br /> 推荐两篇不错的jquery教程：《jQuery的起点教程》和《使用 jQuery 简化 Ajax 开发》(说明：以上文档都放在了【附件】中)</p> 
<p>四、语法总结和注意事项</p> 
<p> </p> 
<p>1、关于页面元素的引用</p> 
<p>通过jquery的$()引用元素包括通过id、class、元素名以及元素的层级关系及dom或者xpath条件等方法，且返回的对象为jquery对象（集合对象），不能直接调用dom定义的方法。</p> 
<p>2、jQuery对象与dom对象的转换</p> 
<p>只有jquery对象才能使用jquery定义的方法。注意dom对象和jquery对象是有区别的，调用方法时要注意操作的是dom对象还是jquery对象。<br /> 普通的dom对象一般可以通过$()转换成jquery对象。<br /> 如：$(document.getElementById(&quot;msg&quot;))则为jquery对象，可以使用jquery的方法。<br /> 由于jquery对象本身是一个集合。所以如果jquery对象要转换为dom对象则必须取出其中的某一项，一般可通过索引取出。<br /> 如：$(&quot;#msg&quot;)[0]，$(&quot;div&quot;).eq(1)[0]，$(&quot;div&quot;).get()[1]，$(&quot;td&quot;)[5]这些都是dom对象，可以使用dom中的方法，但不能再使用Jquery的方法。<br /> 以下几种写法都是正确的：</p> 
<p>$(&quot;#msg&quot;).html();<br /> $(&quot;#msg&quot;)[0].innerHTML;<br /> $(&quot;#msg&quot;).eq(0)[0].innerHTML;<br /> $(&quot;#msg&quot;).get(0).innerHTML;</p> 
<p>3、如何获取jQuery集合的某一项</p> 
<p>对于获取的元素集合，获取其中的某一项（通过索引指定）可以使用eq或get(n)方法或者索引号获取，要注意，eq返回的是jquery对象，而get(n)和索引返回的是dom元素对象。对于jquery对象只能使用jquery的方法，而dom对象只能使用dom的方法，如要获取第三个&lt;div&gt;元素的内容。有如下两种方法：</p> 
<p>$(&quot;div&quot;).eq(2).html();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //调用jquery对象的方法<br /> $(&quot;div&quot;).get(2).innerHTML;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //调用dom的方法属性</p> 
<p>4、同一函数实现set和get</p> 
<p>Jquery中的很多方法都是如此，主要包括如下几个：</p> 
<p> </p> 
<p>$(&quot;#msg&quot;).html();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //返回id为msg的元素节点的html内容。<br /> $(&quot;#msg&quot;).html(&quot;&lt;b&gt;new content&lt;/b&gt;&quot;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br /> //将“&lt;b&gt;new content&lt;/b&gt;” 作为html串写入id为msg的元素节点内容中,页面显示粗体的new content</p> 
<p>$(&quot;#msg&quot;).text();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //返回id为msg的元素节点的文本内容。<br /> $(&quot;#msg&quot;).text(&quot;&lt;b&gt;new content&lt;/b&gt;&quot;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br /> //将“&lt;b&gt;new content&lt;/b&gt;” 作为普通文本串写入id为msg的元素节点内容中,页面显示&lt;b&gt;new content&lt;/b&gt;</p> 
<p>$(&quot;#msg&quot;).height();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //返回id为msg的元素的高度<br /> $(&quot;#msg&quot;).height(&quot;300&quot;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //将id为msg的元素的高度设为300<br /> $(&quot;#msg&quot;).width();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //返回id为msg的元素的宽度<br /> $(&quot;#msg&quot;).width(&quot;300&quot;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //将id为msg的元素的宽度设为300</p> 
<p>$(&quot;input&quot;).val(&quot;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //返回表单输入框的value值<br /> $(&quot;input&quot;).val(&quot;test&quot;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //将表单输入框的value值设为test</p> 
<p>$(&quot;#msg&quot;).click();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //触发id为msg的元素的单击事件<br /> $(&quot;#msg&quot;).click(fn);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //为id为msg的元素单击事件添加函数</p> 
<span class="code"> <p> </p> <p> </p> <p>同样blur,focus,select,submit事件都可以有这两种调用方法</p> <p>5、集合处理功能</p> <p>对于jquery返回的集合内容无需我们自己循环遍历并对每个对象分别做处理，jquery已经为我们提供的很方便的方法进行集合的处理。<br /> 包括两种形式：</p> <p> </p> <p>$(&quot;p&quot;).each(function(i){this.style.color=['#f00','#0f0','#00f'][i]})&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br /> //为索引分别为0，1，2的p元素分别设定不同的字体颜色。</p> <p>$(&quot;tr&quot;).each(function(i){this.style.backgroundColor=['#ccc','#fff'][i%2]})&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br /> //实现表格的隔行换色效果</p> <p>$(&quot;p&quot;).click(function(){alert($(this).html())})&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br /> //为每个p元素增加了click事件，单击某个p元素则弹出其内容</p> <p>6、扩展我们需要的功能</p> <p>$.extend({<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; min: function(a, b){return a &lt; b?a:b; },<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; max: function(a, b){return a &gt; b?a:b; } <br /> });&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //为jquery扩展了min,max两个方法</p> <p>使用扩展的方法（通过“$.方法名”调用）：</p> <p>alert(&quot;a=10,b=20,max=&quot;+$.max(10,20)+&quot;,min=&quot;+$.min(10,20));</p> <p>7、支持方法的连写<br /> 所谓连写，即可以对一个jquery对象连续调用各种不同的方法。</p> <p>例如：</p> <p>$(&quot;p&quot;).click(function(){alert($(this).html())})<br /> .mouseover(function(){alert('mouse over event')})<br /> .each(function(i){this.style.color=['#f00','#0f0','#00f'][i]});</p> <p>8、操作元素的样式</p> <p>主要包括以下几种方式：</p> <p>$(&quot;#msg&quot;).css(&quot;background&quot;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //返回元素的背景颜色<br /> $(&quot;#msg&quot;).css(&quot;background&quot;,&quot;#ccc&quot;)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //设定元素背景为灰色<br /> $(&quot;#msg&quot;).height(300); $(&quot;#msg&quot;).width(&quot;200&quot;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //设定宽高<br /> $(&quot;#msg&quot;).css({ color: &quot;red&quot;, background: &quot;blue&quot; });//以名值对的形式设定样式<br /> $(&quot;#msg&quot;).addClass(&quot;select&quot;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //为元素增加名称为select的class<br /> $(&quot;#msg&quot;).removeClass(&quot;select&quot;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //删除元素名称为select的class<br /> $(&quot;#msg&quot;).toggleClass(&quot;select&quot;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //如果存在（不存在）就删除（添加）名称为select的class</p> <p>9、完善的事件处理功能</p> <p>Jquery已经为我们提供了各种事件处理方法，我们无需在html元素上直接写事件，而可以直接为通过jquery获取的对象添加事件。<br /> 如：<br /> $(&quot;#msg&quot;).click(function(){alert(&quot;good&quot;)})&nbsp;&nbsp;&nbsp;&nbsp; //为元素添加了单击事件<br /> $(&quot;p&quot;).click(function(i){this.style.color=['#f00','#0f0','#00f'][i]})&nbsp;&nbsp; //为三个不同的p元素单击事件分别设定不同的处理</p> <p>jQuery中几个自定义的事件：</p> <p>（1）hover(fn1,fn2)：一个模仿悬停事件（鼠标移动到一个对象上面及移出这个对象）的方法。当鼠标移动到一个匹配的元素上面时，会触发指定的第一个函数。当鼠标移出这个元素时，会触发指定的第二个函数。</p> <p>//当鼠标放在表格的某行上时将class置为over，离开时置为out。<br /> $(&quot;tr&quot;).hover(function(){<br /> $(this).addClass(&quot;over&quot;);<br /> },<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; function(){<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $(this).addClass(&quot;out&quot;); <br /> });</p> <p>（2）ready(fn):当DOM载入就绪可以查询及操纵时绑定一个要执行的函数。</p> <p>$(document).ready(function(){alert(&quot;Load Success&quot;)})<br /> //页面加载完毕提示“Load Success”,不同于onload事件，onload需要页面内容加载完毕（图片等），而ready只要页面html代码下载完毕即触发。与$(fn)等价</p> <p>（3）toggle(evenFn,oddFn): 每次点击时切换要调用的函数。如果点击了一个匹配的元素，则触发指定的第一个函数，当再次点击同一元素时，则触发指定的第二个函数。随后的每次点击都重复对这两个函数的轮番调用。</p> <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //每次点击时轮换添加和删除名为selected的class。<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $(&quot;p&quot;).toggle(function(){<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $(this).addClass(&quot;selected&quot;);&nbsp;&nbsp; <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },function(){<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $(this).removeClass(&quot;selected&quot;); <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; });</p> <p>（4）trigger(eventtype): 在每一个匹配的元素上触发某类事件。<br /> 例如：<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $(&quot;p&quot;).trigger(&quot;click&quot;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //触发所有p元素的click事件</p> <p>（5）bind(eventtype,fn)，unbind(eventtype): 事件的绑定与反绑定<br /> 从每一个匹配的元素中（添加）删除绑定的事件。<br /> 例如：<br /> $(&quot;p&quot;).bind(&quot;click&quot;, function(){alert($(this).text());}); <br /> //为每个p元素添加单击事件<br /> $(&quot;p&quot;).unbind();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //删除所有p元素上的所有事件<br /> $(&quot;p&quot;).unbind(&quot;click&quot;)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //删除所有p元素上的单击事件</p> <p>10、几个实用特效功能</p> <p>其中toggle()和slidetoggle()方法提供了状态切换功能。<br /> 如toggle()方法包括了hide()和show()方法。<br /> slideToggle()方法包括了slideDown()和slideUp方法。</p> <p>11、几个有用的jQuery方法</p> <p>$.browser.浏览器类型：检测浏览器类型。有效参数：safari, opera, msie, mozilla。如检测是否ie：$.browser.isie，是ie浏览器则返回true。<br /> $.each(obj, fn)：通用的迭代函数。可用于近似地迭代对象和数组（代替循环）。<br /> 如<br /> $.each( [0,1,2], function(i, n){ alert( &quot;Item #&quot; + i + &quot;: &quot; + n ); });</p> <p>等价于：<br /> var tempArr=[0,1,2];<br /> for(var i=0;i&lt;tempArr.length;i++){<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; alert(&quot;Item #&quot;+i+&quot;: &quot;+tempArr[i]);<br /> }</p> <p>也可以处理json数据，如<br /> $.each( { name: &quot;John&quot;, lang: &quot;JS&quot; }, function(i, n){ alert( &quot;Name: &quot; + i + &quot;, Value: &quot; + n ); });</p> <p>结果为：<br /> Name:name, Value:John<br /> Name:lang, Value:JS<br /> $.extend(target,prop1,propN)：用一个或多个其他对象来扩展一个对象，返回这个被扩展的对象。这是jquery实现的继承方式。<br /> 如：<br /> $.extend(settings, options);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br /> //合并settings和options，并将合并结果返回settings中，相当于options继承setting并将继承结果保存在setting中。<br /> var settings = $.extend({}, defaults, options);<br /> //合并defaults和options，并将合并结果返回到setting中而不覆盖default内容。<br /> 可以有多个参数（合并多项并返回）</p> <p>$.map(array, fn)：数组映射。把一个数组中的项目(处理转换后)保存到到另一个新数组中，并返回生成的新数组。<br /> 如：<br /> var tempArr=$.map( [0,1,2], function(i){ return i + 4; });<br /> tempArr内容为：[4,5,6]<br /> var tempArr=$.map( [0,1,2], function(i){ return i &gt; 0 ? i + 1 : null; });<br /> tempArr内容为：[2,3]<br /> $.merge(arr1,arr2):合并两个数组并删除其中重复的项目。<br /> 如：<br /> $.merge( [0,1,2], [2,3,4] )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //返回[0,1,2,3,4]</p> <p>$.trim(str)：删除字符串两端的空白字符。 <br /> 如：<br /> $.trim(&quot; hello, how are you?&nbsp;&nbsp; &quot;);&nbsp;&nbsp;&nbsp;&nbsp; //返回&quot;hello,how are you? &quot;</p> <p>12、解决自定义方法或其他类库与jQuery的冲突</p> <p>很多时候我们自己定义了$(id)方法来获取一个元素，或者其他的一些js类库如prototype也都定义了$方法，如果同时把这些内容放在一起就会引起变量方法定义冲突，Jquery对此专门提供了方法用于解决此问题。<br /> 使用jquery中的jQuery.noConflict();方法即可把变量$的控制权让渡给第一个实现它的那个库或之前自定义的$方法。之后应用Jquery的时候只要将所有的$换成jQuery即可，如原来引用对象方法$(&quot;#msg&quot;)改为jQuery(&quot;#msg&quot;)。<br /> 如：</p> <p>jQuery.noConflict(); <br /> // 开始使用jQuery<br /> jQuery(&quot;div&nbsp;&nbsp; p&quot;).hide();<br /> // 使用其他库的 $() <br /> $(&quot;content&quot;).style.display = 'none';</p> <a target="_blank" href="http://www.blueidea.com/articleimg/2007/11/5056/fujian.rar"> <p>本文附件</p> </a> <p>经典论坛讨论：<br /> <a target="_blank" href="http://bbs.blueidea.com/thread-2754221-1-1.html">http://bbs.blueidea.com/thread-2754221-1-1.html</a></p> <p>本文链接：<a target="_blank" href="http://www.blueidea.com/tech/web/2007/5056.asp">http://www.blueidea.com/tech/web/2007/5056.asp</a> </p> </span></div></body></html>