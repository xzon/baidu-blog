<html><head><title>简单的JSF注册实例 -JSF完全参考手册学习笔记 -hxzon -gcode -jsfcode</title></head><body><div id='tit'>简单的JSF注册实例 -JSF完全参考手册学习笔记 -hxzon -gcode -jsfcode</div><div id='cate'>j&middot;web</div><div id='date'>2008年08月10日 星期日 12:34 P.M.</div><div id='page'>110</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/46ba07e956846739b90e2d52.html'>http://hi.baidu.com/hxzon/blog/item/46ba07e956846739b90e2d52.html</a><div id='cnt'><div>
 简单的JSF注册实例 -JSF完全参考手册学习笔记 -hxzon -gcode -jsfcode
</div> 
<div> 
</div> 
<div>
 1.web.xml================================================
 <br /> &lt;?xml version = '1.0' encoding = 'windows-1252'?&gt;
 <br /> &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot; version=&quot;2.4&quot; xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot;&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;description&gt;Empty web.xml file for Web Application&lt;/description&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;servlet&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;servlet-class&gt;javax.faces.webapp.FacesServlet&lt;/servlet-class&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;/servlet&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;servlet-mapping&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;url-pattern&gt;/faces/*&lt;/url-pattern&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;/servlet-mapping&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;session-config&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;session-timeout&gt;35&lt;/session-timeout&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;/session-config&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;mime-mapping&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;extension&gt;html&lt;/extension&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;mime-type&gt;text/html&lt;/mime-type&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;/mime-mapping&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;mime-mapping&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;extension&gt;txt&lt;/extension&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;mime-type&gt;text/plain&lt;/mime-type&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;/mime-mapping&gt;
 <br /> &lt;/web-app&gt;
 <br /> 2.faces-config.xml===================================
 <br /> &lt;?xml version=&quot;1.0&quot; encoding=&quot;windows-1252&quot;?&gt;
 <br /> &lt;!DOCTYPE faces-config PUBLIC
 <br /> &quot;-//Sun Microsystems, Inc.//DTD JavaServer Faces Config 1.1//EN&quot;
 <br /> &quot;http://java.sun.com/dtd/web-facesconfig_1_1.dtd&quot;&gt;
 <br /> &lt;faces-config xmlns=&quot;http://java.sun.com/JSF/Configuration&quot;&gt;
 <br /> &lt;managed-bean&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;managed-bean-name&gt;UserBean&lt;/managed-bean-name&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;managed-bean-class&gt;com.jsfcompref.register.UserBean&lt;/managed-bean-class&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;managed-bean-scope&gt;session&lt;/managed-bean-scope&gt;
 <br /> &lt;/managed-bean&gt;
 <br /> &lt;navigation-rule&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;from-view-id&gt;/main.jsp&lt;/from-view-id&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;navigation-case&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;from-outcome&gt;register&lt;/from-outcome&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;to-view-id&gt;/register.jsp&lt;/to-view-id&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;/navigation-case&gt;
 <br /> &lt;/navigation-rule&gt;
 <br /> &lt;navigation-rule&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;from-view-id&gt;/register.jsp&lt;/from-view-id&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;navigation-case&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;from-outcome&gt;register&lt;/from-outcome&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;to-view-id&gt;/confirm.jsp&lt;/to-view-id&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;/navigation-case&gt;
 <br /> &lt;/navigation-rule&gt;
 <br /> &lt;navigation-rule&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;from-view-id&gt;/confirm.jsp&lt;/from-view-id&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;navigation-case&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;from-outcome&gt;success&lt;/from-outcome&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;to-view-id&gt;/done.jsp&lt;/to-view-id&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;/navigation-case&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;navigation-case&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;from-outcome&gt;revise&lt;/from-outcome&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;to-view-id&gt;/register.jsp&lt;/to-view-id&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;/navigation-case&gt;
 <br /> &lt;/navigation-rule&gt;
 <br /> &lt;/faces-config&gt;
 <br /> 3.index.jsp========================================================
 <br /> &lt;jsp:forward page=&quot;/faces/main.jsp&quot; /&gt;跳转到第一个JSF页面。
 <br /> 4.main.jsp==================================================
 <br /> &lt;%@ page contentType=&quot;text/html&quot;%&gt;
 <br /> &lt;%@ taglib uri=&quot;http://java.sun.com/jsf/core&quot; prefix=&quot;f&quot;%&gt;
 <br /> &lt;%@ taglib uri=&quot;http://java.sun.com/jsf/html&quot; prefix=&quot;h&quot;%&gt;
 <br /> &lt;f:view&gt;
 <br /> &lt;html&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;head&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;title&gt;A Simple JavaServer Faces Registration Application&lt;/title&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;/head&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;body&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h:form&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h2&gt;JSF Registration App&lt;/h2&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h:commandLink action=&quot;register&quot;&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h:outputText value=&quot;Click here to register..&quot;/&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/h:commandLink&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/h:form&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;/body&gt;
 <br /> &lt;/html&gt;
 <br /> &lt;/f:view&gt;
 <br /> ===================&lt;h:commandLink action=&quot;register&quot;&gt;渲染成一个链接，但是动作却像按钮，会引起表单提交。
 <br /> 导航模型找到from-view-id为main.jsp的navigation-rule导航块，如果from-outcome事件为register，就会导航到register.jsp页面。
 <br /> &lt;navigation-rule&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;from-view-id&gt;/main.jsp&lt;/from-view-id&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;navigation-case&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;from-outcome&gt;register&lt;/from-outcome&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;to-view-id&gt;/register.jsp&lt;/to-view-id&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;/navigation-case&gt;
 <br /> &lt;/navigation-rule&gt;
 <br /> 5.register.jsp==================================================
 <br /> &lt;%@ page contentType=&quot;text/html&quot;%&gt;
 <br /> &lt;%@ taglib uri=&quot;http://java.sun.com/jsf/core&quot; prefix=&quot;f&quot;%&gt;
 <br /> &lt;%@ taglib uri=&quot;http://java.sun.com/jsf/html&quot; prefix=&quot;h&quot;%&gt;
 <br /> &lt;f:view&gt;
 <br /> &lt;html&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;head&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;title&gt;A Simple JavaServer Faces Registration Application&lt;/title&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;/head&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;body&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h:form&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h2&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; JSF Registration App
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/h2&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h4&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Registration Form
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/h4&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;table&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;tr&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;First Name:&lt;/td&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h:inputText value=&quot;#{UserBean.firstName}&quot; required=&quot;true&quot;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; id=&quot;fname&quot;/&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h:message for=&quot;fname&quot;/&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/td&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/tr&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;tr&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;Last Name:&lt;/td&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h:inputText value=&quot;#{UserBean.lastName}&quot; required=&quot;true&quot;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; id=&quot;lname&quot;/&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h:message for=&quot;lname&quot;/&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/td&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/tr&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;tr&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;Gender:&lt;/td&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h:selectOneRadio value=&quot;#{UserBean.gender}&quot; required=&quot;true&quot; id=&quot;gender&quot; &gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;f:selectItem itemLabel=&quot;Male&quot; itemValue=&quot;male&quot;/&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;f:selectItem itemLabel=&quot;Female&quot; itemValue=&quot;female&quot;/&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/h:selectOneRadio&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h:message for=&quot;gender&quot;/&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/td&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/tr&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;tr&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;Date of Birth:&lt;/td&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h:inputText value=&quot;#{UserBean.dob}&quot; id=&quot;dob&quot; required=&quot;true&quot; &gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;f:convertDateTime pattern=&quot;MM-dd-yy&quot;/&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/h:inputText&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (mm-dd-yy)
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h:message for=&quot;dob&quot;/&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/td&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/tr&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;tr&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;Email Address:&lt;/td&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h:inputText value=&quot;#{UserBean.email}&quot; required=&quot;true&quot;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; validator=&quot;#{UserBean.validateEmail}&quot; id=&quot;email&quot;/&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h:message for=&quot;email&quot;/&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/td&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/tr&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;tr&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;Service Level:&lt;/td&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h:selectOneMenu value=&quot;#{UserBean.serviceLevel}&quot;&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;f:selectItem itemLabel=&quot;Basic&quot; itemValue=&quot;basic&quot;/&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;f:selectItem itemLabel=&quot;Medium&quot; itemValue=&quot;medium&quot;/&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;f:selectItem itemLabel=&quot;Premium&quot; itemValue=&quot;premium&quot;/&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/h:selectOneMenu&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/td&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/tr&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/table&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;p&gt;&lt;h:commandButton value=&quot;Register&quot; action=&quot;register&quot; /&gt;&lt;/p&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/h:form&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;/body&gt;
 <br /> &lt;/html&gt;
 <br /> &lt;/f:view&gt;
 <br /> ======================
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h:inputText value=&quot;#{UserBean.firstName}&quot; required=&quot;true&quot;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; id=&quot;fname&quot;/&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h:message for=&quot;fname&quot;/&gt;
 <br /> 为了要求用户必须输入值，required属性设为true。如果为空就提交表单，就会在&lt;h:message for=&quot;fname&quot;/&gt;位置显示内置的验证错误消息。
 <br /> #{UserBean.firstName}，叫做JSF值绑定表达式，提供了与托管的bean的firstName属性的直接连接。
 <br /> UserBean.java也在faces-config.xml中注册。
 <br /> &lt;managed-bean&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;managed-bean-name&gt;UserBean&lt;/managed-bean-name&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;managed-bean-class&gt;com.jsfcompref.register.UserBean&lt;/managed-bean-class&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;managed-bean-scope&gt;session&lt;/managed-bean-scope&gt;
 <br /> &lt;/managed-bean&gt;
 <br /> 注意，范围设置只有request，session，application，none4个范围。
 <br /> =========================
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h:selectOneRadio value=&quot;#{UserBean.gender}&quot; required=&quot;true&quot; id=&quot;gender&quot; &gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;f:selectItem itemLabel=&quot;Male&quot; itemValue=&quot;male&quot;/&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;f:selectItem itemLabel=&quot;Female&quot; itemValue=&quot;female&quot;/&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/h:selectOneRadio&gt;
 <br /> 因为绑定到的UserBean.dob属性是Date类型，使用了一个JSF转换器。
 <br /> ============================
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h:inputText value=&quot;#{UserBean.email}&quot; required=&quot;true&quot;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; validator=&quot;#{UserBean.validateEmail}&quot; id=&quot;email&quot;/&gt;
 <br /> 绑定了UserBean的validateEmail()方法。
 <br /> public void validateEmail(FacesContext context, UIComponent toValidate,
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Object value) throws ValidatorException {
 <br /> &nbsp;&nbsp;&nbsp; String eMail = (String) value;
 <br /> &nbsp;&nbsp;&nbsp; if(eMail.indexOf(&quot;@&quot;)&lt;0) {
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FacesMessage message = new FacesMessage(&quot;Invalid email address&quot;);
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw new ValidatorException(message);
 <br /> &nbsp;&nbsp;&nbsp; }
 <br /> }
 <br /> 另一种定制验证方法是创建独立的Validator类，然后在faces-config.xml中注册。
 <br /> ==========================&lt;h:commandButton value=&quot;Register&quot; action=&quot;register&quot; /&gt;
 <br /> 同样找到导航规则导航到confirm.jsp页面。
 <br /> &lt;navigation-rule&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;from-view-id&gt;/register.jsp&lt;/from-view-id&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;navigation-case&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;from-outcome&gt;register&lt;/from-outcome&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;to-view-id&gt;/confirm.jsp&lt;/to-view-id&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;/navigation-case&gt;
 <br /> &lt;/navigation-rule&gt;
 <br /> 6. confirm.jsp===========================================
 <br /> &lt;%@ page contentType=&quot;text/html&quot;%&gt;
 <br /> &lt;%@ taglib uri=&quot;http://java.sun.com/jsf/core&quot; prefix=&quot;f&quot;%&gt;
 <br /> &lt;%@ taglib uri=&quot;http://java.sun.com/jsf/html&quot; prefix=&quot;h&quot;%&gt;
 <br /> &lt;f:view&gt;
 <br /> &lt;html&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;head&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;title&gt;A Simple JavaServer Faces Registration Application&lt;/title&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;/head&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;body&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h:form&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h2&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; JSF Registration App
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/h2&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h4&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Registration Confirmation 
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/h4&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;table&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;tr&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;First Name:&lt;/td&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h:outputText value=&quot;#{UserBean.firstName}&quot;/&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/td&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/tr&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;tr&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;Last Name:&lt;/td&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h:outputText value=&quot;#{UserBean.lastName}&quot;/&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/td&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/tr&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;tr&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;Gender:&lt;/td&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h:outputText value=&quot;#{UserBean.gender}&quot;/&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/td&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/tr&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;tr&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;Date of Birth:&lt;/td&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h:outputText value=&quot;#{UserBean.dob}&quot;&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;f:convertDateTime pattern=&quot;MM-dd-yyyy&quot;/&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/h:outputText&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/td&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/tr&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;tr&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;Email Address:&lt;/td&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h:outputText value=&quot;#{UserBean.email}&quot;/&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/td&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/tr&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;tr&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;Service Level:&lt;/td&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h:outputText value=&quot;#{UserBean.serviceLevel}&quot;/&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/td&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/tr&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/table&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;p&gt;&lt;h:commandButton value=&quot;Edit&quot; action=&quot;revise&quot;/&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h:commandButton value=&quot;Confirm&quot;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; action=&quot;#{UserBean.addConfirmedUser}&quot; /&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/p&gt;&nbsp;&nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/h:form&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;/body&gt;
 <br /> &lt;/html&gt;
 <br /> &lt;/f:view&gt;
 <br /> ==============================&lt;h:commandButton value=&quot;Edit&quot; action=&quot;revise&quot;/&gt;使用了硬编码。
 <br /> &lt;h:commandButton value=&quot;Confirm&quot; action=&quot;#{UserBean.addConfirmedUser}&quot; /&gt;绑定到UserBean的addConfirmedUser()方法。
 <br /> public String addConfirmedUser()
 <br /> {
 <br /> // This method would call a database or other service and add the confirmed user information.
 <br /> 
 <br /> System.out.println(&quot;Adding new user&quot;);
 <br /> return &quot;success&quot;;
 <br /> }
 <br /> 在faces-config.xml中绑定了&quot;revise&quot;&quot;success&quot;两个结果。
 <br /> &lt;navigation-rule&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;from-view-id&gt;/confirm.jsp&lt;/from-view-id&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;navigation-case&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;from-outcome&gt;success&lt;/from-outcome&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;to-view-id&gt;/done.jsp&lt;/to-view-id&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;/navigation-case&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;navigation-case&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;from-outcome&gt;revise&lt;/from-outcome&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;to-view-id&gt;/register.jsp&lt;/to-view-id&gt;
 <br /> &nbsp;&nbsp;&nbsp; &lt;/navigation-case&gt;
 <br /> &lt;/navigation-rule&gt;
 <br /> 单击confirm按钮将进入done.jsp页面，单击revise按钮将进入register.jsp页面。
 <br /> 7. UserBean.java======================================
 <br /> package com.jsfcompref.register;
</div> 
<div> 
</div> 
<div>
 import java.util.Date;
 <br /> import javax.faces.application.FacesMessage;
 <br /> import javax.faces.component.UIComponent;
 <br /> import javax.faces.context.FacesContext;
 <br /> import javax.faces.validator.ValidatorException;
</div> 
<div> 
</div> 
<div>
 public class UserBean 
 <br /> {
 <br /> String firstName;
 <br /> String lastName;
 <br /> Date dob;
 <br /> String gender;
 <br /> String email;
 <br /> String serviceLevel;
</div> 
<div> 
</div> 
<div>
 public UserBean()
 <br /> {
 <br /> }
</div> 
<div> 
</div> 
<div>
 public String getFirstName()
 <br /> {
 <br /> &nbsp;&nbsp;&nbsp; return firstName;
 <br /> }
</div> 
<div> 
</div> 
<div>
 public void setFirstName(String firstName)
 <br /> {
 <br /> &nbsp;&nbsp;&nbsp; this.firstName = firstName;
 <br /> }
</div> 
<div> 
</div> 
<div>
 public String getLastName()
 <br /> {
 <br /> &nbsp;&nbsp;&nbsp; return lastName;
 <br /> }
</div> 
<div> 
</div> 
<div>
 public void setLastName(String lastName)
 <br /> {
 <br /> &nbsp;&nbsp;&nbsp; this.lastName = lastName;
 <br /> }
</div> 
<div> 
</div> 
<div>
 public Date getDob()
 <br /> {
 <br /> &nbsp;&nbsp;&nbsp; return dob;
 <br /> }
</div> 
<div> 
</div> 
<div>
 public void setDob(Date dob)
 <br /> {
 <br /> &nbsp;&nbsp;&nbsp; this.dob = dob;
 <br /> }
</div> 
<div> 
</div> 
<div>
 public String getGender()
 <br /> {
 <br /> &nbsp;&nbsp;&nbsp; return gender;
 <br /> }
</div> 
<div> 
</div> 
<div>
 public void setGender(String gender)
 <br /> {
 <br /> &nbsp;&nbsp;&nbsp; this.gender = gender;
 <br /> }
</div> 
<div> 
</div> 
<div>
 public String getEmail()
 <br /> {
 <br /> &nbsp;&nbsp;&nbsp; return email;
 <br /> }
</div> 
<div> 
</div> 
<div>
 public void setEmail(String email)
 <br /> {
 <br /> &nbsp;&nbsp;&nbsp; this.email = email;
 <br /> }
</div> 
<div> 
</div> 
<div>
 public String getServiceLevel()
 <br /> {
 <br /> &nbsp;&nbsp;&nbsp; return serviceLevel;
 <br /> }
</div> 
<div> 
</div> 
<div>
 public void setServiceLevel(String serviceLevel)
 <br /> {
 <br /> &nbsp;&nbsp;&nbsp; this.serviceLevel = serviceLevel;
 <br /> }
</div> 
<div> 
</div> 
<div>
 <br /> public void validateEmail(FacesContext context, UIComponent toValidate,
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Object value) throws ValidatorException {
 <br /> &nbsp;&nbsp;&nbsp; String eMail = (String) value;
 <br /> &nbsp;&nbsp;&nbsp; if(eMail.indexOf(&quot;@&quot;)&lt;0) {
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FacesMessage message = new FacesMessage(&quot;Invalid email address&quot;);
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw new ValidatorException(message);
 <br /> &nbsp;&nbsp;&nbsp; }
 <br /> }
</div> 
<div> 
</div> 
<div>
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <br /> public String addConfirmedUser()
 <br /> {
 <br /> // This method would call a database or other service and add the confirmed user information.
 <br /> 
 <br /> System.out.println(&quot;Adding new user&quot;);
 <br /> return &quot;success&quot;;
 <br /> }
</div> 
<div> 
</div> 
<div>
 }
 <br /> 8. EmailValidator.java=============================
 <br /> 另一种定制验证方法是创建独立的Validator类，然后在faces-config.xml中注册。
 <br /> package com.jsfcompref.register;
</div> 
<div> 
</div> 
<div>
 import javax.faces.application.FacesMessage;
 <br /> import javax.faces.component.UIComponent;
 <br /> import javax.faces.context.FacesContext;
 <br /> import javax.faces.validator.Validator;
 <br /> import javax.faces.validator.ValidatorException;
</div> 
<div> 
</div> 
<div>
 public class EmailValidator implements Validator
</div> 
<div> 
</div> 
<div>
 // alternative custom validator Class instead of method...
 <br /> // currently not used in this app..
</div> 
<div> 
</div> 
<div>
 {
 <br /> public EmailValidator()
 <br /> {
 <br /> }
 <br /> 
 <br /> 
 <br /> &nbsp;&nbsp; public void validate(FacesContext context, UIComponent component, Object value)
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throws ValidatorException {
 <br /> &nbsp;&nbsp;&nbsp; if (null != value) {
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (!(value instanceof String)) {
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw new IllegalArgumentException(
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;The value must be a String&quot;);
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String email = (String) value;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (email.indexOf(&quot;@&quot;) &gt; 0) {
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw new ValidatorException(
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; new FacesMessage(&quot;Invalid Email Address&quot;));
 <br /> &nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
 <br /> &nbsp;&nbsp;&nbsp; }
 <br /> }
 <br /> &nbsp;&nbsp;&nbsp; 
 <br /> }
 <br /> ===========================================================
 <br /> hxzon
</div></div></body></html>