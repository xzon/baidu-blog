<html><head><title>v512视频-Java学习笔记（第十六章 线程）</title></head><body><div id='tit'>v512视频-Java学习笔记（第十六章 线程）</div><div id='cate'>j&middot;入门</div><div id='date'>2008年07月23日 星期三 11:52 P.M.</div><div id='page'>112</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/1af2cabfa12b960c18d81f3f.html'>http://hi.baidu.com/hxzon/blog/item/1af2cabfa12b960c18d81f3f.html</a><div id='cnt'><div> 
 <p>v512视频-Java学习笔记（第十六章 线程）</p> 
 <p><br /> ===============================================================================<br /> 第十三章 Swing基础</p> 
</div> 
<div> 
</div> 
<div>
  相关基本概念：Java基础类库、重量组件、轻量组件、可视化组件。
</div> 
<div> 
</div> 
<div>
  Swing组件根父类javax.swing.JComponent。 
 <br /> JFrame继承并扩充了java.awt.Frame类，实现了javax.swing.WindowConstants接口。 
 <br /> WindowConstants接口定义了用于控制窗口关闭操作的整型常量： 
 <br /> DO_NOTHING_ON_CLOSE、HIDE_ON_CLOSE、DISPOSE_ON_CLOSE、EXIT_ON_CLOSE。 
 <br /> Swing按钮、菜单、工具条。
</div> 
<div> 
</div> 
<div>
  标准对话框：javax.swing.JOptionPane 用于实现程序于用户的便携交互，。 
 <br /> 作用：向用户发出错误通知、警告/确认用户操作、接收用户输入简单信息、列举简单选择项供用户选取。
</div> 
<div> 
</div> 
<div>
  表格和书： 
 <br /> javax.swing.JTable用于以传统的表格形式来显示数据。 
 <br /> 表头：标题行，给出每一列（字段）的名称。 
 <br /> 表体：有多行多列、规则矩阵形式的单元格组成，真正的数据信息则显示在每个单元格中。 
 <br /> java.swing.JTree则是以&quot;树&quot;状结构分层次显示数据信息。
</div> 
<div> 
</div> 
<div>
  定时器：javax.swing.Timer提供了定时器功能——由于在指定的时间延时之后触发ActionEvent事件，以执行所需的处理逻辑。 
 <br /> 相关方法：setRepeats()、setInitialDelay()、stop()、restart()。
</div> 
<div> 
</div> 
<div>
 =============================================================================
 <br /> 第十四章 高级IO编程 
 <br /> 
 <br /> Java I/O原理：I/O（Input/Output）、数据源（Data Source）、数据宿（Data Sink）。 
 <br /> Java中把不同的数据源与程序间的数据传输都抽象表述为&quot;流&quot;（Stream），java.io包中定义了多种I/O流类型实现数据I/O功能。 
 <br /> I/O流分类：输入流（Input Stream）和输出流（Output Stream） 
 <br /> 节点流（Node Stream）和处理流（Processing Stream） 
 <br /> 字符流（Character Stream）和字节流（Byte Stream）
</div> 
<div> 
</div> 
<div>
  抽象类java.io.InputStream是所有字节输入流类型的父类，该类中定义了以字节为单位读取数据的基本方法，并在其子类中进行了分化和实现。 
 <br /> 抽象类java.io.OutputStream是所有字节输出流类型的父类。 
 <br /> 抽象类java.io.Reader是所有字符输入流类型的父类，其中声明了用于读取字符流的有关方法。 
 <br /> 抽象类java.io.Writer是所有字符输出流类型的父类。
</div> 
<div> 
</div> 
<div>
  常用I/O流类型： 
 <br /> FileInputStream/FileOutputStream 
 <br /> FileInputStream用于读取本地文件中字节数据。 
 <br /> FileOutputStream用于将字节数据写出到文件。 
 <br /> FileReader/FileWriter 
 <br /> FileReader用于以字符为单位读取文本文件。 
 <br /> FileWriter类用于将字符数据写出到文本文件中。 
 <br /> BufferedReader/BufferedWriter 
 <br /> BufferedReader用于缓冲读取字符。 
 <br /> BufferedWriter提供字符的缓冲写出功能。 
 <br /> InputStreamReader/OutputStreamWriter 
 <br /> PrintStream/PrintWriter 
 <br /> DataInputStream/DataOutputStream 
 <br /> CharArrayReader/CharArrayWriter
</div> 
<div> 
</div> 
<div>
  标准I/O重定向、属性信息导入/导出、随机 存取文件、临时文件
</div> 
<div> 
</div> 
<div>
  对象序列化： 
 <br /> 对象的持久性（Object Persistance）、对象序列化（Object Serialization） 
 <br /> 实现对象序列化：要序列化一个对象，其所属的类必须实现以下两种接口之以:java.io.Serializable、java.io.Externalizable。 
 <br /> java.io.ObjectOutputStream/ObjectInputStream类分别提供了对象的序列化和反序列化功能。 
 <br /> 对象序列化过程中的数据保护： 
 <br /> 标记性接口Serializable 
 <br /> 在对象序列化过程中，其所属类的static属性和方法代码不会被序列化对象。 
 <br /> 对于个别不希望被序列化的非static属性，可以在属性声明时使用transient关键字进行声明。
</div> 
<div> 
</div> 
<div>
  NIO： 
 <br /> NIO基础：缓冲区（Buffer）、通道（Channel）、字符集转换（Charset） 
 <br /> 高级NIO技术：子缓冲区和数据共享、只读缓冲区、内存映射文件、文件锁定
</div> 
<div> 
</div> 
<div>
 =======================================================================
 <br /> 第十五章 范型
</div> 
<div> 
</div> 
<div>
  泛型（Gernerics）：实质是将原来确定不变的数据类型参数化。 
 <br /> 泛型的好处：作为对原有java类型体系的扩充，使用泛型可以提高Java应用程序的类型安全，可维护性和可靠性。
</div> 
<div> 
</div> 
<div>
  集合框架中的泛型： 
 <br /> 创建集合容器时规定其允许保存的元素类型，然后由编译器负责添加元素的类型合法性检查，在取用集合元素时则不必再进行造型处理。 
 <br /> Vector&lt;String&gt; str = new Vector&lt;String&gt;();
</div> 
<div> 
</div> 
<div>
  类型通配符&quot;?&quot;：Vector&lt;?&gt; 
 <br /> 类型限制：class Point&lt;T extends Number&gt; 
 <br /> 
 <br /> ============================================================================ 
 <br /> 第十六章 线程
</div> 
<div> 
</div> 
<div>
  线程：一个程序内部的顺序控制流。
 <br /> Java的线程是通过java.lang.Thread类来实现的。 
 <br /> 每个线程都是通过某个特定Thread对象所对应的方法run()来完成其操作的，方法run()称为线程体。
 <br /> 
 <br /> 多线程：Java中引入线程机制的目的在于实现多线程（Multi-Thread）。
 <br /> 实现Runnable接口创建线程、直接继承Thread类创建线程。
</div> 
<div> 
</div> 
<div>
  后台线程：
 <br /> 后台处理（Background Processing）、后台线程（Background Thread/Daemon Thread）
 <br /> 用户线程（User Thread）、主线程（Main Thread）、子线程（Sub Thread）
 <br /> Thread类提供的相关方法：isDaemon()、setDaemon()
</div> 
<div> 
</div> 
<div>
  GUI线程：AWT-Windows线程、AWT-EventQueue-n线程、AWT-Shutdown线程
</div> 
<div> 
</div> 
<div>
  线程的生命周期：
 <br /> 新建状态、就绪状态、运行状态、阻塞状态、终止状态。
</div> 
<div> 
</div> 
<div>
  线程优先级：线程的优先级用数字来表示，范围从1到10。
 <br /> 主线程的缺省优先级是5，子线程的优先级于其父线程相同。
 <br /> Thread类提供的相关方法：getPriority()、setPriority()。
</div> 
<div> 
</div> 
<div>
  线程串行化：在多线程程序中，如果在一个线程运行的过程中要用到另一个线程的运行结果，则可进行线程的串行化处理。相关方法：join()。
 <br /> 线程休眠：暂停执行当前运行中的线程，使之进入阻塞状态，待经过指定的&quot;延迟时间&quot;后再醒来并转入到就绪状态。相关方法：sleep()。
 <br /> 线程让步：让运行中的线程主动放弃当前获得的CPU处理机会，但不是使该线程阻塞，而是使之转入就绪状态。相关方法：yield()。
 <br /> 线程挂起：暂时停止当前运行中的线程，使之转入阻塞状态，并且不会自动恢复运行。相关方法：suspend()。
 <br /> 线程恢复：使得一个已挂起的线程恢复运行。相关方法：resume()。
</div> 
<div> 
</div> 
<div>
  互斥锁：在Java语言中，引入了对象互斥锁，来保证共享数据操作的完整性。
 <br /> 关键字synchronized来与对象的互斥锁联系。当某个对象用synchronized修饰时，表明该对象在任一时刻只能由一个线程访问。
</div> 
<div> 
</div> 
<div>
  synchronized用法：
 <br /> 用于方法声明中，标明整个方法为同步方法：
 <br /> public synchronized void push(char c) {
 <br /> data[idx] = c;
 <br /> idx++;
 <br /> }
 <br /> 用于修饰语句块，标明整个语句块为同步块：
 <br /> public char pop() {
 <br /> synchronized(this) {
 <br /> idx--;
 <br /> return data[idx];
 <br /> }
 <br /> }
</div> 
<div> 
</div> 
<div>
  线程同步通信：为避免死锁，在线程进入阻塞状态时应尽量释放其他锁定的资源，以为其他的线程提供运行的机会。相关方法：wait()、notify()、notifyAll()。
 <br /> ==========================================================================
 <br /> 
 <br /> 第十七章 网络编程 
 <br /> 计算机网络的主要功能：资源共享、信息传输于集中处理、均衡负荷与分布处理、综合信息服务 
 <br /> 
 <br /> 计算机网络分类： 
 <br /> 按规模大小和延伸范围划分：局域网（LAN）、城域网（MAN）、广域网（WAN） 
 <br /> 按照网络的拓扑结构划分：环形网、星形网、总线型网等 
 <br /> 按照通信传输的介质来划分：双绞线网、同轴电缆网、光纤网、卫星网等 
 <br /> 按照信号频带占方式划分：基带网、宽带网 
 <br /> 计算机网络工作模式： 
 <br /> 专用服务器结构（Server-Based）、客户机/服务器模式（Client/Server）、对等式网络（Peer-to-Peer） 
 <br /> 网络通信协议：计算机网络中实现通信必须有一些约定即通信协议，对速率、传输代码、代码结构、传输控制步骤、出错控制等制定标准。 
 <br /> 网络通信接口：为了使两个结点之间能进行对话，必须在它们之间建立通信工具（即接口），使彼此之间能进行信息交换。 
 <br /> 接口包括两部分：硬件装置：实现结点之间的信息传送，软件装置：规定双方进行通信的约定协议。 
 <br /> 通信协议参考模型：应用层、表示层、会话层、传输层、网络层、数据链路层、物理层 
 <br /> 常用网络通信协议： 
 <br /> TCP（传输控制协议）/IP（网际协议）协议 
 <br /> HTTP协议（超文本传输协议） 
 <br /> FTP协议（文件传输协议） 
 <br /> SMTP协议（简单邮件传输协议） 
 <br /> POP3（邮局协议版本3）/IMAP（Internet消息访问协议）协议 
 <br /> IP地址、域名（Domain Address）、端口（Port） 
 <br /> 域名服务器（Domain Name Server） 
 <br /> TCP/IP协议约定，每台计算机有用65536个这种逻辑通信端口。 
 <br /> 端口好：用于标识这些端口的整数编号，其取值范围为0-65535。 
 <br /> 与IP地址/域名相关的类：java.net.InetAddress、java.net.Inet4Address、java.net.Inet6Address 
 <br /> URL：统一资源定位器，用于表示Internet上资源的地址。（URI 统一资源标识符） 
 <br /> 
 <a href="http://java.cs.tsinghua.edu.cn:8888/">http://java.cs.tsinghua.edu.cn:8888/</a> 
 <br /> java.net.URL类相关方法：openStream() 
 <br /> Socket编程（套接字）： 
 <br /> Socket通常用来实现Client/Server连接。 
 <br /> java.net包中定义的两个类Socket和SocketSocket，分别用来实现双向连接的client和server端。 
 <br /> 
 <br /> Server：ServerSocket s(port #) s.accept()/等待连接 -&gt; Socket() OutputStream/InputStream socket.close() 
 <br /> Client： Socket(host, port #) 主动发起连接 OutputStream/InputStream socket.close() 
 <br /> Socket编程基本步骤： 
 <br /> 1、建立网络连接； 
 <br /> 2、打开连接到Socket的输入/输出流； 
 <br /> 3、通过已打开的I/O流进行数据读/写操作； 
 <br /> 4、关闭已打开的I/O流和Socket。
</div> 
<div> 
</div> 
<div> 
 <p>=========================================================================</p> 
 <p> 第十八章 JDBC编程 <br /> 数据库（Data Base）： <br /> 数据库管理系统（DBMS）：Oracle、SQL Server、DB2 <br /> SQL语言：使用关系模型的数据库语言，用于和各类数据库的交互，提供通用的数据管理和查询功能。 <br /> 常用SQL指令：select、insert、delete、update、create、drop <br /> ODBC—开放式数据库互连： <br /> 数据库系统应用程序接口规范。 <br /> 支持应用程序以标准的ODBC函数和SQL语句操作各种不同类型的数据库。 <br /> JDBC—Java数据库连接： <br /> JDBC功能：支持基本SQL语句，在Java程序中实现数据库操作功能并简化操作过程。 <br /> 提供多样化的数据库连接方法 <br /> 为各种不同的数据库提供统一的操作界面 <br /> JDBC API：java.sql.DriverManager类、java.sql.Driver接口、java.sql.Connection接口、java.sql.Statement接口、java.sql.ResultSet接口 <br /> 数据库驱动程序（DataBase Driver）: <br /> JDBC驱动程序分类：JDBC-ODBC桥、Java到本地API、Java到网络协议、Java到数据库协议 <br /> 数据库URL： <br /> JDBC技术中使用数据库URL来标识目标数据库。 <br /> 数据库URL格式： jdbc:&lt;子协议名&gt;:&lt;子名称&gt; <br /> &quot;jdbc&quot;为协议名，确定不变； <br /> &lt;子协议名&gt;指定目标数据库的种类和具体连接方式； <br /> &lt;子名称&gt;指定具体的数据库/数据源连接信息（数据库服务器的IP地址/通信端口号、ODBC数据源名称、连接用户/密码等）； <br /> 子名称的格式和内容随子协议的不同而改变。 <br /> 例：jdbc:oracle:thin:@166.111.78.98:1521:ora9 <br /> jdbc:microsoft:sqlserver://127.0.0.1:1433;databasename=pubs <br /> JDBC编程基本步骤： <br /> 1、加载驱动程序（向系统注册所需的JDBC驱动程序）； <br /> 2、建议到指定数据库的连接； <br /> 3、提交数据库查询； <br /> 4、取得查询结果 <br /> <br /> import java.sql.DriverManager; <br /> import java.sql.Connection; <br /> import java.sql.Statement; <br /> import java.sql.ResultSet; <br /> import java.sql.SQLException; <br /> <br /> Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;); <br /> //System.setProperty(&quot;jdbc.drivers&quot;, &quot;oracle.jdbc.driver.OracleDriver&quot;); <br /> new oracle.jdbc.driver.OracleDriver(); <br /> String url = &quot;jdbc:oracle:thin:@127.0.0.1:1521:ora9&quot;; <br /> Connection conn = DriverManager.getConnection(url,&quot;scott&quot;,&quot;tiger&quot;); <br /> Statement stmt = conn.createStatement(); <br /> ResultSet rs = stmt.executeQuery(&quot;select * from dept&quot;); <br /> while(rs.next()){ <br /> System.out.print(&quot;DeptNo: &quot; + rs.getInt(1)); <br /> System.out.print(&quot;\tDeptName: &quot; + rs.getString(2)); <br /> System.out.println(&quot;\tLOC: &quot; + rs.getString(3)); <br /> } <br /> rs.close(); <br /> stmt.close(); <br /> conn.close(); <br /> 执行DML语句（executeUpdate()）、执行DDL语句（execute()）、获取数据库元数据（DatabaseMetaData、Sataement、ResultSetMetaData） <br /> 访问SQL Server数据库： <br /> 1、从微软网站下载JDBC驱动程序安装文件； <a href="http://www.microsoft.com/downloads/">http://www.microsoft.com/downloads/</a> <br /> 2、本地安装该驱动程序包； <br /> 3、重新设置CLASSPATH环境变量； <br /> Class.forName(&quot;com.microsoft.jdbc.sqlserver.SQLServerDriver&quot;);&nbsp;&nbsp; <br /> Connection con = DriverManager.getConnection <br /> (&quot;jdbc:microsoft:sqlserver://127.0.0.1:1433&quot;,&quot;sa&quot;,&quot;vic&quot;);&nbsp;&nbsp;&nbsp;&nbsp; <br /> Statement stmt = con.createStatement(); <br /> ResultSet rs&nbsp;&nbsp; = stmt.executeQuery(&quot;select * from mytable&quot;); <br /> while(rs.next()){ <br /> System.out.print(&quot;sid：&quot; + rs.getInt(1)); <br /> System.out.print(&quot;\tname：&quot; + rs.getString(2).trim()); <br /> System.out.print(&quot;\tsex：&quot; + rs.getString(3).trim()); <br /> System.out.println(); <br /> } <br /> rs.close(); <br /> stmt.close(); <br /> con.close(); <br /> JDBC-ODBC编程： <br /> JDBC驱动程序管理器并不直接操作数据库驱动程序，而是调用JDBC-ODBC桥驱动程序操纵ODBC驱动程序，进而连接各种类型的数据库。 <br /> 编程步骤：创建ODBC数据源； <br /> 在程序中连接并操作ODBC数据源 <br /> Class.forName(&quot;sun.jdbc.odbc.JdbcOdbcDriver&quot;); <br /> Connection con = DriverManager.getConnection(&quot;jdbc:odbc:test&quot;, &quot;&quot;, &quot;&quot;); <br /> Statement stmt = con.createStatement(); <br /> ResultSet rs&nbsp;&nbsp; = stmt.executeQuery(&quot;select * from table1&quot;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br /> while(rs.next()){ <br /> System.out.print(&quot;编号:&quot; + rs.getString(1)); <br /> System.out.print(&quot;\t姓名:&quot; + rs.getString(2)); <br /> System.out.print(&quot;\t性别:&quot; + rs.getString(3)); <br /> System.out.println(); <br /> } <br /> rs.close(); <br /> stmt.close(); <br /> con.close(); <br /> 使用属性文件配置环境： <br /> 将数据库连接信息（URL、用户名/密码等）保存到专门的属性文件中，而不在程序中直接给出。 <br /> #Oracle db info //建一个文件mydb.properties <br /> db_url = jdbc:oracle:thin:@127.0.0.1:1521:ora9 <br /> username = scott <br /> password = tiger&nbsp;&nbsp; <br /> //程序代码部分 <br /> Properties ps = new Properties(); <br /> FileInputStream fis = new FileInputStream(&quot;mydb.properties&quot;); <br /> ps.load(fis); <br /> fis.close(); <br /> String url = ps.getProperty(&quot;db_url&quot;); <br /> String username = ps.getProperty(&quot;username&quot;); <br /> String psw = ps.getProperty(&quot;password&quot;); <br /> Connection conn = DriverManager.getConnection(url,username,psw); <br /> ... <br /> OCI方式访问Oracle数据库： <br /> OCI方式连接时Oracle客户端配置： <br /> 1、使用Net Configuration Assistant <br /> 2、使用Net Manager图形化工具 <br /> 3、直接修改数据库配置文件&quot;tnsnames.ora&quot; <br /> 可滚动/可更新结果集： <br /> Connection接口中提供了重载方法createStatement()用于获取可滚动/可更新结果集。 <br /> 方法格式：Statement creatStatement(int type, int concurrency); <br /> 对于可滚动结果集，可以使用ResultSet接口中定义的方法进行遍历： <br /> next()、previous()、first()、last()、beforeFirst()、afterLast()、relative()、absolute()、getRow() <br /> 对于可更新结果集，可以使用ResultSet接口中定义的方法进行更新操作： <br /> updateXXX()、updateRow()、moveToInsertRow()、insertRow()、moveToCurrentRow()、deleteRow()、cancelRowUpdates() <br /> 预处理语句: <br /> java.sql.PreparedStatement接口提供了执行预编译SQL语句的功能，他继承了Statement接口。 <br /> Connection对象的prepareStatement(String sql)方法可创建并返回PreparedStatement对象。 <br /> PrepareStatement接口主要方法：setXXX()、executeQuery()、executeUpdate() <br /> <br /> 调用存储过程： <br /> java.sql.CallableStatement接口提供了调用数据库服务器端存储过程（Procedure）的功能，它继承了java.sql.PreparedStatement接口。 <br /> Connection对象的perpareCall(String sql)方法可创建并返回CallableStatement对象。 <br /> CallableStatement接口主要方法：setXXX()、execute()。 <br /> 例：DriverManager.getConnection(url,&quot;scott&quot;,&quot;tiger&quot;).prepareCall(&quot;{call MyProcedure(?,?,?)}&quot;); <br /> 事务处理： <br /> 和数据库中的事务管理模式相对应，JDBC中的Commection对象也可分为自动提交和非自动提交两种模式。 <br /> JDBC驱动程序的默认事务管理模式为&quot;自动提交&quot;。 <br /> Connection接口提供的事务处理相关方法：setAutoCommit()、getAutoCommit()、commit()、rollback() <br /> 事务回滚，事务中设置保存点（Savapoint）实现对数据库事务的进一步控制、即支持部分回滚功能。 <br /> java.sql.Savepoint接口表示数据库事务中的保存点。 <br /> 在Connetion对象的rollback()方法中可以对当前事务中的保存点进行引用，从而将事务回滚到该保存点。 <br /> <br /> 批处理（Batch Processing）： <br /> Statement接口提供的批处理相关方法：addBatch()、executeBatch()、clearBatch()。 <br /> ============================================================================= <br /> 第十九章 应用程序国际化 <br /> 国际化、本地化: <br /> 国际化中的Unicode编码。 <br /> 资源包（Resource Bundle）： <br /> 资源包命名格式：&lt;包名&gt;_&lt;语言代码&gt;_&lt;国家/地区代码&gt; <br /> 例：myRes_zh_CN MyLabels_en <br /> 资源包的两种表现形式：属性文件（*.properties）、资源绑定类（extends ListResourceBundle）</p> 
</div> 
<div> 
</div> 
<div> 
 <p> 消息格式化：java.text.MessageFormat类<br /> ===============================================================================</p> 
 <p>覆盖方法</p> 
 <p>覆盖方法不能使用比被覆盖方法更严格的访问权限。<br /> 覆盖方法不允许声明抛出比被覆盖方法范围更大的异常类型。</p> 
 <p>协变返回类型——覆盖方法时修改其返回类型，但必须是原来返回类型的子类型或实现类型。</p> 
 <p>静态导入（没什么用） import static somepackage.someclass.*<br /> 或者 import static somepackage.someclass.somestaticmember;<br /> 导入成员域或成员方法，从而省了类名。如Math.sin可写成sin。</p> 
 <p>可变参数方法<br /> myprint(String s,int i,Object... objs)必须是最后一个参数。</p> 
 <p>集合<br /> Collection(Set(HashSet,TreeSet), List(ArrayList,Vector(Stack)) )<br /> Map(HashMap, Hashtable(Properties), TreeMap)<br /> Enumeration(不常用)(StringTokenizer)<br /> java.util.Arrays<br /> java.util.Collections</p> 
 <p>线程（略）</p> 
 <p>JDBC编程（略）BLOB（二进制大对象）CLOB（文本大对象）</p> 
 <p>应用程序国际化<br /> 消息格式化</p> 
</div></div></body></html>