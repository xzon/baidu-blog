<html><head><title>数字自定义格式 -javacode</title></head><body><div id='tit'>数字自定义格式 -javacode</div><div id='cate'>j&middot;基础</div><div id='date'>2008年04月20日 星期日 01:51 P.M.</div><div id='page'>136</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/498cc9fc02df9487b801a01c.html'>http://hi.baidu.com/hxzon/blog/item/498cc9fc02df9487b801a01c.html</a><div id='cnt'><p>数字自定义格式 -javacode</p> 
<p><br /> 你可以使用<span class="hilite1">DecimalFormat</span>类来格式化十进制数字成指定地域的字符串。这个类使你可以控制最前和最后的零，前缀和后缀，组（千位）分隔符，和小数点。如果想要改变格式化符号，例如小数点，可以将 <span class="hilite1">DecimalFormat</span>Symbols和 <span class="hilite1">DecimalFormat</span> 类联合使用。这些类提供极大的便利性在格式化数字上，但是也会使代码更复杂。<br /> 下文使用例子演示了 <span class="hilite1">DecimalFormat</span> 和 <span class="hilite1">DecimalFormat</span>Symbols 类。本文中的代码是来自一个示例程序。<a target="_blank" href="http://java.sun.com/docs/books/tutorial/java/data/example-1dot1/DecimalFormatDemo.java"><font color="#bb000f"><code><font face="NSimsun"><span class="hilite1">DecimalFormat</span>Demo</font></code></font></a><a target="_blank" href="http://java.sun.com/docs/books/tutorial/java/data/example-1dot1/DecimalFormatDemo.java"><font face="NSimsun"><img border="0" alt="(in a .java source file)" align="middle" width="11" height="11" src="image/数字自定义格式 -javacode.ht.sourceIcon.gif" /><p class="origImg">http://java.sun.com/docs/books/tutorial/images/sourceIcon.gif</p></font></a><br /> <br /> 构造式样<br /> 使用一个式样String指定<span class="hilite1">DecimalFormat</span>的格式化属性。式样决定了被格式化的数字看起来的样子。式样语法的完整说明，参见<a href="http://java.sun.com/docs/books/tutorial/java/data/numberpattern.html">Number Format Pattern Syntax</a>。<br /> 下例通过将一个式样字符串传递给<span class="hilite1">DecimalFormat</span>构建器建立了一个格式化器。format方法接受一个double值作为参数并以String返回一个格式化好的数字。<br /> <br /> <span class="hilite1">DecimalFormat</span> myFormatter = new <span class="hilite1">DecimalFormat</span>(pattern);<br /> String output = myFormatter.format(value);<br /> System.out.println(value + &quot; &quot; + pattern + &quot; &quot; + output);</p> 
<p>上面的代码的输出位于下表。值是将被格式化的数字，一个double。式样是确定格式化属性的String。输出是String，代表了已格式化的数字。</p> 
<p> </p>
<table border="1"> 
 <caption> 
  <h3><code><font face="NSimsun"><span class="hilite1">DecimalFormat</span>Demo程序的输出</font></code></h3> 
 </caption> 
 <tbody> 
  <tr> 
   <th><code><font face="NSimsun">值</font></code></th> 
   <th><code><font face="NSimsun">式样</font></code></th> 
   <th><code><font face="NSimsun">输出</font></code></th> 
   <th>解释说明</th> 
  </tr> 
  <tr> 
   <td>123456.789</td> 
   <td>###,###.###</td> 
   <td>123,456.789</td> 
   <td>井号(#)表示一位数字，逗号是用于分组分隔符的占位符，点是小数点的占位符。</td> 
  </tr> 
  <tr> 
   <td>123456.789</td> 
   <td>###.##</td> 
   <td>123456.79</td> 
   <td>小数点的右面，值有三位，但是式样只有两位。format方法通过四舍五入处理。</td> 
  </tr> 
  <tr> 
   <td>123.78</td> 
   <td>000000.000</td> 
   <td>000123.780</td> 
   <td>式样指定了最前和最后的零，因为使用0字符，而不是井号(#)。</td> 
  </tr> 
  <tr> 
   <td>12345.67</td> 
   <td>$###,###.###</td> 
   <td>$12,345.67</td> 
   <td>式样中的第一个字符是美元符号($)。注意它紧接着已格式化的输出的最左的数字的前面。</td> 
  </tr> 
  <tr> 
   <td>12345.67</td> 
   <td>\u00A5###,###.###</td> 
   <td>&yen;12,345.67</td> 
   <td>式样指定了货币符号日元 (&yen;) 使用 Unicode 00A5。</td> 
  </tr> 
 </tbody> 
</table>  
<p>=====================================================================</p> 
<p>import java.text.DecimalFormat;</p> 
<p>public class Untitled1 {<br /> &nbsp;&nbsp;&nbsp; public Untitled1() {<br /> &nbsp;&nbsp;&nbsp; }<br /> &nbsp;&nbsp;&nbsp; public static void main(String[] args) {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; double&nbsp;&nbsp; value&nbsp;&nbsp; =&nbsp;&nbsp; 22.363834;<br /> DecimalFormat&nbsp;&nbsp; df&nbsp;&nbsp; =&nbsp;&nbsp; new&nbsp;&nbsp; DecimalFormat(&quot;0.000&quot;);&nbsp;&nbsp; //四舍五入<br /> value&nbsp;&nbsp; =&nbsp;&nbsp; Double.parseDouble(df.format(value));//写成000.000达不到022.364的效果<br /> System.out.println(value);<br /> &nbsp;&nbsp;&nbsp; }<br /> }</p></div></body></html>