<html><head><title>Sliding Doors of CSS</title></head><body><div id='tit'>Sliding Doors of CSS</div><div id='cate'>交互设计</div><div id='date'>2009年10月09日 星期五 03:47 P.M.</div><div id='page'>28</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/a88d64d0ea26d885a0ec9cbe.html'>http://hi.baidu.com/hxzon/blog/item/a88d64d0ea26d885a0ec9cbe.html</a><div id='cnt'><h1 class="title"><a href="http://www.alistapart.com/articles/slidingdoors/">Sliding Doors of CSS</a></h1> 
<p><a href="http://www.alistapart.com/articles/slidingdoors">http://www.alistapart.com/articles/slidingdoors</a></p> 
<div> 
 <p>A rarely discussed advantage of CSS is the ability to <em>layer</em> background images, allowing them to <em>slide</em> over each other to create certain effects. CSS2’s current state requires a separate HTML element for each background image. In many cases, typical markup for common interface components has already provided several elements for our use.</p> 
 <p>One of those cases is tabbed navigation. It’s time to take back control over the tabs which are continually growing in popularity as a primary means of site navigation. Now that CSS is widely supported, we can crank up the quality and appearance of the tabs on our sites. You’re most likely aware that CSS can be used to <a title="Taming Lists with CSS" href="http://www.alistapart.com/articles/taminglists/">tame a plain unordered list</a>. Maybe you’ve even seen lists styled as tabs, looking something like this:</p> 
 <p><img alt="[Ordinary example of CSS-based tabs, using flat colors and squared-off corners.]" src="image/Sliding Doors of CSS.tabex1.gif" width="228" height="34" /><p class="origImg">http://www.alistapart.com/d/slidingdoors/tabex1.gif</p></p> 
 <p>What if we could take <strong>the exact same markup</strong> from the tabs above, and turn them into something like this:</p> 
 <p><img alt="[Stylized tabs using rounded corners and subtle three-dimensional shading.]" src="image/Sliding Doors of CSS.tabex2.gif" width="228" height="35" /><p class="origImg">http://www.alistapart.com/d/slidingdoors/tabex2.gif</p></p> 
 <p>With simple styling, <strong>we can</strong>.</p> 
 <h2>Where’s the Innovation?</h2> 
 <p>Many of the CSS-based tabs I’ve seen suffer from the same generic features: blocky rectangles of color, maybe an outline, a border disappears for the current tab, a color changes for the hover state. Is this all CSS can offer us? A bunch of boxes and flat colors?</p> 
 <p>Prior to a more widespread adoption of CSS, we started seeing a lot of innovation in navigation design. Creative shapes, masterful color blending, and mimicry of physical interfaces from the real world. But these designs often relied heavily on a complex construction of text-embedded images, or were wrapped with multiple nested tables. Editing text or changing tab order involved a cumbersome process. Text resizing was impossible, or caused significant problems with page layout.</p> 
 <p>Pure text navigation is much easier to maintain and loads more quickly than text-as-image navigation. Also, even though we can add <code><font face="NSimsun">alt</font></code> attributes to each image, pure text is even <em>more</em> accessible since it can be resized by users with impaired vision. It’s no wonder that pure text-based navigation, styled with CSS, is leaping back into web design. But most CSS-based tab design so far is a step back in appearance from what we used to do — certainly nothing to be included in a design portfolio. A newly adopted technology (like CSS) should allow us to create something <strong>better</strong>, without losing the design quality of previous table hacks and all-image-based tabs.</p> 
 <h2>The Sliding Doors Technique</h2> 
 <p>Beautifully crafted, truly flexible interface components which expand and contract with the size of the text can be created if we use two separate background images. One for the left, one for the right. Think of these two images as <em>Sliding Doors</em> that complete one doorway. The doors slide together and overlap more to fill a narrow space, or slide apart and overlap less to fill a wider space, as the diagram below shows:</p> 
 <p><img alt="[Diagram shows two sets of doors. The first set is pushed together to take up less space. The second set is spaced apart to occupy a wider space.]" src="image/Sliding Doors of CSS.diagram_doors.gif" width="250" height="25" /><p class="origImg">http://www.alistapart.com/d/slidingdoors/diagram_doors.gif</p></p> 
 <p>With this model, one image covers up a portion of the other. Assuming we have something unique on the outside of each image, like the rounded-corner of a tab, we don’t want the image in front to <em>completely</em> obscure the image behind it. To prevent this from happening, we make the image in front (left-side for this example) as narrow as possible. But we keep it just wide enough to reveal that side’s uniqueness. If the outside corners are rounded, we should make the front image only as wide as the curved portion of the image:</p> 
 <p><img alt="[Diagram shows an isolated narrow left-side image with rounded top-left corner, then repeats that same image placed in front of a right-side image with a rounded right-side corner.]" src="image/Sliding Doors of CSS.diagram_doors2.gif" width="250" height="25" /><p class="origImg">http://www.alistapart.com/d/slidingdoors/diagram_doors2.gif</p></p> 
 <p>If the object grows any larger than the width shown above, due to differing text or type size changes, the images will get pulled apart, creating an ugly gap. We need to make an arbitrary judgment about the amount of expansion we’ll accommodate. How large do we think the object might grow as text is resized in the browser? Realistically, we should account for the possibility of our tab text increasing by at least 300%. We need to expand the background images to compensate for that growth. For these examples we’ll make the back image (right-side) 400x150 pixels, and the front image 9x150 pixels.</p> 
 <p>Keep in mind that background images only show in the available “doorway” of the element to which they’re applied (content area + padding). The two images are anchored to the outside corners of their respective elements. The visible portions of these background images fit together inside the doorway to form a tab-like shape:</p> 
 <p><img alt="[Diagram shows both images with extra height added to the bottom. The right-side image also has extra width added to the left. The only portions which remain visible fit together perfectly to form the illustion of a tab-like shape.]" src="image/Sliding Doors of CSS.diagram_doors3.gif" width="250" height="75" /><p class="origImg">http://www.alistapart.com/d/slidingdoors/diagram_doors3.gif</p></p> 
 <p>If the tab is forced to a larger size, the images slide apart, filling a wider doorway, revealing more of each image:</p> 
 <p><img alt="[Diagram shows the two images pulled apart slightly to create a wider tab, as well as a slightly taller vertical height to reveal more of each image. Since both background images have allowances for expansion, the the illusion is that the tab itself expanded naturally with the text contained inside.]" src="image/Sliding Doors of CSS.diagram_doors4.gif" width="250" height="75" /><p class="origImg">http://www.alistapart.com/d/slidingdoors/diagram_doors4.gif</p></p> 
 <p>For this example, I used Photoshop to create two smooth, slightly three-dimensional, custom tab images shown at the beginning of this article. For one of the tabs, the fill was lightened and the border darkened — the lighter version will be used to represent the “current” tab. Given this technique’s model for left and right tab images, we need to expand coverage area of the tab image, and cut it into two pieces:</p> 
 <p><img alt="[Left- and right-side images]" src="image/Sliding Doors of CSS.tab_images.gif" width="250" height="150" /><p class="origImg">http://www.alistapart.com/d/slidingdoors/tab_images.gif</p></p> 
 <p>The same thing needs to happen with the lighter current tab image. Once we have all four images created, (<a title="Left-side tab image" href="http://www.alistapart.com/d/slidingdoors/v1/norm_left.gif">1</a>, <a title="Right-side tab image" href="http://www.alistapart.com/d/slidingdoors/v1/norm_right.gif">2</a>, <a title="Left-side image for current tab" href="http://www.alistapart.com/d/slidingdoors/v1/norm_left_on.gif">3</a>, <a title="Right-side image for current tab" href="http://www.alistapart.com/d/slidingdoors/v1/norm_right_on.gif">4</a>) we can jump into the markup and CSS for our tabs.</p> 
 <h2>Tab Creation</h2> 
 <p>As you explore the creation of horizontal lists with CSS, you’ll notice at least two methods for arranging a group of items into one row. Each comes with its own benefits and drawbacks. Both require dealing with rather funky aspects of CSS which quickly become confusing. One uses the inline box, the other uses floats.</p> 
 <p>The <strong>First Method</strong> — and possibly the more common — is to change the display of each list item to “<code><font face="NSimsun">inline</font></code>”. The inline method is attractive for its simplicity. However, the inline method causes a few rendering problems in certain browsers for the <em>Sliding Doors</em> technique we’re going to discuss. The <strong>Second Method</strong>, which is the one we’ll focus on, uses <em>floats</em> to place each list item in a horizontal row. Floats can be equally frustrating. Their seemingly inconsistent behavior circumvents all natural logic. Still, a basic understanding of how to deal with multiple floated elements, and the means to reliably “break out” of floats (or contain them) can achieve wonders.</p> 
 <p>We’re going to nest several floated elements within another containing floated element. We do this so that the outer parent float completely wraps around the floats inside. This way, we’re able to add a background color and/or image behind our tabs. It’s important to remember that the next element following our tabs needs to reset its own position by using the CSS <code><font face="NSimsun">clear</font></code> property. This prevents the floated tabs from affecting the position of other page elements.</p> 
 <p>Let’s begin with the following markup:</p> 
 <pre>&lt;div id=&quot;header&quot;&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;
      &lt;li id=&quot;current&quot;&gt;&lt;a href=&quot;#&quot;&gt;News&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#&quot;&gt;Products&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#&quot;&gt;About&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#&quot;&gt;Contact&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;</pre> 
 <p>In reality, the #header <code><font face="NSimsun">div</font></code> might also contain a logo and a search box. For our example, we’ll shorten the <code><font face="NSimsun">href</font></code> value in each anchor. Obviously, these values would normally contain file or directory locations.</p> 
 <p>We begin styling our list by floating the <code><font face="NSimsun">#header</font></code> container. This helps ensure the container actually “contains” the list items inside which will also be floated. Since the element is floated, we also need to assign it a width of 100%. A temporary yellow background is added to ensure this parent stretches to fill the entire area behind the tabs. We also set some default text properties, ensuring everything inside will be the same:</p> 
 <pre>#header {
    float:left;
    width:100%;
    background:yellow;
    font-size:93%;
    line-height:normal;
    }</pre> 
 <p>For now, we also set all of the default margin/padding values of the unordered list and list items to “0”, and remove the list item marker. Each list item gets floated to the left:</p> 
 <pre>#header ul {
    margin:0;
    padding:0;
    list-style:none;
    }
  #header li {
    float:left;
    margin:0;
    padding:0;
    }</pre> 
 <p>We set the anchors to block-level elements so we can control all aspects without worrying about the inline box:</p> 
 <pre>#header a {
    display:block;
    }</pre> 
 <p>Next, we add our right-side background image to the list item (changes/additions are <strong>bolded</strong>):</p> 
 <pre>#header li {
    float:left;
    <strong>background:url(&quot;norm_right.gif&quot;)
      no-repeat right top;</strong>
    margin:0;
    padding:0;
    }</pre> 
 <p>Before adding the left-side image, we pause so we can see what we have so far in <a href="http://www.alistapart.com/d/slidingdoors/v1/ex1.html">Example 1</a>. (In the example file, ignore the rule I’ve applied to the <code><font face="NSimsun">body</font></code>. It only sets up basic values for margin, padding, colors, and text.)</p> 
 <p>- - -</p> 
 <p>Now we can place the left-side image in front of the right by applying it to the anchor (our inner element). We add padding at the same time, expanding the tab and pushing the text away from the tab edges:</p> 
 <pre>#header a {
    display:block;
    <strong>background:url(&quot;norm_left.gif&quot;)
      no-repeat left top;
    padding:5px 15px;</strong>
    }</pre> 
 <p>This gives us <a href="http://www.alistapart.com/d/slidingdoors/v1/ex2.html">Example 2</a>. Note how our tabs have begun to take shape. At this point, a word of acknowledgement to confused IE5/Mac users, who are wondering, “What’s going on here? The tabs are stacked vertically and stretch across the entire screen.” Don’t worry, we’ll get to you soon. For now, do your best to follow along, or temporarily switch to another browser if one is handy, and be assured we’ll fix the IE5/Mac issue shortly.</p> 
 <p>- - -</p> 
 <p>Now that we have the background images in place for normal tabs, we need to change the images used for the “current” tab. We do this by targeting the list item which contains <code><font face="NSimsun">id=&quot;current&quot;</font></code> and the anchor inside it. Since we don’t need to alter any other aspects of the background, other than the image, we use the <code><font face="NSimsun">background-image</font></code> property:</p> 
 <pre><strong>  #header #current {
    background-image:url(&quot;norm_right_on.gif&quot;);
    }
  #header #current a {
    background-image:url(&quot;norm_left_on.gif&quot;);
    }</strong></pre> 
 <p>We need some kind of border along the bottom of our tabs. But applying a <code><font face="NSimsun">border</font></code> property to the parent <code><font face="NSimsun">#header</font></code> container won’t allow us to “bleed” the current tab through this border. Instead, we create a new image with the border we want included along the bottom of the image. While we’re at it, we also add a subtle gradient so it looks like this:</p> 
 <p><img src="image/Sliding Doors of CSS.bg.gif" width="20" height="45" /><p class="origImg">http://www.alistapart.com/d/slidingdoors/v1/bg.gif</p></p> 
 <p>We apply that image to the background of our <code><font face="NSimsun">#header</font></code> container (instead of the yellow color we had), push the background image to the bottom of the element, and use a background color matching the top of this new image. At the same time, we remove the padding from the <code><font face="NSimsun">body</font></code> element I originally inserted for us, and apply 10 pixels of padding to the top, left, and right sides of the <code><font face="NSimsun">ul</font></code>:</p> 
 <pre>#header {
    float:left;
    width:100%;
    <strong>background:#DAE0D2 url(&quot;bg.gif&quot;)
      repeat-x bottom;</strong>
    font-size:93%;
    line-height:normal;
    }
  #header ul {
    margin:0;
    <strong>padding:10px 10px 0;</strong>
    list-style:none;
    }</pre> 
 <p>To complete the tab effect, we need to bleed the current tab through the border, as mentioned above. You might think we would apply bottom borders to our tabs matching the border color in the <code><font face="NSimsun">#header</font></code> background image we just added, then change the border color to white for the current tab. However, doing this would result in a tiny “step” visible to pixel-precision eyes. Instead, if we alter the padding of the anchors, we can create perfectly squared-off corners inside the current tab, as the magnified example below shows:</p> 
 <p><img alt="[Enlargement of two tab versions, the first showing the tiny 1-pixel step from using the bottom border, the second showing a perfect 90-degree angle.]" src="image/Sliding Doors of CSS.diagram_corners.gif" width="250" height="50" /><p class="origImg">http://www.alistapart.com/d/slidingdoors/diagram_corners.gif</p></p> 
 <p>We do this by decreasing the bottom padding of the normal anchor by 1 pixel (5px - 1px = 4px), then adding that pixel back to the current anchor:</p> 
 <pre>#header a {
    display:block;
    background:url(&quot;norm_left.gif&quot;)
      no-repeat left top;
    <strong>padding:5px 15px 4px;</strong>
    }
  #header #current a {
    background-image:url(&quot;norm_left_on.gif&quot;);
    <strong>padding-bottom:5px;</strong>
    }</pre> 
 <p>The change allows the bottom border to show through for normal tabs, but hides it for the current tab. This brings our code up to <a href="http://www.alistapart.com/d/slidingdoors/v1/ex3.html">Example 3</a>.</p> 
 <h2>Finishing Touches</h2> 
 <p>Keen eyes may have noticed white tab corners showing up in the previous example. These opaque corners are currently preventing the image in the back from showing through the left corner of the image in front. In theory, we could attempt to match the corners of the tab images with a portion of the background behind them. But our tabs can grow in height, which pushes the background behind them lower, shifting the background color we tried to match. Instead, we change the images, making the corners of our tabs transparent. If the curves are anti-aliased, we matte the edges to an average of the background color behind them.</p> 
 <p>Now that the corners are transparent, a piece of the right-side image shows through the corner of the left-side image. To compensate for this, we add a small amount of left padding to the list item equivalent to the width of the left-side image (9px). Since padding was added to the list item, we need to remove that same amount from the anchor to keep the text centered (15px - 9px = 6px):</p> 
 <pre>#header li {
    float:left;
    background:url(&quot;right.gif&quot;)
      no-repeat right top;
    margin:0;
    <strong>padding:0 0 0 9px;</strong>
    }
  #header a {
    display:block;
    background:url(&quot;left.gif&quot;)
      no-repeat left top;
    <strong>padding:5px 15px 4px 6px;</strong>
    }</pre> 
 <p>However, we can’t leave it at that either, because our left-side image now gets pushed away from the left tab edge by the 9 pixels of padding we just added. Now that the inner edges of the left and right visible doorways butt up against each other, we no longer need to keep the left image in the front. So we can switch the order of the two background images, applying them to opposite elements. We also need to swap the images used for the current tab:</p> 
 <pre>#header li {
    float:left;
    background:url(&quot;<strong>left.gif</strong>&quot;)
      no-repeat left top;
    margin:0;
    padding:0 0 0 9px;
    }
  #header a, #header strong, #header span {
    display:block;
    background:url(&quot;<strong>right.gif</strong>&quot;)
      no-repeat right top;
    padding:5px 15px 4px 6px;
    }
  #header #current {
    background-image:url(&quot;<strong>left_on.gif</strong>&quot;);
    }
  #header #current a {
    background-image:url(&quot;<strong>right_on.gif</strong>&quot;);
    padding-bottom:5px;
    }</pre> 
 <p>Once we do this, we arrive at <a href="http://www.alistapart.com/d/slidingdoors/v1/ex4.html">Example 4</a>. Note that the tweaks required to make the corners transparent creates a small dead space on the left side of the tab where it’s not clickable. The dead space is outside the text area, but it <em>is</em> slightly noticeable. Using transparent images for each side of our tabs is not required. If we prefer not to have the small dead space, we need to use a flat color behind the tabs, then use this color in the corner of our tab images instead of making them transparent. We’ll keep the new transparent corners for now.</p> 
 <p>- - -</p> 
 <p>For the remaining tweaks, we make a slew of changes all at once: bold all tab text, change normal tab text to a brown color, make current tab text a dark gray color, remove link underlines, and change the text color for the link hover state to the same dark gray. We see all additions and changes so far represented in <a href="http://www.alistapart.com/d/slidingdoors/v1/ex5.html">Example 5</a>.</p> 
 <h2>One Hack for Consistency</h2> 
 <p>After Example 2, we acknowledged a problem with IE5/Mac where each tab stretched across the entire browser width, forcing each one to stack vertically on top of each other. Not quite the effect we were intending.</p> 
 <p>In most browsers, floating an element will act sort of like shrink-wrapping it — it gets shrunk to the smallest possible size of the contents it contains. If a floated element contains (or is) an image, the float will shrink to the width of the image. If it contains only text, the float will shrink to the width of the longest non-wrapping line of text.</p> 
 <p>A problem enters the picture for IE5/Mac when an auto-width block-level element is inserted into a floated element. Other browsers still shrink the float as small as possible, regardless of the block-level element it contains. But IE5/Mac doesn’t shrink the float in this circumstance. Instead, it expands the float and block-level element to full available width. To work around this problem, we need to float the anchor also, but only for IE5/Mac, lest we throw off other browsers. First we’ll set the existing rule to float the anchor. Then we’ll use the <a title="Commented Backslash Hack, explained" href="http://www.sam-i-am.com/work/sandbox/css/mac_ie5_hack.html">Commented Backslash Hack</a> to hide a new rule from IE5/Mac which removes the float for all other browsers:</p> 
 <pre>#header a {
    <strong>float:left;</strong>
    display:block;
    background:url(&quot;right.gif&quot;)
      no-repeat right top;
    padding:5px 15px 4px 6px;
    text-decoration:none;
    font-weight:bold;
    color:#765;
    }
  <strong>/* Commented Backslash Hack
     hides rule from IE5-Mac \*/
  #header a {float:none;}
  /* End IE5-Mac hack */</strong></pre> 
 <p>IE5/Mac browsers should now display the tabs as intended, according to <a href="http://www.alistapart.com/d/slidingdoors/v1/ex6.html">Example 6</a>. Nothing should have changed for non-IE5/Mac browsers. Note that IE5.<strong>0</strong>/Mac suffers from a lot of rendering bugs that were fixed in the upgrade to IE5.<strong>1</strong>. Because of this, the <em>Sliding Doors</em> technique suffers in version 5.0 beyond a point I’m willing to hack. Since the upgrade to IE5.1/Mac has been readily available for some time now, the percentage of OS 9 Macs still running IE5.0 should be tapering off to almost nothing.</p> 
 <h2>Variations</h2> 
 <p>We just walked through the <em>Sliding Doors</em> technique for creating tabbed navigation with pure text, marked up with an unordered list of links, altered with a few custom styles. It loads fast, is simple to maintain, and text within can be scaled up or down significantly in size without breaking the design. Need we mention how flexible the technique can be for creating <em>any</em> type of sophisticated-looking navigation?</p> 
 <p>Use of this technique is only limited by our imagination. <a title="Final example (Version 1)" href="http://www.alistapart.com/d/slidingdoors/v1/v1.html">Our final example</a> represents just one possibility. But we shouldn’t let an example place boundaries on our ideas.</p> 
 <p>For instance, tabs aren’t required to be symmetrical. I quickly created <a title="Final example (Version 2)" href="http://www.alistapart.com/d/slidingdoors/v2/v2.html">Version 2</a> of these tabs, which avoids the shaded 3-D look in favor of flat colors, angular edges, and a wider and more detailed left-side. We can even switch the order of left/right images, depending on the design, as Version 2 shows. With some careful planning and clever image manipulation, the bottom border could be abandoned in favor of matching the tab images with the background running behind them, as shown in my Deco-inspired <a title="Final example (Version 3)" href="http://www.alistapart.com/d/slidingdoors/v3/v3.html">Version 3</a>. If your browser supports alternate style sheet switching, you can even view <a title="Master file enabling switching between all three versions" href="http://www.alistapart.com/d/slidingdoors/final_tabs.html">this master file</a>, and switch between the three different versions by alternating between style sheets.</p> 
 <p>Other effects we don’t cover here could be added on top of this technique. In the example I ran through, I changed the text color for the hover state, but entire images could be swapped out to create interesting rollover effects. Wherever two nested HTML elements already exist in the markup, CSS can be used to layer background images for effects we haven’t even begun to imagine yet. We created a horizontal row of tabs in this example, but <em>Sliding Doors</em> could be used in a many other situations. What can <strong>you</strong> do with it?</p> 
 <dl class="trans">
  <dt>
   Translations
  </dt>
  <dd>
   <a href="http://www.gdesign.it/pages/howto/articoli/slidcss/slidcss.php">Italian</a> (gdesign.it)
  </dd>
  <dd>
   <a href="http://www.id-as.com/arts/ala/slidingdoors/">Russian</a> (id-as.com)
  </dd>
 </dl>
</div> 
<div> 
 <h2>Learn More</h2> 
 <p>Related Topics: <a title="CSS" href="http://www.alistapart.com/topics/topic/css/">CSS</a>, <a title="HTML and XHTML" href="http://www.alistapart.com/topics/topic/htmlxhtml/">HTML and XHTML</a>, <a title="User Interface Design" href="http://www.alistapart.com/topics/topic/userinterfacedesign/">User Interface Design</a></p> 
</div> 
<div class="discuss"> 
 <h2>Discuss</h2> 
 <p>Was it good for you, too? <a href="http://www.alistapart.com/comments/slidingdoors/">Join the discussion &raquo;</a></p> 
</div> 
<div> 
 <h2>About the Author</h2> 
 <p><img alt="Douglas Bowman" src="image/Sliding Doors of CSS.bowman_66x51.jpg" /><p class="origImg">http://www.alistapart.com/pix/authors/bowman_66x51.jpg</p> Founder and principal of <a href="http://www.stopdesign.com/">Stopdesign</a>, Douglas Bowman specializes in simple, clean, forward-thinking design. He constantly challenges and pushes the limits of what’s possible using web standards. Douglas was the grand architect behind the well-known redesign of <a href="http://www.wired.com/">Wired</a>.</p> 
</div></div></body></html>