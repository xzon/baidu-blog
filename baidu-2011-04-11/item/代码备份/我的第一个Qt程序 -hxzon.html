<html><head><title>我的第一个Qt程序 -hxzon</title></head><body><div id='tit'>我的第一个Qt程序 -hxzon</div><div id='cate'>代码备份</div><div id='date'>2009年04月11日 星期六 01:10 A.M.</div><div id='page'>57</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/ed3d5fee347031f3b2fb95b4.html'>http://hi.baidu.com/hxzon/blog/item/ed3d5fee347031f3b2fb95b4.html</a><div id='cnt'><p>我的第一个Qt程序 -hxzon</p> 
<p>官网下载安装Qt，安装后1.90G。安装挺费时。<br /> 敲入源码，其中有一些是自动生成好的。<br /> #include &lt;QtGui/QApplication&gt;</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0; qt-user-state: 0">#include &lt;QString&gt;</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0; qt-user-state: 0">#include &lt;QLabel&gt;</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0; qt-user-state: 0">#include &lt;QWidget&gt;</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0; qt-user-state: 0">#include &lt;QDebug&gt;</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0; qt-user-state: 0">#include &lt;QTextStream&gt;</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0; qt-user-state: 0">//#include &quot;mainwindow.h&quot;</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0; qt-paragraph-type: empty"> </p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0; qt-user-state: 0">int main(int argc, char *argv[])</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0; qt-user-state: 256">{</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0; qt-user-state: 256">QApplication a(argc, argv);</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0; qt-user-state: 256">QWidget wid;</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0; qt-user-state: 256">qDebug()&lt;&lt;&quot;sizeof widget:&quot;&lt;&lt;sizeof(wid)</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0; qt-user-state: 256">&lt;&lt;&quot;sizeof qapplication:&quot;&lt;&lt;sizeof(a);</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0; qt-user-state: 256">QString message;</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0; qt-user-state: 256">QTextStream buf(&amp;message);</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0; qt-user-state: 256">buf&lt;&lt;&quot;\n a qWidget is&quot;&lt;&lt;sizeof(wid)</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0; qt-user-state: 256">&lt;&lt;&quot;bytes. \n qObject is&quot;&lt;&lt;sizeof(QObject)</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0; qt-user-state: 256">&lt;&lt;&quot;bytes. \n qApplication is&quot;&lt;&lt;sizeof(a)</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0; qt-user-state: 256">&lt;&lt;&quot;bytes.&quot;;</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0; qt-user-state: 256">qDebug()&lt;&lt;message;</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0; qt-user-state: 256">QLabel label(message);</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0; qt-user-state: 256">label.show();</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0; qt-user-state: 256">//MainWindow w;</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0; qt-user-state: 256">//w.show();</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0; qt-user-state: 256">return a.exec();</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0; qt-user-state: 0">}</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0; qt-paragraph-type: empty">-------------<br /> 编写pro工程文件。不过qt开发工具自动生成了。<br /> #-------------------------------------------------</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0">#</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0"># Project created by QtCreator 2009-04-11T00:28:45</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0">#</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0">#-------------------------------------------------</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0; qt-paragraph-type: empty"> </p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0">TARGET = myFirst</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0">TEMPLATE = app</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0; qt-paragraph-type: empty"> </p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0; qt-paragraph-type: empty"> </p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0">SOURCES += main.cpp\</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0">mainwindow.cpp</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0; qt-paragraph-type: empty"> </p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0">HEADERS += mainwindow.h</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0; qt-paragraph-type: empty"> </p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0">FORMS += mainwindow.ui<br /> --------------------------------------<br /> 其中本例用到的其实就3句即可，</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0">TARGET = myFirst</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0">TEMPLATE = app</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0; qt-paragraph-type: empty"> </p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0; qt-paragraph-type: empty"> </p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0">SOURCES += main.cpp\</p> 
<p style="margin: 0px; text-indent: 0px; qt-block-indent: 0"><br /> 生成工程，运行，ok。<br /> 在没有装Qt的机子上运行，提示找不到dll文件。<br /> 将对应的dll文件拷贝过去，可以运行。但是dll文件大得惊人，其中一个71兆，而小的也很小，15k。<br /> 本例子，将exe及所需dll文件打包后13.4兆。</p></div></body></html>