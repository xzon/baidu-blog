<html><head><title>Non-terminating decimal expansion; no exact representable decimal result</title></head><body><div id='tit'>Non-terminating decimal expansion; no exact representable decimal result</div><div id='cate'>出错&middot;经验</div><div id='date'>2011年02月12日 星期六 05:29 P.M.</div><div id='page'>2</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/b4946109e4b9badc3ac76326.html'>http://hi.baidu.com/hxzon/blog/item/b4946109e4b9badc3ac76326.html</a><div id='cnt'><div>
 Non-terminating decimal expansion; no exact representable decimal result
</div> 
<div>
 &nbsp;
</div> 
<div>
 BigDecimal除法运算报错，错误如下：
 <br />Non-terminating decimal expansion; no exact representable decimal result
</div> 
<div>
 &nbsp;
</div> 
<div>
 原因是：
</div> 
<div>
 &nbsp;
</div> 
<div>
 BigDecimal divide(BigDecimal divisor, int scale, int roundingMode)
</div> 
<div>
 &nbsp;
</div> 
<div>
 if divisor is zero, roundingMode==ROUND_UNNECESSARY and the specified scale is insufficient to represent the result of the division exactly
 <br />所以应该指定scale和roundingMode，保证对于无限小数有足够的范围来表示结果。
</div> 
<div>
 &nbsp;
</div> 
<div>
 应用场景：一批中供客户的单价是1000元/年，如果按月计算的话1000/12=83.3333333333....
</div> 
<div>
 &nbsp;
</div> 
<div>
 解决之道：就是给divide设置精确的小数点divide(xxxxx,2, BigDecimal.ROUND_HALF_EVEN) 
 <br />
</div></div></body></html>