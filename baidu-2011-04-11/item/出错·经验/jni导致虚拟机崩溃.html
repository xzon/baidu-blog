<html><head><title>jni导致虚拟机崩溃</title></head><body><div id='tit'>jni导致虚拟机崩溃</div><div id='cate'>出错&middot;经验</div><div id='date'>2009年09月02日 星期三 05:12 P.M.</div><div id='page'>33</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/c289db54a4967851d00906e9.html'>http://hi.baidu.com/hxzon/blog/item/c289db54a4967851d00906e9.html</a><div id='cnt'><p>jni导致虚拟机崩溃</p> 
<p>1，&nbsp;&nbsp;<br /> char buf[MAX_GOOSE_FIELD_LEN];<br /> (*env)-&gt;ReleaseStringChars(env, entry1value, (jchar*) buf);<br /> 释放了非jni产生的数组，虚拟机不确定性的崩溃。</p> 
<p>2，<br /> // (*env)-&gt;DeleteLocalRef(env,fid);<br /> // (*env)-&gt;DeleteLocalRef(env,mid);<br /> 最后这两句，导致虚拟机必然崩溃。尚不知原因。</p></div></body></html>