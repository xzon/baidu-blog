<html><head><title>FCKeditor2.6 for JSP 配置方法</title></head><body><div id='tit'>FCKeditor2.6 for JSP 配置方法</div><div id='cate'>动手</div><div id='date'>2008年08月11日 星期一 02:10 P.M.</div><div id='page'>109</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/72b8cefc79f78afbfc037f8e.html'>http://hi.baidu.com/hxzon/blog/item/72b8cefc79f78afbfc037f8e.html</a><div id='cnt'><p style="text-indent: 2em">FCKeditor2.6 for JSP 配置方法</p> 
<p style="text-indent: 2em">2008-04-22 14:58</p> 
<p style="text-indent: 2em"> </p>
<table> 
 <tbody> 
  <tr> 
   <td> <p> </p> <p style="text-indent: 2em">1、首先登陆<a href="http://www.fckeditor.net/download"><font color="#6aa50d">www.fckeditor.net/download</font></a>下载FCKeditor的最新版本，需要下载2个压缩包，一个是基本应用，另一个是在为在jsp下所准备的配置。</p> <p style="text-indent: 2em">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FCKeditor 2.6 下载地址：<a href="http://sourceforge.net/project/downloading.php?group_id=75348&amp;filename=FCKeditor_2.6b.zip"><font color="#6aa50d">sourceforge.net/project/downloading.php</font></a></p> <p style="text-indent: 2em">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FCKeditor.Java 下载地址：<a href="http://sourceforge.net/project/downloading.php?group_id=75348&amp;use_mirror=jaist&amp;filename=FCKeditor-2.3.gz.tar&amp;21055595"><font color="#6aa50d">sourceforge.net/project/downloading.php</font></a></p> <p style="text-indent: 2em">下载之后分别为：<a href="http://sourceforge.net/project/downloading.php?group_id=75348&amp;filename=FCKeditor_2.6b.zip"><font color="#6aa50d">FCKeditor_2.6.zip</font></a> 和 <a href="http://sourceforge.net/project/downloading.php?group_id=75348&amp;use_mirror=jaist&amp;filename=FCKeditor-2.3.gz.tar&amp;21055595"><font color="#6aa50d">FCKeditor-2.3.zip</font></a> 将它们分别解压。</p> <p style="text-indent: 2em">2、首先在Eclipse下建立一个新项目例如：test&nbsp;&nbsp;&nbsp; 即<a href="http://localhost:8080/test"><font color="#6aa50d">http://localhost:8080/test</font></a></p> <p style="text-indent: 2em">&nbsp;&nbsp;&nbsp;&nbsp; 在项目中新建文件夹 FCKeditor，然后将解压后的FCKeditor_2.6下fckeditor里面的editor、fckconfig.js、fckeditor.js、fckstyles.xml、fcktemplates.xml拷贝到FCKeditor目录下</p> <p style="text-indent: 2em">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 将解压后的FCKeditor-2.3文件夹中web/WEB-INF/lib下的包拷贝到test项目的lib中。</p> <p style="text-indent: 2em">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 将FCKeditor-2.3文件夹下src下的FCKeditor.tld拷贝到test项目的WEB-INF下。</p> <p style="text-indent: 2em">3、修改WEB-INF下的web.xml， 如下：</p> <p style="text-indent: 2em">&nbsp;&nbsp;&nbsp;&nbsp; &lt;servlet&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;servlet-name&gt;Connector&lt;/servlet-name&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;servlet-class&gt;com.fredck.FCKeditor.connector.ConnectorServlet&lt;/servlet-class&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;init-param&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;param-name&gt;baseDir&lt;/param-name&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;param-value&gt;/UserFiles/&lt;/param-value&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/init-param&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;init-param&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;param-name&gt;debug&lt;/param-name&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;param-value&gt;true&lt;/param-value&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/init-param&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &lt;/servlet&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &lt;servlet&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;servlet-name&gt;SimpleUploader&lt;/servlet-name&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;servlet-class&gt;com.fredck.FCKeditor.uploader.SimpleUploaderServlet&lt;/servlet-class&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;init-param&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;param-name&gt;baseDir&lt;/param-name&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;param-value&gt;/UserFiles/&lt;/param-value&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/init-param&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;init-param&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;param-name&gt;debug&lt;/param-name&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;param-value&gt;true&lt;/param-value&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/init-param&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;init-param&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;param-name&gt;enabled&lt;/param-name&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;param-value&gt;true&lt;/param-value&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/init-param&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;init-param&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;param-name&gt;AllowedExtensionsFile&lt;/param-name&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;param-value&gt;&lt;/param-value&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/init-param&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;init-param&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;param-name&gt;DeniedExtensionsFile&lt;/param-name&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;param-value&gt;php|php3|php5|phtml|asp|aspx|ascx|jsp|cfm|cfc|pl|bat|exe|dll|reg|cgi&lt;/param-value&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/init-param&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;init-param&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;param-name&gt;AllowedExtensionsImage&lt;/param-name&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;param-value&gt;jpg|gif|jpeg|png|bmp&lt;/param-value&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/init-param&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;init-param&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;param-name&gt;DeniedExtensionsImage&lt;/param-name&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;param-value&gt;&lt;/param-value&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/init-param&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;init-param&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;param-name&gt;AllowedExtensionsFlash&lt;/param-name&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;param-value&gt;swf|fla&lt;/param-value&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/init-param&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;init-param&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;param-name&gt;DeniedExtensionsFlash&lt;/param-name&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;param-value&gt;&lt;/param-value&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/init-param&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp; &lt;/servlet&gt;</p> <p style="text-indent: 2em">&lt;servlet-mapping&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp;&nbsp; &lt;servlet-name&gt;Connector&lt;/servlet-name&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp;&nbsp; &lt;url-pattern&gt;/FCKeditor/editor/filemanager/browser/default/connectors/jsp/connector&lt;/url-pattern&gt;</p> <p style="text-indent: 2em">&lt;/servlet-mapping&gt;</p> <p style="text-indent: 2em">&lt;servlet-mapping&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp;&nbsp; &lt;servlet-name&gt;SimpleUploader&lt;/servlet-name&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp;&nbsp; &lt;url-pattern&gt;/FCKeditor/editor/filemanager/upload/simpleuploader&lt;/url-pattern&gt;</p> <p style="text-indent: 2em">&lt;/servlet-mapping&gt;</p> <p style="text-indent: 2em">&lt;taglib&gt; <br /> &lt;taglib-uri&gt;/FCKeditor&lt;/taglib-uri&gt; <br /> &lt;taglib-location&gt;/WEB-INF/FCKeditor.tld&lt;/taglib-location&gt; <br /> &lt;/taglib&gt;</p> <p style="text-indent: 2em">4、修改FCKeditor文件夹下的fckeditor.js</p> <p style="text-indent: 2em">&nbsp;&nbsp;&nbsp;&nbsp; 修改第50行的FCKeditor.BasePath。</p> <p style="text-indent: 2em">改之后：</p> <p style="text-indent: 2em">50 FCKeditor.BasePath = 'FCKeditor/' ;</p> <p style="text-indent: 2em">5、修改FCKeditor文件夹下的fckconfig.js</p> <p style="text-indent: 2em">&nbsp;&nbsp;&nbsp;&nbsp; 修改FCKConfig.DefaultLanguage、FCKConfig.LinkBrowserURL、FCKConfig.ImageBrowserURL、FCKConfig.FlashBrowserURL、</p> <p style="text-indent: 2em">改之后：</p> <p style="text-indent: 2em">FCKConfig.DefaultLanguage&nbsp;&nbsp; = 'zh-cn' ;</p> <p style="text-indent: 2em">FCKConfig.LinkBrowserURL = FCKConfig.BasePath + &quot;filemanager/browser/default/browser.html?Connector=connectors/jsp/connector&quot; ;</p> <p style="text-indent: 2em">FCKConfig.ImageBrowserURL = FCKConfig.BasePath + &quot;filemanager/browser/default/browser.html?Type=Image&amp;Connector=connectors/jsp/connector&quot; ;</p> <p style="text-indent: 2em">FCKConfig.FlashBrowserURL = FCKConfig.BasePath + &quot;filemanager/browser/default/browser.html?Type=Flash&amp;Connector=connectors/jsp/connector&quot; ;</p> <p style="text-indent: 2em">FCKConfig.LinkUploadURL = FCKConfig.BasePath + 'filemanager/upload/simpleuploader?Type=File' ;</p> <p style="text-indent: 2em">FCKConfig.ImageUploadURL = FCKConfig.BasePath + 'filemanager/upload/simpleuploader?Type=Image' ;</p> <p style="text-indent: 2em">FCKConfig.FlashUploadURL = FCKConfig.BasePath + 'filemanager/upload/simpleuploader?Type=Flash' ;</p> <p style="text-indent: 2em">6、default.jsp内容如下：</p> <p style="text-indent: 2em">&lt;%@ page contentType=&quot;text/html; charset=gb2312&quot; language=&quot;java&quot; import=&quot;java.sql.*&quot; errorPage=&quot;&quot; %&gt;</p> <p style="text-indent: 2em">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;<a href="http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><font color="#6aa50d">http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd</font></a>&quot;&gt;</p> <p style="text-indent: 2em">&lt;html xmlns=&quot;<a href="http://www.w3.org/1999/xhtml"><font color="#6aa50d">http://www.w3.org/1999/xhtml</font></a>&quot;&gt;</p> <p style="text-indent: 2em">&lt;head&gt;</p> <p style="text-indent: 2em">&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=gb2312&quot; /&gt;</p> <p style="text-indent: 2em">&lt;title&gt;FCKeditor测试&lt;/title&gt;</p> <p style="text-indent: 2em">&lt;script type=&quot;text/javascript&quot; src=&quot;FCKeditor/fckeditor.js&quot;&gt;&lt;/script&gt;</p> <p style="text-indent: 2em">&lt;/head&gt;</p> <p style="text-indent: 2em">&lt;body&gt;</p> <p style="text-indent: 2em">&lt;form id=&quot;form1&quot; name=&quot;form1&quot; method=&quot;post&quot; action=&quot;default_do.jsp&quot;&gt;</p> <p style="text-indent: 2em">&lt;table width=&quot;100%&quot; border=&quot;0&quot;&gt;</p> <p style="text-indent: 2em">&lt;tr&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp;&nbsp; &lt;td height=&quot;25&quot;&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;textarea name=&quot;contest&quot; id=&quot;contest&quot; style=&quot;width:100%; height:400px;&quot;&gt;&lt;/textarea&gt;</p> <p style="text-indent: 2em">&lt;script type=&quot;text/javascript&quot;&gt;</p> <p style="text-indent: 2em">var oFCKeditor = new FCKeditor( 'contest' ) ;</p> <p style="text-indent: 2em">//oFCKeditor.BasePath = 'FCKeditor/' ;</p> <p style="text-indent: 2em">oFCKeditor.ToolbarSet = 'Default' ;</p> <p style="text-indent: 2em">oFCKeditor.Width = '100%' ;</p> <p style="text-indent: 2em">oFCKeditor.Height = '400' ;</p> <p style="text-indent: 2em">oFCKeditor.Value = '' ;</p> <p style="text-indent: 2em">oFCKeditor.ReplaceTextarea();</p> <p style="text-indent: 2em">//oFCKeditor.Create() ;</p> <p style="text-indent: 2em">&lt;/script&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;input type=&quot;submit&quot; name=&quot;Submit&quot; value=&quot;提交&quot; /&gt;</p> <p style="text-indent: 2em">&nbsp;&nbsp;&nbsp; &lt;/td&gt;</p> <p style="text-indent: 2em">&lt;/tr&gt;</p> <p style="text-indent: 2em">&lt;/table&gt;</p> <p style="text-indent: 2em">&lt;/form&gt;</p> <p style="text-indent: 2em">&lt;/body&gt;</p> <p style="text-indent: 2em">&lt;/html&gt;</p> <p style="text-indent: 2em">7、default_do.jsp内容如下：</p> <p style="text-indent: 2em">&lt;%@ page contentType=&quot;text/html; charset=gb2312&quot; language=&quot;java&quot; import=&quot;java.sql.*&quot; errorPage=&quot;&quot; %&gt;</p> <p style="text-indent: 2em">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;<a href="http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><font color="#6aa50d">http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd</font></a>&quot;&gt;</p> <p style="text-indent: 2em">&lt;html xmlns=&quot;<a href="http://www.w3.org/1999/xhtml"><font color="#6aa50d">http://www.w3.org/1999/xhtml</font></a>&quot;&gt;</p> <p style="text-indent: 2em">&lt;head&gt;</p> <p style="text-indent: 2em">&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=gb2312&quot; /&gt;</p> <p style="text-indent: 2em">&lt;title&gt;FCKeditor测试接收结果&lt;/title&gt;</p> <p style="text-indent: 2em">&lt;/head&gt;</p> <p style="text-indent: 2em">&lt;body&gt;</p> <p style="text-indent: 2em">&lt;%</p> <p style="text-indent: 2em">&nbsp;&nbsp;&nbsp; String contest = new String(request.getParameter(&quot;contest&quot;).getBytes(&quot;ISO8859_1&quot;), &quot;GB2312&quot;);</p> <p style="text-indent: 2em">out.print(contest);</p> <p style="text-indent: 2em">%&gt;</p> <p style="text-indent: 2em">&lt;/body&gt;</p> <p style="text-indent: 2em">&lt;/html&gt;</p> <p style="text-indent: 2em">最后测试：<a href="http://localhost:8080/test/default.jsp"><font color="#6aa50d">http://localhost:8080/test/default.jsp</font></a></p> <p style="text-indent: 2em">图1：</p> <p style="text-indent: 2em"><img src="image/FCKeditor2.6 for JSP.93454e0660bda46b020881e3.jpg" border="0" /><p class="origImg">http://hiphotos.baidu.com/%CA%C0%BD%E7%CE%DD%BC%B9/pic/item/93454e0660bda46b020881e3.jpg</p></p> <p style="text-indent: 2em"> </p> <p style="text-indent: 2em">图2：</p> <p style="text-indent: 2em"><img src="image/FCKeditor2.6 for JSP.d66efd54563e3c48d10906aa.jpg" border="0" /><p class="origImg">http://hiphotos.baidu.com/%CA%C0%BD%E7%CE%DD%BC%B9/pic/item/d66efd54563e3c48d10906aa.jpg</p></p> </td> 
  </tr> 
 </tbody> 
</table></div></body></html>