<html><head><title>GridBagLayout布局管理器—实现左右选择框 -javacode</title></head><body><div id='tit'>GridBagLayout布局管理器—实现左右选择框 -javacode</div><div id='cate'>复用代码</div><div id='date'>2009年07月10日 星期五 05:26 P.M.</div><div id='page'>42</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/779b5a60bf5614d68cb10dd6.html'>http://hi.baidu.com/hxzon/blog/item/779b5a60bf5614d68cb10dd6.html</a><div id='cnt'><p>GridBagLayout布局管理器—实现左右选择框 -javacode</p> 
<p>package hxzon.ui;</p> 
<p>import java.awt.Dimension;<br /> import java.awt.GridBagConstraints;<br /> import java.awt.GridBagLayout;<br /> import java.awt.event.ActionEvent;<br /> import java.awt.event.ActionListener;</p> 
<p>import javax.swing.BorderFactory;<br /> import javax.swing.DefaultListModel;<br /> import javax.swing.JButton;<br /> import javax.swing.JFrame;<br /> import javax.swing.JLabel;<br /> import javax.swing.JList;<br /> import javax.swing.JPanel;<br /> import javax.swing.JTextField;<br /> import javax.swing.UIManager;<br /> import javax.swing.UnsupportedLookAndFeelException;</p> 
<p>public class GridBagFrame extends JFrame {</p> 
<p>JPanel mainPanel = new JPanel();<br /> JButton add = new JButton();<br /> JButton left = new JButton();<br /> JButton right = new JButton();<br /> JLabel label = new JLabel();<br /> JTextField field = new JTextField();<br /> DefaultListModel leftModel = new DefaultListModel();<br /> DefaultListModel rightMOdel = new DefaultListModel();<br /> JList leftList = new JList(leftModel);<br /> JList rightList = new JList(rightMOdel);</p> 
<p>JPanel left_Right_Panel = new JPanel();</p> 
<p>public GridBagFrame() {<br /> &nbsp;&nbsp; this.setTitle(&quot;test&quot;);<br /> &nbsp;&nbsp; this.setPreferredSize(new Dimension(600, 400));<br /> &nbsp;&nbsp; this.initComponent();<br /> &nbsp;&nbsp; this.addData();<br /> &nbsp;&nbsp; this.setVisible(true);<br /> &nbsp;&nbsp; this.pack();<br /> }</p> 
<p>/**<br /> * 初始化组件<br /> */<br /> private void initComponent() {</p> 
<p>&nbsp;&nbsp; label.setText(&quot;添加选项：&quot;);<br /> &nbsp;&nbsp; add.setText(&quot;添加&quot;);<br /> &nbsp;&nbsp; leftList.setPreferredSize(new Dimension(150, 150));<br /> &nbsp;&nbsp; rightList.setPreferredSize(leftList.getPreferredSize());<br /> &nbsp;&nbsp; left.setText(&quot;左&quot;);<br /> &nbsp;&nbsp; right.setText(&quot;右&quot;);<br /> &nbsp;&nbsp; mainPanel.setBorder(BorderFactory.createTitledBorder(&quot;左右选择框&quot;));<br /> &nbsp;&nbsp; mainPanel.setLayout(new GridBagLayout());</p> 
<p>&nbsp;&nbsp; GridBagConstraints c = new GridBagConstraints();</p> 
<p>&nbsp;&nbsp; c.gridx = 0; // 0行0列<br /> &nbsp;&nbsp; c.gridy = 0;<br /> &nbsp;&nbsp; c.gridwidth = 1;<br /> &nbsp;&nbsp; c.gridheight = 1;<br /> &nbsp;&nbsp; c.fill = GridBagConstraints.HORIZONTAL;<br /> &nbsp;&nbsp; c.weightx = 0;<br /> &nbsp;&nbsp; c.weighty = 0;<br /> &nbsp;&nbsp; mainPanel.add(label, c);</p> 
<p>&nbsp;&nbsp; c.gridx++;<br /> &nbsp;&nbsp; c.weightx = 1;<br /> &nbsp;&nbsp; mainPanel.add(field, c);</p> 
<p>&nbsp;&nbsp; c.gridx++;<br /> &nbsp;&nbsp; c.weightx = 0;<br /> &nbsp;&nbsp; c.gridwidth = 1;<br /> &nbsp;&nbsp; c.gridheight = 1;<br /> &nbsp;&nbsp; // c.fill = GridBagConstraints.HORIZONTAL;<br /> &nbsp;&nbsp; mainPanel.add(add, c);</p> 
<p>&nbsp;&nbsp; c.gridx = 0;<br /> &nbsp;&nbsp; c.gridy = 1;<br /> &nbsp;&nbsp; c.weightx = 1;<br /> &nbsp;&nbsp; c.weighty = 1;<br /> &nbsp;&nbsp; c.gridwidth = 2;<br /> &nbsp;&nbsp; c.gridheight = 2;<br /> &nbsp;&nbsp; c.fill = GridBagConstraints.BOTH;<br /> &nbsp;&nbsp; mainPanel.add(leftList, c);</p> 
<p>&nbsp;&nbsp; c.gridx = 2;<br /> &nbsp;&nbsp; c.gridy = 1;<br /> &nbsp;&nbsp; c.gridwidth = 1;<br /> &nbsp;&nbsp; c.gridheight = 1;<br /> &nbsp;&nbsp; c.weightx = 0;<br /> &nbsp;&nbsp; c.weighty = 0.5;<br /> &nbsp;&nbsp; c.anchor = GridBagConstraints.SOUTH;<br /> &nbsp;&nbsp; c.fill = GridBagConstraints.HORIZONTAL;<br /> &nbsp;&nbsp; mainPanel.add(left, c);</p> 
<p>&nbsp;&nbsp; c.gridx = 2;<br /> &nbsp;&nbsp; c.gridy = 2;<br /> &nbsp;&nbsp; c.anchor = GridBagConstraints.NORTH;<br /> &nbsp;&nbsp; c.fill = GridBagConstraints.HORIZONTAL;<br /> &nbsp;&nbsp; mainPanel.add(right, c);</p> 
<p>&nbsp;&nbsp; c.gridx = 3;<br /> &nbsp;&nbsp; c.gridy = 1;<br /> &nbsp;&nbsp; c.gridwidth = 1;<br /> &nbsp;&nbsp; c.gridheight = 2;<br /> &nbsp;&nbsp; c.weightx = 1;<br /> &nbsp;&nbsp; c.weighty = 1;<br /> &nbsp;&nbsp; c.fill = GridBagConstraints.BOTH;<br /> &nbsp;&nbsp; mainPanel.add(rightList, c);</p> 
<p>&nbsp;&nbsp; this.getContentPane().add(mainPanel);</p> 
<p>}</p> 
<p>private void addData() {<br /> &nbsp;&nbsp; add.addActionListener(new ActionListener() {<br /> &nbsp;&nbsp;&nbsp; // @Override<br /> &nbsp;&nbsp;&nbsp; public void actionPerformed(ActionEvent e) {<br /> &nbsp;&nbsp;&nbsp;&nbsp; // TODO Auto-generated method stub<br /> &nbsp;&nbsp;&nbsp;&nbsp; addItem();<br /> &nbsp;&nbsp;&nbsp; }</p> 
<p>&nbsp;&nbsp; });</p> 
<p>&nbsp;&nbsp; left.addActionListener(new ActionListener() {<br /> &nbsp;&nbsp;&nbsp; // @Override<br /> &nbsp;&nbsp;&nbsp; public void actionPerformed(ActionEvent e) {<br /> &nbsp;&nbsp;&nbsp;&nbsp; // TODO Auto-generated method stub<br /> &nbsp;&nbsp;&nbsp;&nbsp; leftItem();<br /> &nbsp;&nbsp;&nbsp; }</p> 
<p>&nbsp;&nbsp; });</p> 
<p>&nbsp;&nbsp; right.addActionListener(new ActionListener() {<br /> &nbsp;&nbsp;&nbsp; // @Override<br /> &nbsp;&nbsp;&nbsp; public void actionPerformed(ActionEvent e) {<br /> &nbsp;&nbsp;&nbsp;&nbsp; // TODO Auto-generated method stub<br /> &nbsp;&nbsp;&nbsp;&nbsp; rightItem();<br /> &nbsp;&nbsp;&nbsp; }</p> 
<p>&nbsp;&nbsp; });<br /> }</p> 
<p>/**<br /> * 增加项<br /> */<br /> private void addItem() {<br /> &nbsp;&nbsp; if (field.getText() != null &amp;&amp; !field.getText().equals(&quot;&quot;)) {<br /> &nbsp;&nbsp;&nbsp; ((DefaultListModel) leftList.getModel())<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .addElement(field.getText());<br /> &nbsp;&nbsp;&nbsp; field.setText(&quot;&quot;);<br /> &nbsp;&nbsp; }<br /> }</p> 
<p>/**<br /> * 左移项<br /> */<br /> private void leftItem() {<br /> &nbsp;&nbsp; if (rightList.getSelectedIndex() != -1) {<br /> &nbsp;&nbsp;&nbsp; Object o = rightList.getSelectedValue();<br /> &nbsp;&nbsp;&nbsp; ((DefaultListModel) rightList.getModel()).remove(rightList<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .getSelectedIndex());<br /> &nbsp;&nbsp;&nbsp; ((DefaultListModel) leftList.getModel()).addElement(o);<br /> &nbsp;&nbsp; }<br /> }</p> 
<p>/**<br /> * 右移项<br /> */<br /> private void rightItem() {<br /> &nbsp;&nbsp; if (leftList.getSelectedIndex() != -1) {<br /> &nbsp;&nbsp;&nbsp; Object o = leftList.getSelectedValue();<br /> &nbsp;&nbsp;&nbsp; ((DefaultListModel) leftList.getModel()).remove(leftList<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .getSelectedIndex());<br /> &nbsp;&nbsp;&nbsp; ((DefaultListModel) rightList.getModel()).addElement(o);<br /> &nbsp;&nbsp; }</p> 
<p>}</p> 
<p>public static void main(String args[]) {<br /> &nbsp;&nbsp; try {<br /> &nbsp;&nbsp;&nbsp; UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());<br /> &nbsp;&nbsp; } catch (ClassNotFoundException e) {<br /> &nbsp;&nbsp;&nbsp; // TODO Auto-generated catch block<br /> &nbsp;&nbsp;&nbsp; e.printStackTrace();<br /> &nbsp;&nbsp; } catch (InstantiationException e) {<br /> &nbsp;&nbsp;&nbsp; // TODO Auto-generated catch block<br /> &nbsp;&nbsp;&nbsp; e.printStackTrace();<br /> &nbsp;&nbsp; } catch (IllegalAccessException e) {<br /> &nbsp;&nbsp;&nbsp; // TODO Auto-generated catch block<br /> &nbsp;&nbsp;&nbsp; e.printStackTrace();<br /> &nbsp;&nbsp; } catch (UnsupportedLookAndFeelException e) {<br /> &nbsp;&nbsp;&nbsp; // TODO Auto-generated catch block<br /> &nbsp;&nbsp;&nbsp; e.printStackTrace();<br /> &nbsp;&nbsp; }<br /> &nbsp;&nbsp; GridBagFrame frame = new GridBagFrame();<br /> }</p> 
<p>}</p></div></body></html>