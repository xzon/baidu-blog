<html><head><title>Python语法小全</title></head><body><div id='tit'>Python语法小全</div><div id='cate'>异域</div><div id='date'>2008年04月05日 星期六 10:52 P.M.</div><div id='page'>142</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/6c45c81b517c06feae51337e.html'>http://hi.baidu.com/hxzon/blog/item/6c45c81b517c06feae51337e.html</a><div id='cnt'><p>Python语法小全</p> 
<p>以 #! 开头的称为组织行，这行告诉你的Linux/Unix系统当你 <dfn>执行</dfn> 你的程序的时候，它应该运行哪个解释器。例如：<code class="comment"><font face="NSimsun">#!/usr/bin/python<br /> <br /> 以 # 开头的称为注释行。<br /> <br /> </font></code>数的4种类型：整数、长整数、浮点数和复数。<br /> <br /> <strong><br /> 字符串</strong>：单引号（‘）和双引号（&quot;）的作用相同，转义符是（\），以三引号（如：'''或者&quot;&quot;&quot;）括起来的字符串中可以直接使用任意多个单引号（‘）和双引号（&quot;）而无需转义符（\）。<br /> <br /> <strong>自然字符串</strong>：在字符串前加R（或r）指示某些不需要如转义符那样的特别处理的字符串，如：print R“Hello\n World”，将直接输出“Hello\n World”而不会出现换行的情况。<br /> <br /> <strong>Unicode字符串</strong>：在字符串前加U（或u）。<br /> <br /> <strong>缩进</strong>：Python没有类似 Begin……End 的语句来标识语句块，它依靠缩进来标识语句块，因此错误的缩进将会导致解释程序报错。<br /> <br /> <strong>运算符与表达式</strong>：基本上与其它语言相类似，只是有以下几点不同。<br /> <strong>x*y</strong>：乘法。2 * 3得到6。'la' * 3得到'lalala'。<br /> <strong>x**y</strong>：幂运算，返回 x 的 y 次幂。<br /> <strong>x/y</strong>：x 除以 y，4/3得到1（整数的除法得到整数结果）。4.0/3或4/3.0得到1.3333333333333333。<br /> <strong>x//y</strong>：取整除。返回商的整数部分。4 // 3.0得到1.0。<br /> <br /> <strong>控制流语句</strong>：<br /> <font face="NSimsun"><code><strong>if-elif-else</strong>：(Python 没有 switch-case 语句，可以通过 if 语句配合字典完成同样的工作)<br /> if something == 1:<br /> &nbsp;&nbsp;&nbsp; doSomething1()<br /> elif something == 2:<br /> &nbsp;&nbsp;&nbsp; doSomething2()<br /> else:<br /> &nbsp;&nbsp;&nbsp; doSomething3()<br /> <br /> <strong>while-else</strong>:<br /> while something:<br /> &nbsp;&nbsp;&nbsp; doSomething1()<br /> else:<br /> &nbsp;&nbsp;&nbsp; doSomething2()<br /> <br /> <strong>for-else</strong>:<br /> </code><code class="key">for </code><code>i </code><code class="key">in </code><code class="func">range</code><code>(</code><code class="func">1</code><code>, </code><code class="func">10, 2</code><code>):&nbsp;&nbsp; # i 值从 1 到 10，步长为2</code><br /> <code class="key">&nbsp;&nbsp;&nbsp;&nbsp; print </code><code>i</code><br /> <code class="key">else</code><code>:</code><br /> <code class="key">&nbsp;&nbsp;&nbsp;&nbsp; print </code></font><font face="NSimsun"><code class="cite">'The for loop is over'<br /> <br /> <strong>break 和 continue</strong>：用于中断和继续循环。<br /> <br /> <strong>函数</strong>：<br /> <br /> </code><code class="key">def </code><code class="func">say</code><code>(message, times = </code><code class="cite">1</code><code>): # time 的默认参数值是 1</code><br /> <code class="key">&nbsp;&nbsp;&nbsp;&nbsp; print </code></font><font face="NSimsun"><code>message * times<br /> &nbsp;&nbsp;&nbsp; return time&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # 无返回值的函数可省掉 return，等同于return None<br /> </code><br /> </font>只有在形参表末尾的那些参数可以有默认参数值，即你不能在声明函数形参的时候，先声明有默认值的形参而后声明没有默认值的形参。这是因为赋给形参的值是根据位置而赋值的。例如，<code><font face="NSimsun">def func(a, b=5)</font></code>是有效的，但是<code><font face="NSimsun">def func(a=5, b)</font></code>是 <dfn>无效</dfn> 的。<br /> <br /> <code class="key"><font face="NSimsun"><strong>DocStrings</strong>：<br /> </font></code></p> 
<p>说白了就是类似于JavaDoc的东西。</p> 
<p>文档字符串的惯例是一个多行字符串，它的首行以大写字母开始，句号结尾。第二行是空行，从第三行开始是详细的描述。可以使用<code><font face="NSimsun">__doc__</font></code>（注意双下划线）调用<code><font face="NSimsun">函数的文档字符串属性（属于函数的名称）。Python把 <dfn>每一样东西</dfn> 都作为对象，包括这个函数。</font></code></p> 
<p>Python中的<code><font face="NSimsun">help()</font></code>，它所做的只是抓取函数的<code><font face="NSimsun">__doc__</font></code>属性，然后整洁地展示给你。</p> 
<p>自动化工具也可以以同样的方式从你的程序中提取文档。随Python发行版附带的<strong>pydoc</strong>命令，与<code><font face="NSimsun">help()</font></code>类似地使用DocStrings。</p> 
<p><font face="NSimsun"><code class="key">def </code><code class="func">printMax</code><code>(x, y):</code><br /> </font><font face="NSimsun"><code class="cite">&nbsp;&nbsp;&nbsp;&nbsp; '''Prints the maximum of two numbers.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # 这里是文档字符串<br /> <br /> &nbsp;&nbsp;&nbsp;&nbsp; The two values must be integers.'''</code><br /> </font><font face="NSimsun"><code>&nbsp;&nbsp;&nbsp; print &quot;DocStrings&quot;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; # 这里是函数体<br /> <br /> <strong>命令行参数</strong>：<br /> <br /> </code><code class="comment"># Filename: using_sys.py</code><br /> <code class="key">import </code><code class="func">sys</code><br /> <br /> <code class="key">print </code><code class="cite">'The command line arguments are:'</code><br /> <code class="key">for </code><code>i </code><code class="key">in </code><code class="func">sys</code><code>.argv:&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; # </code><code>sys.argv</code></font>变量是一个字符串的列表，用于保存命令行参数。<br /> <code class="key"><font face="NSimsun">&nbsp;&nbsp;&nbsp;&nbsp; print </font></code><font face="NSimsun"><code>i<br /> <br /> </code><code>执行 Python </code></font><font face="NSimsun"><code class="comment">using_sys.py we are argvs 的输出结果是：<br /> The command line arguments are:<br /> d:\My Documents\Python\using_sys.py&nbsp;&nbsp; # sys.argv[0]<br /> we&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; </code><code class="comment"># sys.argv[1]</code><br /> <code class="comment">are&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; </code><code class="comment"># sys.argv[2]</code><br /> <code class="comment">argvs&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; </code><code class="comment"># sys.argv[3]</code><br /> <br /> </font><strong>模块的__name__名称</strong>：<br /> 每个Python模块都有它的<code><font face="NSimsun">__name__</font></code>，如果它是<code><font face="NSimsun">'__main__'</font></code>，这说明这个模块被用户单独运行，我们可以进行相应的恰当操作。</p></div></body></html>