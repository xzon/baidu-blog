<html><head><title>ASN.1</title></head><body><div id='tit'>ASN.1</div><div id='cate'>编程基础</div><div id='date'>2009年07月29日 星期三 01:54 P.M.</div><div id='page'>40</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/1af2cabf0deb020318d81f7a.html'>http://hi.baidu.com/hxzon/blog/item/1af2cabf0deb020318d81f7a.html</a><div id='cnt'><p>ASN.1</p> 
<p>简介 ASN.1抽象语法标记（Abstract Syntax Notation One）</p> 
<div class="spctrl"> 
</div> 
<p> ASN.1是一种 ISO/ITU-T 标准，描述了一种对数据进行表示、编码、传输和解码的数据格式。它提供了一整套正规的格式用于描述对象的结构，而不管语言上如何执行及这些数据的具体指代，也不用去管到底是什么样的应用程序。</p> 
<div class="spctrl"> 
</div> 
<p> 在任何需要以数字方式发送信息的地方，ASN.1 都可以发送各种形式的信息（声频、视频、数据等等）。ASN.1 和特定的 ASN.1 编码规则推进了结构化数据的传输，尤其是网络中应用程序之间的结构化数据传输，它以一种独立于计算机架构和语言的方式来描述数据结构。</p> 
<div class="spctrl"> 
</div> 
<p> ISO 协议套中的应用层协议使用了 ASN.1 来描述它们所传输的 PDU，这些协议包括：用于传输电子邮件的 X.400、用于目录服务的 X.500、用于 VoIP 的 H.323 和 SNMP。它的应用还可以扩展到通用移动通信系统（UMTS）中的接入和非接入层。</p> 
<div class="spctrl"> 
</div> 
<p> ASN.1 取得成功的一个主要原因是它与几个标准化编码规则相关，如基本编码规则（BER） -X.209 、规范编码规则（CER）、识别名编码规则（DER）、压缩编码规则（PER）和 XER 编码规则（XER）。这些编码规则描述了如何对 ASN.1 中定义的数值进行编码，以便用于传输，而不管计算机、编程语言或它在应用程序中如何表示等因素。ASN.1 的编码方法比许多与之相竞争的标记系统更先进，它支持可扩展信息快速可靠的传输 — 在无线宽带中，这是一种优势。1984年，ASN.1 就已经成为了一种国际标准，它的编码规则已经成熟并在可靠性和兼容性方面拥有更丰富的历程。</p> 
<div class="spctrl"> 
</div> 
<p> 简洁的二进制编码规则（BER、CER、DER、PER，但不包括 XER）可当作更现代 XML 的替代。然而，ASN.1 支持对数据的语义进行描述，所以它是比 XML 更为高级的语言。</p> 
<div class="spctrl"> 
</div> 
<p> ASN.1 的描述可以容易地映被射成 C 或 C++ 或 Java 的数据结构，并可以被应用程序代码使用，并得到运行时程序库的支持，进而能够对编码和解码 XML 或 TLV 格式的，或一种非常紧凑的压缩编码格式的描述。</p> 
<div class="spctrl"> 
</div> 
<p> 同时，ASN.1是一种用于描述结构化客体的结构和内容的语言。</p> 
<p>定义 抽象语法定义:</p> 
<div class="spctrl"> 
</div> 
<p> ASN.1是描述在网络上传输信息格式的标准方法。它有两部分：一部分描述信息内数据，数据类型及序列格式；另一部分描述如何将各部分组成消息。它原来是作为X.409的一部分而开发的，后来才自己独立成为一个标准。ASN.1在OSI的ISO 8824/ITU X.208（说明语法）和ISO 8825/ITU X.209（说明基本编码规则）规范。</p> 
<div class="spctrl"> 
</div> 
<p> 例如：</p> 
<div class="spctrl"> 
</div> 
<p> Report ::= SEQUENCE {</p> 
<div class="spctrl"> 
</div> 
<p> author OCTET STRING,</p> 
<div class="spctrl"> 
</div> 
<p> title OCTET STRING,</p> 
<div class="spctrl"> 
</div> 
<p> body OCTET STRING,</p> 
<div class="spctrl"> 
</div> 
<p> biblio Bibliography</p> 
<div class="spctrl"> 
</div> 
<p> }</p> 
<div class="spctrl"> 
</div> 
<p> 在这个例子中，&quot;Report&quot;是由名字类型的信息组成的，而SEQUENCE表示消息是许多数据单元构成的，前三个数据单元的类型是OCTET STRING，而最后一个数据类型则下面的ASN.1语法表示它的意义：</p> 
<div class="spctrl"> 
</div> 
<p> Bibliography ::= SEQUENCE {</p> 
<div class="spctrl"> 
</div> 
<p> author OCTET STRING</p> 
<div class="spctrl"> 
</div> 
<p> title OCTET STRING</p> 
<div class="spctrl"> 
</div> 
<p> publisher OCTET STRING</p> 
<div class="spctrl"> 
</div> 
<p> year OCTET STRING</p> 
<div class="spctrl"> 
</div> 
<p> }</p> 
<p>预定义数据类型 ASN.1 提供了一些基本的预定义数据类型：</p> 
<div class="spctrl"> 
</div> 
<p> UNIVERSAL 0 保留给编码规则使用</p> 
<div class="spctrl"> 
</div> 
<p> UNIVERSAL 1 布尔类型</p> 
<div class="spctrl"> 
</div> 
<p> UNIVERSAL 2 整型</p> 
<div class="spctrl"> 
</div> 
<p> UNIVERSAL4 零或多个字节的序列</p> 
<div class="spctrl"> 
</div> 
<p> UNIVERSAL5 NULL</p> 
<div class="spctrl"> 
</div> 
<p> UNIVERSAL 6 对象标识符类型</p> 
<div class="spctrl"> 
</div> 
<p> UNIVERSAL 7 对象描述符类型</p> 
<div class="spctrl"> 
</div> 
<p> UNIVERSAL 8 外部类型和类型实例</p> 
<div class="spctrl"> 
</div> 
<p> UNIVERSAL 9 实数类型</p> 
<div class="spctrl"> 
</div> 
<p> UNIVERSAL 10 枚举类型</p> 
<div class="spctrl"> 
</div> 
<p> UNIVERSAL 11 嵌入的 pdv 类型</p> 
<div class="spctrl"> 
</div> 
<p> UNIVERSAL 12 UTF8 字符串类型</p> 
<div class="spctrl"> 
</div> 
<p> UNIVERSAL 13 相关对象标识符 类型</p> 
<div class="spctrl"> 
</div> 
<p> UNIVERSAL 14-15 保留给本建议的以后版本和国际标准使用</p> 
<div class="spctrl"> 
</div> 
<p> UNIVERSAL 16 序列和类型序列</p> 
<div class="spctrl"> 
</div> 
<p> UNIVERSAL 17 集合和类型的集合</p> 
<div class="spctrl"> 
</div> 
<p> UNIVERSAL 18-22, 25-30 字符串 类型</p> 
<div class="spctrl"> 
</div> 
<p> UNIVERSAL 23-24 时间 类型</p> 
<div class="spctrl"> 
</div> 
<p> UNIVERSAL 31-... 保留给本建议以外的类型和国际标准使用</p> 
<p>数据结构类型 ASN.1 还能够定义如下的数据结构类型：</p> 
<div class="spctrl"> 
</div> 
<p> 结构 ( SEQUENCE )</p> 
<div class="spctrl"> 
</div> 
<p> 列表 ( SEQUENCE OF )</p> 
<div class="spctrl"> 
</div> 
<p> 类型选择 ( CHOICE )<br /> ==========================<br /> SNMP ASN.1 MIB</p> 
<p>ASN.1:<br /> 高级数据描述语言，描述数据类型、结构、组织及编码方法。包含语法符号和编码规则两大部分。SNMP使用ASN.1描述协议数据单元(PDU)和管理对象信息库（MIB）;</p> 
<p>BER:<br /> 是ASN.1中的基本编码规则。描述具体的ASN.1对象如何编码成比特流在网络上进行传输。SNMP使用BER作为编码方案，数据首先经过BER编码，再经由传输层协议（一般是UDP）发送往接收方。接收方在SNMP端口收到PDU后，经过BER解码后，得到具体的SNMP操作数据。</p> 
<p>SMI<br /> 是SNMP的描述方法。ASN.1功能很强大，但SNMP只用到其中一小部分，为了方便使用，对这部分内容做了描述，限定了范围，这就是SMI。SMI由ASN.1的一个子集合和一部分自定义的类型、宏等组成。SMI是ASN.1的一个子集和超集。</p> 
<p>MIB：<br /> 使用SMI中定义的类型和ASN.1中的基本类型进行对象描述，是一个使用SMI描述的管理信息库。每一类关心的事件都有一组MIB，比如网络接口有一棵MIB树，TCP有一棵MIB树，UDP也有一棵状态树。定义了数据格式、类型、顺序、意义等；</p> 
<p>PDU<br /> 是网络中传送的数据包，SNMP的协议数据单元。每一种SNMP操作物理上都对应一个PDU。PDU是基本的通信格式，使用ASN.1描述，使用BER编码，通过传书层协议传送；<br /> ===================<br /> <a href="http://support.microsoft.com/kb/252648/en-us/">http://support.microsoft.com/kb/252648/en-us/</a><br /> XGEN: A Brief Introduction to ASN.1 and BER<br /> <a href="http://support.microsoft.com/kb/252648">http://support.microsoft.com/kb/252648</a></p></div></body></html>