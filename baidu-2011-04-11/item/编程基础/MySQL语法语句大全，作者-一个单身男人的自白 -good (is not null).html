<html><head><title>MySQL语法语句大全，作者:一个单身男人的自白 -good (is not null)</title></head><body><div id='tit'>MySQL语法语句大全，作者:一个单身男人的自白 -good (is not null)</div><div id='cate'>编程基础</div><div id='date'>2009年04月23日 星期四 09:44 P.M.</div><div id='page'>55</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/5b4570c6e4534c139c163d0b.html'>http://hi.baidu.com/hxzon/blog/item/5b4570c6e4534c139c163d0b.html</a><div id='cnt'><p>MySQL语法语句大全，<span class="tital-tag">作者:一个单身男人的自白 -good (is not null)</span></p> 
<p><span class="tital-tag">mysql查询空值 select count(p.id) from student p where p.department_id is not null ;</span></p> 
<p><span class="tital-tag">一、SQL速成<br /> 结构查询语言(SQL)是用于查询关系数据库的标准语言，它包括若干关键字和一致的语法，便于数据库元件(如表、索引、字段等)的建立和操纵。<br /> 以下是一些重要的SQL快速参考，有关SQL的语法和在标准SQL上增加的特性，请查询MySQL手册。<br /> 1．创建表<br /> 表是数据库的最基本元素之一，表与表之间可以相互独立，也可以相互关联。创建表的基本语法如下：<br /> create table table_name<br /> (column_name data无效 {identity |null|not null}， …)<br /> 其中参数table_name和column_name必须满足用户数据库中的识别器(identifier)的要求，参数data无效是一个标准的SQL类型或由用户数据库提供的类型。用户要使用non-null从句为各字段输入数据。<br /> create table还有一些其他选项，如创建临时表和使用select子句从其他的表中读取某些字段组成新表等。还有，在创建表是可用PRIMARY KEY、KEY、INDEX等标识符设定某些字段为主键或索引等。<br /> 书写上要注意：<br /> 在一对圆括号里的列出完整的字段清单。<br /> 字段名间用逗号隔开。<br /> 字段名间的逗号后要加一个空格。<br /> 最后一个字段名后不用逗号。<br /> 所有的SQL陈述都以分号&quot;;&quot;结束。<br /> 例：<br /> mysql&gt; CREATE TABLE test (blob_col BLOB， index(blob_col(10))); </span></p> 
<p> 2．创建索引<br /> 索引用于对数据库的查询。一般数据库建有多种索引方案，每种方案都精于某一特定的查询类。索引可以加速对数据库的查询过程。创建索引的基本语法如下：<br /> create index index_name<br /> on table_name (col_name[(length)]，... )<br /> 例：<br /> mysql&gt; CREATE INDEX part_of_name ON customer (name(10));</p> 
<p> 3．改变表结构<br /> 在数据库的使用过程中，有时需要改变它的表结构，包括改变字段名，甚至改变不同数据库字段间的关系。可以实现上述改变的命令是alter，其基本语法如下：<br /> alter table table_name alter_spec [， alter_spec ...]<br /> 例：<br /> mysql&gt; ALTER TABLE t1 CHANGE a b INTEGER;</p> 
<p> 4．删除数据对象<br /> 很多数据库是动态使用的，有时可能需要删除某个表或索引。大多数数据库对象可以下面的命令删除：<br /> drop object_name<br /> mysql&gt; DROP TABLE tb1;</p> 
<p> 5．执行查询<br /> 查询是使用最多的SQL命令。查询数据库需要凭借结构、索引和字段类型等因素。大多数数据库含有一个优化器(optimizer)，把用户的查询语句转换成可选的形式，以提高查询效率。<br /> 值得注意的是MySQL不支持SQL92标准的嵌套的where子句，即它只支持一个where子句。其基本语法如下：<br /> SELECT [STRAIGHT_JOIN] [SQL_SMALL_RESULT] [SQL_BIG_RESULT] [HIGH_PRIORITY]<br /> [DISTINCT | DISTINCTROW | ALL]<br /> select_expression，...<br /> [INTO {OUTFILE | DUMPFILE} ’file_name’ export_options]<br /> [FROM table_references<br /> ][WHERE where_definition]<br /> [GROUP BY col_name，...]<br /> [HAVING where_definition]<br /> [ORDER BY {unsigned_integer | col_name | formula} ][ASC | DESC] ，...]<br /> [LIMIT ][offset，] rows]<br /> [PROCEDURE procedure_name] ]<br /> 其中where从句是定义选择标准的地方，where_definition可以有不同的格式，但都遵循下面的形式：<br /> 字段名操作表达式<br /> 字段名操作字段名<br /> 在第一种形式下，标准把字段的值与表达式进行比较；在第二种形式下，把两个字段的值进行比较。根据所比较的数据类型，search_condition中的操作可能选以下几种：<br /> = 检查是否相等<br /> ！= 检查是否不等</p> 
<p> &gt; (或&gt;=) 检查左边值是否大于(或大于等于)右边值<br /> &lt; (或&lt;=) 检查左边值是否小于(或小于等于)右边值<br /> [not] between 检查左边值是否在某个范围内<br /> [not] in 检查左边是否某个特定集的成员<br /> [not] like 检查左边是否为右边的子串<br /> is [not] null 检查左边是否为空值<br /> 在这里，可以用通配符_代表任何一个字符，％代表任何字符串。使用关键字&lt;AND&gt;、&lt;OR&gt;和&lt;NOT&gt;可以生成复杂的词，它们运行检查时使用布尔表达式的多重标准集。<br /> 例：<br /> mysql&gt; select t1.name， t2.salary from employee AS t1， info AS t2 where t1.name = t2.name;<br /> mysql&gt; select college， region， seed from tournament<br /> ORDER BY region， seed;<br /> mysql&gt; select col_name from tbl_name WHERE col_name &gt; 0;</p> 
<p> 6．修改表中数据<br /> 在使用数据库过程中，往往要修改其表中的数据，比如往表中添加新数据，删除表中原有数据，或对表中原有数据进行更改。它们的基本语法如下：<br /> 数据添加：<br /> insert [into] table_name [(column(s))]<br /> values (expression(s))<br /> 例：<br /> mysql&gt; INSERT INTO tbl_name (col1，col2) VALUES(15，col1*2);<br /> 数据删除：<br /> 删除 from table_name where search_condition<br /> 数据更改：<br /> 更新 table_name<br /> set column1=expression1，<br /> column2=expression2，…<br /> where search_condition</p> 
<p> 7．数据库切换<br /> 当存在多个数据库时，可以用下面的命令定义用户想使用的数据库：<br /> use database_name</p> 
<p> 8．统计函数<br /> SQL有一些统计函数，它们对于生成数据表格很有帮助。下面介绍几个常用的统计函数：<br /> sum (exepression) 计算表达式的和<br /> avg (exepression) 计算表达式的平均值<br /> count (exepression) 对表达式进行简单的计数<br /> count (*) 统计记录数<br /> max (exepression) 求最大值<br /> min (exepression) 求最小值<br /> 其中exepression为任何有效的SQL表达式，它可以是一个或多个记录，也可以是别的SQL函数的组合。</p> 
<p> 二、MySQL使用导引<br /> 1．运用MySQL建立新数据库<br /> 在shell下运行：<br /> ＄&gt;mysqladmin create database01<br /> Database &quot;database01&quot; created.</p> 
<p> 2．启动MySQL<br /> 在shell下运行：<br /> ＄&gt;mysql<br /> Welcome to the MySQL monitor. Commands end with ; or g.<br /> Your MySQL connection id is 22 to server version: 3.21. 29a-gamma-debug<br /> 无效 ’help’ for help.</p> 
<p> 3．更换数据库<br /> mysql&gt;use database01<br /> database changed.</p> 
<p> 4．创建表<br /> mysql&gt;create table table01 (field01 integer， field02 char(10));<br /> Query OK， 0 rows affected (0.00 sec)</p> 
<p> 5．列出表清单<br /> mysql&gt;show tables;<br /> Tables in database01<br /> Table01<br /> table02</p> 
<p> 6．列出表中的字段清单<br /> mysql&gt;show columns from table01;<br /> Field 无效 Null Key Default Extra<br /> field01 int(11) YES<br /> field02 char(10) YES</p> 
<p> 7．表的数据填写<br /> 插入数据<br /> mysql&gt;insert into table01 (field01， field02) values (1， ’first’);<br /> Query OK， 1 row affected (0.00 sec)</p> 
<p> 8．字段的增加<br /> ...一次一个字段<br /> mysql&gt;alter table table01 add column field03 char(20);<br /> Query OK， l row affected (0.04 sec)<br /> Records: 1 Duplicates: 0 Warnings: 0<br /> ...一次多个字段<br /> mysql&gt;alter table table01 add column field04 date， add column field05 time;<br /> Query OK， l row affected (0.04 sec)<br /> Records: 1 Duplicates: 0 Warnings: 0<br /> 注意：每一列都必须以&quot;add column&quot;重新开始。<br /> 它运行了吗？让我们看看。<br /> mysql&gt;select * from table01;<br /> field01 field02 field03 field04 field05<br /> 1 first NULL NULL NULL</p> 
<p> 9．多行命令输入<br /> MySQL命令行界面允许把陈述作为一行输入，也可以把它展开为多行输入。这两者之间并没有语法上的区别。使用多行输入，你可以将SQL陈述一步步分解，从而使你更容易理解。<br /> 在多行方式下，注释器把每一行都添加到前面的行后，直到你用分号&quot;;&quot;来结束这个SQL陈述。一旦键入分号并按回车键，这个陈述即被执行。<br /> 下面的例子是同一个严格的SQL陈述的两种输入方法：<br /> 单行输入<br /> Mysql&gt;create table table33 (field01 integer， field02 char(30));<br /> 多行输入<br /> Mysql&gt;create table table33<br /> -&gt;(field01<br /> -&gt;integer，<br /> -&gt;field02<br /> -&gt;char(30));<br /> 注意不能将单词断开，如：<br /> 正确<br /> mysql&gt;create table table33<br /> -&gt;( field01<br /> -&gt;integer，<br /> -&gt;field02<br /> -&gt;char(30));<br /> 错误<br /> mysql&gt;create table table33<br /> -&gt;( field01 inte<br /> -&gt;ger，<br /> -&gt;field02<br /> -&gt;char(30));<br /> 当插入或更改数据时，不能将字段的字符串展开到多行里，否则硬回车将被储存到数据中：<br /> 标准操作<br /> mysql&gt;insert into table33 (field02)<br /> -&gt;values<br /> -&gt;(’who thought of foo?’);<br /> 硬回车储存到数据中<br /> mysql&gt;insert into table33 (field02)<br /> -&gt;values<br /> -&gt;(’who thought<br /> -&gt;of foo?’);<br /> 结果如下：<br /> mysql&gt;select * from table33;<br /> field01 field02<br /> NULL who thought of foo?<br /> NULL who thought<br /> Of foo?</p> 
<p> 10．表的数据嵌入<br /> mysql&gt;insert into table01 (field01， field02， field03， field04， field05) values<br /> -&gt;(2， ’second’， ’another’， ’1999-10-23’， ’10:30:00’);<br /> Query OK， 1 row affected (0.00 sec)<br /> 标准日期格式是&quot;yyyy-mm-dd&quot;。<br /> 标准时间格式是&quot;hh:mm:ss&quot;。<br /> 引号内要求所给的是上述的标准日期和时间格式。<br /> 日期也可以&quot;yyyymmdd&quot;形式，时间也可以&quot;hhmmss&quot;形式输入，但其值不需要再加引号。<br /> 数字值不需要加引号。这种保存与数据类型无关，这些数据类型都有格式化的专栏来包含(例如：文本，日期，时间，整数等)。<br /> MySQL有一个很有用的命令缓冲区。它保存着你目前已经键入的SQL语句利用它，对于相同的命令，你就不必一遍又一遍地重复输入。下一步我们就来看这样的一个例子。<br /> 利用命令缓冲区(及任意的日期和时间格式)增加另一个数据<br /> 按两次键盘上的向上箭头键。<br /> 回车。<br /> 在圆括号内输入新的值，并以分号结尾。<br /> (3， ’a third’， ’more’， 19991024， 103004);<br /> 回车。<br /> 新值存在里面了吗？<br /> mysql&gt;select * from table01;<br /> field01 field02 field03 field04 field05<br /> 1 first NULL NULL NULL<br /> 2 second another 1999-10-23 10:30:00<br /> 3 a third more 1999-10-24 10:30:04</p> 
<p> 11．表的数据更新<br /> 一次修改一个字段<br /> 再次注意语法。文本需要加引号但数字不要。<br /> mysql&gt;更新 table01 set field03=’new info’ where field01=1;<br /> Query OK， 1 row affected (0.00 sec)<br /> 一次改变多个字段<br /> 记住在每一个更新的字段间用逗号隔开。<br /> mysql&gt;更新 table01 set field04=19991022， field05=062218 where field01=1;<br /> Query OK， 1 row affected (0.00 sec)<br /> 一次更新多个数据<br /> mysql&gt;更新 table01 set field05=152901 where field04&gt;19990101;<br /> Query OK， 3 rows affected (0.00 sec)</p> 
<p> 12．删除数据<br /> mysql&gt;删除 from table01 where field01=3;<br /> Query OK， 1 row affected (0.00 sec)</p> 
<p> 13．退出<br /> mysql&gt;quit<br /> Bye<br /> 现在你已经了解了一些运行MySQL中的数据库的根本命令。由于MySQL是通过执行SQL调用来操作的，在你的处理过程中需要一个强有力工具的充足的数组。例如，通过联接相关的字段，你可以同时显示几个表中的数据。同样，SQL允许综合显示、更新或者删除多个符合具体标准的数据。如果你还想精通掌握它，下一步就要学习所有SQL的知识。</p> 
<p><a href="http://www.blogsz.cn/user1/1/archives/2009/32835.html">http://www.blogsz.cn/user1/1/archives/2009/32835.html</a></p></div></body></html>