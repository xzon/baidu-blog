<html><head><title>dtd语法</title></head><body><div id='tit'>dtd语法</div><div id='cate'>编程基础</div><div id='date'>2009年08月12日 星期三 12:56 P.M.</div><div id='page'>38</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/3047ad648190d4f9f63654f7.html'>http://hi.baidu.com/hxzon/blog/item/3047ad648190d4f9f63654f7.html</a><div id='cnt'><div>
 dtd语法
</div> 
<div> 
</div> 
<div> 
</div> 
<div> 
</div> 
<div> 
 <div> 
  <p><strong>文档类型定义（DTD）可定义合法的XML文档构建模块。它使用一系列合法的元素来定义文档的结构。</strong></p> 
  <p><strong>DTD 可被成行地声明于 XML 文档中，也可作为一个外部引用。</strong></p> 
 </div> 
 <div> 
  <h2>内部的 DOCTYPE 声明</h2> 
  <p>假如 DTD 被包含在您的 XML 源文件中，它应当通过下面的语法包装在一个 DOCTYPE 声明中：</p> 
  <pre>&lt;!DOCTYPE 根元素 [元素声明]&gt;</pre> 
  <p>带有 DTD 的 XML 文档实例（请在 IE5 以及更高的版本打开，并选择查看源代码）：</p> 
  <pre>&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;!DOCTYPE note [
  &lt;!ELEMENT note (to,from,heading,body)&gt;
  &lt;!ELEMENT to      (#PCDATA)&gt;
  &lt;!ELEMENT from    (#PCDATA)&gt;
  &lt;!ELEMENT heading (#PCDATA)&gt;
  &lt;!ELEMENT body    (#PCDATA)&gt;
]&gt;
&lt;note&gt;
  &lt;to&gt;George&lt;/to&gt;
  &lt;from&gt;John&lt;/from&gt;
  &lt;heading&gt;Reminder&lt;/heading&gt;
  &lt;body&gt;Don't forget the meeting!&lt;/body&gt;
&lt;/note&gt;</pre> 
  <p><a href="http://www.w3school.com.cn/dtd/note_in_dtd.xml">在您的浏览器中打开此 XML 文件，并选择“查看源代码”命令</a>。</p> 
  <h3>以上 DTD 解释如下：</h3> 
  <p><em>!DOCTYPE note</em> (第二行)定义此文档是 <em>note</em> 类型的文档。</p> 
  <p><em>!ELEMENT note</em> (第三行)定义 <em>note</em> 元素有四个元素：&quot;to、from、heading,、body&quot;</p> 
  <p><em>!ELEMENT to</em> (第四行)定义 <em>to</em> 元素为 &quot;#PCDATA&quot; 类型</p> 
  <p><em>!ELEMENT from</em> (第五行)定义 <em>frome</em> 元素为 &quot;#PCDATA&quot; 类型</p> 
  <p><em>!ELEMENT heading</em> (第六行)定义 <em>heading</em> 元素为 &quot;#PCDATA&quot; 类型</p> 
  <p><em>!ELEMENT body</em> (第七行)定义 <em>body</em> 元素为 &quot;#PCDATA&quot; 类型</p> 
 </div> 
 <div> 
  <h2>外部文档声明</h2> 
  <p>假如 DTD 位于 XML 源文件的外部，那么它应通过下面的语法被封装在一个 DOCTYPE 定义中：</p> 
  <pre>&lt;!DOCTYPE 根元素 SYSTEM &quot;文件名&quot;&gt;</pre> 
  <p>这个 XML 文档和上面的 XML 文档相同，但是拥有一个外部的 DTD: （<a href="http://www.w3school.com.cn/dtd/note_ex_dtd.xml">在 IE5 中打开</a>，并选择“查看源代码”命令。）</p> 
  <pre>&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;!DOCTYPE note SYSTEM &quot;note.dtd&quot;&gt;
&lt;note&gt;
&lt;to&gt;George&lt;/to&gt;
&lt;from&gt;John&lt;/from&gt;
&lt;heading&gt;Reminder&lt;/heading&gt;
&lt;body&gt;Don't forget the meeting!&lt;/body&gt;
&lt;/note&gt;</pre> 
  <p>这是包含 DTD 的 &quot;note.dtd&quot; 文件：</p> 
  <pre>&lt;!ELEMENT note (to,from,heading,body)&gt;
&lt;!ELEMENT to (#PCDATA)&gt;
&lt;!ELEMENT from (#PCDATA)&gt;
&lt;!ELEMENT heading (#PCDATA)&gt;
&lt;!ELEMENT body (#PCDATA)&gt;</pre> 
 </div> 
 <div> 
  <h2>为什么使用 DTD？</h2> 
  <p>通过 DTD，您的每一个 XML 文件均可携带一个有关其自身格式的描述。</p> 
  <p>通过 DTD，独立的团体可一致地使用某个标准的 DTD 来交换数据。</p> 
  <p>而您的应用程序也可使用某个标准的 DTD 来验证从外部接收到的数据。</p> 
  <p>您还可以使用 DTD 来验证您自身的数据。</p> 
 </div> 
</div> 
<div> 
 <div> 
  <h2>XML 文档构建模块</h2> 
  <p>所有的 XML 文档（以及 HTML 文档）均由以下简单的构建模块构成：</p> 
  <ul> 
   <li>元素</li> 
   <li>属性</li> 
   <li>实体</li> 
   <li>PCDATA</li> 
   <li>CDATA</li> 
  </ul> 
  <p>下面是每个构建模块的简要描述。</p> 
 </div> 
 <div> 
  <h2>元素</h2> 
  <p>元素是 XML 以及 HTML 文档的<em>主要构建模块</em>。</p> 
  <p>HTML 元素的例子是 &quot;body&quot; 和 &quot;table&quot;。XML 元素的例子是 &quot;note&quot; 和 &quot;message&quot; 。元素可包含文本、其他元素或者是空的。空的 HTML 元素的例子是 &quot;hr&quot;、&quot;br&quot; 以及 &quot;img&quot;。</p> 
  <h3>实例：</h3> 
  <pre>&lt;body&gt;body text in between&lt;/body&gt;
&lt;message&gt;some message in between&lt;/message&gt;</pre> 
 </div> 
 <div> 
  <h2>属性</h2> 
  <p>属性可提供<em>有关元素的额外信息</em>。</p> 
  <p>属性总是被置于某元素的开始标签中。属性总是以<em>名称/值</em>的形式成对出现的。下面的 &quot;img&quot; 元素拥有关于源文件的额外信息：</p> 
  <pre>&lt;img src=&quot;computer.gif&quot; /&gt;</pre> 
  <p>元素的名称是 &quot;img&quot;。属性的名称是 &quot;src&quot;。属性的值是 &quot;computer.gif&quot;。由于元素本身为空，它被一个 &quot; /&quot; 关闭。</p> 
 </div> 
 <div> 
  <h2>实体</h2> 
  <p>实体是用来定义普通文本的变量。实体引用是对实体的引用。</p> 
  <p>大多数同学都了解这个 HTML 实体引用：&quot;&amp;nbsp;&quot;。这个“无折行空格”实体在 HTML 中被用于在某个文档中插入一个额外的空格。</p> 
  <p>当文档被 XML 解析器解析时，实体就会被展开。</p> 
  <h3>下面的实体在 XML 中被预定义：</h3> 
  <table class="dataintable FCK__ShowTableBorders"> 
   <tbody> 
    <tr> 
     <th>实体引用</th> 
     <th>字符</th> 
    </tr> 
    <tr> 
     <td>&amp;lt;</td> 
     <td>&lt;</td> 
    </tr> 
    <tr> 
     <td>&amp;gt;</td> 
     <td>&gt;</td> 
    </tr> 
    <tr> 
     <td>&amp;amp;</td> 
     <td>&amp;</td> 
    </tr> 
    <tr> 
     <td>&amp;quot;</td> 
     <td>&quot;</td> 
    </tr> 
    <tr> 
     <td>&amp;apos;</td> 
     <td>'</td> 
    </tr> 
   </tbody> 
  </table> 
 </div> 
 <div> 
  <h2>PCDATA</h2> 
  <p>PCDATA 的意思是被解析的字符数据（parsed character data）。</p> 
  <p>可把字符数据想象为 XML 元素的开始标签与结束标签之间的文本。</p> 
  <p><strong>PDATA 是会被解析器解析的文本。这些文本将被解析器检查实体以及标记。</strong></p> 
  <p>文本中的标签会被当作标记来处理，而实体会被展开。</p> 
  <p>不过，被解析的字符数据不应当包含任何 &amp;、&lt; 或者 &gt; 字符；需要使用 &amp;amp;、&amp;lt; 以及 &amp;gt; 实体来分别替换它们。</p> 
 </div> 
 <div> 
  <h2>CDATA</h2> 
  <p>CDATA 的意思是字符数据（character data）。</p> 
  <p><em>CDATA 是不会被解析器解析的文本。</em>在这些文本中的标签不会被当作标记来对待，其中的实体也不会被展开。</p> 
  <div> 
   <p><strong>在一个 DTD 中，元素通过元素声明来进行声明。</strong></p> 
  </div> 
  <div> 
   <h2>声明一个元素</h2> 
   <p>在 DTD 中，XML 元素通过元素声明来进行声明。元素声明使用下面的语法：</p> 
   <pre>&lt;!ELEMENT 元素名称 类别&gt;</pre> 
   <p>或者</p> 
   <pre>&lt;!ELEMENT 元素名称 (元素内容)&gt;</pre> 
  </div> 
  <div> 
   <h2>空元素</h2> 
   <p>空元素通过类别关键词EMPTY进行声明：</p> 
   <pre>&lt;!ELEMENT 元素名称 EMPTY&gt;</pre> 
   <h3>例子：</h3> 
   <pre>&lt;!ELEMENT br EMPTY&gt;</pre> 
   <h3>XML例子：</h3> 
   <pre>&lt;br /&gt;</pre> 
  </div> 
  <div> 
   <h2>只有 PCDATA 的元素</h2> 
   <p>只有 PCDATA 的元素通过圆括号中的 #PCDATA 进行声明：</p> 
   <pre>&lt;!ELEMENT 元素名称 (#PCDATA)&gt;</pre> 
   <h3>例子：</h3> 
   <pre>&lt;!ELEMENT from (#PCDATA)&gt;</pre> 
  </div> 
  <div> 
   <h2>带有任何内容的元素</h2> 
   <p>通过类别关键词 ANY 声明的元素，可包含任何可解析数据的组合：</p> 
   <pre>&lt;!ELEMENT 元素名称 ANY&gt;</pre> 
   <h3>例子：</h3> 
   <pre>&lt;!ELEMENT note ANY&gt;</pre> 
  </div> 
  <div> 
   <h2>带有子元素（序列）的元素</h2> 
   <p>带有一个或多个子元素的元素通过圆括号中的子元素名进行声明：</p> 
   <pre>&lt;!ELEMENT 元素名称 (子元素名称 1)&gt;</pre> 
   <p>或者</p> 
   <pre>&lt;!ELEMENT 元素名称 (子元素名称 1,子元素名称 2,.....)&gt;</pre> 
   <h3>例子：</h3> 
   <pre>&lt;!ELEMENT note (to,from,heading,body)&gt;</pre> 
   <p>当子元素按照由逗号分隔开的序列进行声明时，这些子元素必须按照相同的顺序出现在文档中。在一个完整的声明中，子元素也必须被声明，同时子元素也可拥有子元素。&quot;note&quot; 元素的完整声明是：</p> 
   <pre>&lt;!ELEMENT note (to,from,heading,body)&gt;
&lt;!ELEMENT to      (#PCDATA)&gt;
&lt;!ELEMENT from    (#PCDATA)&gt;
&lt;!ELEMENT heading (#PCDATA)&gt;
&lt;!ELEMENT body    (#PCDATA)&gt;</pre> 
  </div> 
  <div> 
   <h2>声明只出现一次的元素</h2> 
   <pre>&lt;!ELEMENT 元素名称 (子元素名称)&gt;</pre> 
   <h3>例子：</h3> 
   <pre>&lt;!ELEMENT note (message)&gt;</pre> 
   <p>上面的例子声明了：message 子元素必须出现一次，并且必须只在 &quot;note&quot; 元素中出现一次。</p> 
  </div> 
  <div> 
   <h2>声明最少出现一次的元素</h2> 
   <pre>&lt;!ELEMENT 元素名称 (子元素名称+)&gt;</pre> 
   <h3>例子：</h3> 
   <pre>&lt;!ELEMENT note (message+)&gt;</pre> 
   <p>上面的例子中的加号声明了：message 子元素必须在 &quot;note&quot; 元素内出现至少一次。</p> 
  </div> 
  <div> 
   <h2>声明出现零次或多次的元素</h2> 
   <pre>&lt;!ELEMENT 元素名称 (子元素名称*)&gt;</pre> 
   <h3>例子：</h3> 
   <pre>&lt;!ELEMENT note (message*)&gt;</pre> 
   <p>上面的例子中的星号声明了：子元素 message 可在 &quot;note&quot; 元素内出现零次或多次。</p> 
  </div> 
  <div> 
   <h2>声明出现零次或一次的元素</h2> 
   <pre>&lt;!ELEMENT 元素名称 (子元素名称?)&gt;</pre> 
   <h3>例子：</h3> 
   <pre>&lt;!ELEMENT note (message?)&gt;</pre> 
   <p>上面的例子中的问号声明了：子元素 message 可在 &quot;note&quot; 元素内出现零次或一次。</p> 
  </div> 
  <div> 
   <h2>声明“非.../既...”类型的内容</h2> 
   <h3>例子：</h3> 
   <pre>&lt;!ELEMENT note (to,from,header,(message|body))&gt;</pre> 
   <p>上面的例子声明了：&quot;note&quot; 元素必须包含 &quot;to&quot; 元素、&quot;from&quot; 元素、&quot;header&quot; 元素，以及非 &quot;message&quot; 元素既 &quot;body&quot; 元素。</p> 
  </div> 
  <div> 
   <h2>声明混合型的内容</h2> 
   <h3>例子：</h3> 
   <pre>&lt;!ELEMENT note (#PCDATA|to|from|header|message)*&gt;</pre> 
   <p>上面的例子声明了：&quot;note&quot; 元素可包含出现零次或多次的 PCDATA、&quot;to&quot;、&quot;from&quot;、&quot;header&quot; 或者 &quot;message&quot;。</p> 
   <div> 
    <p><strong>在 DTD 中，属性通过 ATTLIST 声明来进行声明。</strong></p> 
   </div> 
   <div> 
    <h2>声明属性</h2> 
    <p>属性声明拥使用下列语法：</p> 
    <pre>&lt;!ATTLIST 元素名称 属性名称 属性类型 默认值&gt;</pre> 
    <h3>DTD 实例:</h3> 
    <pre>&lt;!ATTLIST payment type CDATA &quot;check&quot;&gt;</pre> 
    <h3>XML 实例:</h3> 
    <pre>&lt;payment type=&quot;check&quot; /&gt;</pre> 
    <h3>以下是<em>属性类型</em>的选项：</h3> 
    <table class="dataintable FCK__ShowTableBorders"> 
     <tbody> 
      <tr> 
       <th>类型</th> 
       <th>描述</th> 
      </tr> 
      <tr> 
       <td>CDATA</td> 
       <td>值为字符数据 (character data)</td> 
      </tr> 
      <tr> 
       <td>(en1|en2|..)</td> 
       <td>此值是枚举列表中的一个值</td> 
      </tr> 
      <tr> 
       <td>ID</td> 
       <td>值为唯一的 id</td> 
      </tr> 
      <tr> 
       <td>IDREF</td> 
       <td>值为另外一个元素的 id</td> 
      </tr> 
      <tr> 
       <td>IDREFS</td> 
       <td>值为其他 id 的列表</td> 
      </tr> 
      <tr> 
       <td>NMTOKEN</td> 
       <td>值为合法的 XML 名称</td> 
      </tr> 
      <tr> 
       <td>NMTOKENS</td> 
       <td>值为合法的 XML 名称的列表</td> 
      </tr> 
      <tr> 
       <td>ENTITY</td> 
       <td>值是一个实体</td> 
      </tr> 
      <tr> 
       <td>ENTITIES</td> 
       <td>值是一个实体列表</td> 
      </tr> 
      <tr> 
       <td>NOTATION</td> 
       <td>此值是符号的名称</td> 
      </tr> 
      <tr> 
       <td>xml:</td> 
       <td>值是一个预定义的 XML 值</td> 
      </tr> 
     </tbody> 
    </table> 
    <h3>默认值参数可使用下列值：</h3> 
    <table class="dataintable FCK__ShowTableBorders"> 
     <tbody> 
      <tr> 
       <th>值</th> 
       <th>解释</th> 
      </tr> 
      <tr> 
       <td>值</td> 
       <td>属性的默认值</td> 
      </tr> 
      <tr> 
       <td>#REQUIRED</td> 
       <td>属性值是必需的</td> 
      </tr> 
      <tr> 
       <td>#IMPLIED</td> 
       <td>属性不是必需的</td> 
      </tr> 
      <tr> 
       <td>#FIXED value</td> 
       <td>属性值是固定的</td> 
      </tr> 
     </tbody> 
    </table> 
   </div> 
   <div> 
    <h2>规定一个默认的属性值</h2> 
    <h3>DTD:</h3> 
    <pre>&lt;!ELEMENT square EMPTY&gt;
&lt;!ATTLIST square width CDATA &quot;0&quot;&gt;</pre> 
    <h3>合法的 XML:</h3> 
    <pre>&lt;square width=&quot;100&quot; /&gt;</pre> 
    <p>在上面的例子中，&quot;square&quot; 被定义为带有 CDATA 类型的 &quot;width&quot; 属性的空元素。如果宽度没有被设定，其默认值为0 。</p> 
   </div> 
   <div> 
    <h2>#IMPLIED</h2> 
    <h3>语法</h3> 
    <pre>&lt;!ATTLIST 元素名称 属性名称 属性类型 #IMPLIED&gt;</pre> 
    <h3>例子</h3> 
    <p>DTD:</p> 
    <pre>&lt;!ATTLIST contact fax CDATA #IMPLIED&gt;</pre> 
    <p>合法的 XML:</p> 
    <pre>&lt;contact fax=&quot;555-667788&quot; /&gt;</pre> 
    <p>合法的 XML:</p> 
    <pre>&lt;contact /&gt;</pre> 
    <p>假如您不希望强制作者包含属性，并且您没有默认值选项的话，请使用关键词 #IMPLIED。</p> 
   </div> 
   <div> 
    <h2>#REQUIRED</h2> 
    <h3>语法</h3> 
    <pre>&lt;!ATTLIST 元素名称 属性名称 属性类型 #REQUIRED&gt;</pre> 
    <h3>例子</h3> 
    <p>DTD:</p> 
    <pre>&lt;!ATTLIST person number CDATA #REQUIRED&gt;</pre> 
    <p>合法的 XML:</p> 
    <pre>&lt;person number=&quot;5677&quot; /&gt;</pre> 
    <p>非法的 XML:</p> 
    <pre>&lt;person /&gt;</pre> 
    <p>假如您没有默认值选项，但是仍然希望强制作者提交属性的话，请使用关键词 #REQUIRED。</p> 
   </div> 
   <div> 
    <h2>#FIXED</h2> 
    <h3>语法</h3> 
    <pre>&lt;!ATTLIST 元素名称 属性名称 属性类型 #FIXED &quot;value&quot;&gt;</pre> 
    <h3>例子</h3> 
    <p>DTD:</p> 
    <pre>&lt;!ATTLIST sender company CDATA #FIXED &quot;Microsoft&quot;&gt;</pre> 
    <p>合法的 XML:</p> 
    <pre>&lt;sender company=&quot;Microsoft&quot; /&gt;</pre> 
    <p>非法的 XML:</p> 
    <pre>&lt;sender company=&quot;W3School&quot; /&gt;</pre> 
    <p>如果您希望属性拥有固定的值，并不允许作者改变这个值，请使用 #FIXED 关键词。如果作者使用了不同的值，XML 解析器会返回错误。</p> 
   </div> 
   <div> 
    <h2>列举属性值</h2> 
    <h3>语法：</h3> 
    <pre>&lt;!ATTLIST 元素名称 属性名称 (en1|en2|..) 默认值&gt;</pre> 
    <h3>DTD 例子:</h3> 
    <pre>&lt;!ATTLIST payment type (check|cash) &quot;cash&quot;&gt;</pre> 
    <h3>XML 例子:</h3> 
    <pre>&lt;payment type=&quot;check&quot; /&gt;</pre> 
    <p>或者</p> 
    <pre>&lt;payment type=&quot;cash&quot; /&gt;</pre> 
    <p>如果您希望属性值为一系列固定的合法值之一，请使用列举属性值。</p> 
    <div> 
     <p><strong>实体是用于定义用于定义引用普通文本或特殊字符的快捷方式的变量。</strong></p> 
     <p><strong>实体引用是对实体的引用。</strong></p> 
     <p><strong>实体可在内部或外部进行声明。</strong></p> 
    </div> 
    <div> 
     <h2>一个内部实体声明</h2> 
     <h3>语法：</h3> 
     <pre>&lt;!ENTITY 实体名称 &quot;实体的值&quot;&gt;</pre> 
     <h3>例子：</h3> 
     <p>DTD 例子:</p> 
     <pre>&lt;!ENTITY writer &quot;Bill Gates&quot;&gt;
&lt;!ENTITY copyright &quot;Copyright W3School.com.cn&quot;&gt;</pre> 
     <p>XML 例子:</p> 
     <pre>&lt;author&gt;&amp;writer;&amp;copyright;&lt;/author&gt;</pre> 
     <p class="note"><span>注释:</span> 一个实体由三部分构成: 一个和号 (&amp;), 一个实体名称, 以及一个分号 (;)。</p> 
    </div> 
    <div> 
     <h2>一个外部实体声明</h2> 
     <h3>语法：</h3> 
     <pre>&lt;!ENTITY 实体名称 SYSTEM &quot;URI/URL&quot;&gt;</pre> 
     <h3>例子：</h3> 
     <p>DTD 例子:</p> 
     <pre>&lt;!ENTITY writer SYSTEM &quot;http://www.w3school.com.cn/dtd/entities.dtd&quot;&gt;
&lt;!ENTITY copyright SYSTEM &quot;http://www.w3school.com.cn/dtd/entities.dtd&quot;&gt;</pre> 
     <p>XML 例子:</p> 
     <pre>&lt;author&gt;&amp;writer;&amp;copyright;&lt;/author&gt;</pre> 
    </div> 
   </div> 
  </div> 
 </div> 
</div> 
<p> </p> 
<p> </p></div></body></html>