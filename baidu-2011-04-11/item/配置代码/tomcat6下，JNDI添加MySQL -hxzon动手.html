<html><head><title>tomcat6下，JNDI添加MySQL -hxzon动手</title></head><body><div id='tit'>tomcat6下，JNDI添加MySQL -hxzon动手</div><div id='cate'>配置代码</div><div id='date'>2008年08月22日 星期五 10:02 A.M.</div><div id='page'>107</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/f6c753fbbb7825106c22eb50.html'>http://hi.baidu.com/hxzon/blog/item/f6c753fbbb7825106c22eb50.html</a><div id='cnt'><p>tomcat6下，JNDI添加MySQL -hxzon动手</p> 
<p>1.conf/server.xml文件的&lt;GlobalNamingResources&gt;<br /> <wbr /><wbr />里添加</p> 
<p>&lt;Resource name=&quot;jdbc/你的名字&quot; auth=&quot;Container&quot;<br /> <wbr /><wbr /><wbr /><wbr />type=&quot;javax.sql.DataSource&quot; maxActive=&quot;20&quot; maxIdle=&quot;30&quot;<br /> <wbr /><wbr /><wbr /><wbr />maxWait=&quot;10000&quot; username=&quot;你的数据库用户名&quot; password=&quot;你的数据库密码&quot;<br /> <wbr /><wbr /><wbr /><wbr />driverClassName=&quot;com.mysql.jdbc.Driver&quot;<br /> <wbr /><wbr /><wbr /><wbr />url=&quot;jdbc:mysql://localhost:3306/你的数据库名字?autoReconnect=true&quot; /&gt;</p> 
<p>结果如下</p> 
<p>&lt;GlobalNamingResources&gt;<br /> <wbr /><wbr />&lt;Resource name=&quot;UserDatabase&quot; auth=&quot;Container&quot;<br /> <wbr /><wbr /><wbr /><wbr /><wbr /><wbr /><wbr />type=&quot;org.apache.catalina.UserDatabase&quot;<br /> <wbr /><wbr /><wbr /><wbr /><wbr /><wbr /><wbr />description=&quot;User database that can be updated and saved&quot;<br /> <wbr /><wbr /><wbr /><wbr /><wbr /><wbr /><wbr />factory=&quot;org.apache.catalina.users.MemoryUserDatabaseFactor<wbr />y&quot;<br /> <wbr /><wbr /><wbr /><wbr /><wbr /><wbr /><wbr />pathname=&quot;conf/tomcat-users.xml&quot; /&gt;<br /> <wbr /><wbr />&lt;Resource name=&quot;jdbc/你的名字&quot; auth=&quot;Container&quot;<br /> <wbr /><wbr /><wbr /><wbr />type=&quot;javax.sql.DataSource&quot; maxActive=&quot;20&quot; maxIdle=&quot;30&quot;<br /> <wbr /><wbr /><wbr /><wbr />maxWait=&quot;10000&quot; username=&quot;root&quot; password=&quot;root&quot;<br /> <wbr /><wbr /><wbr /><wbr />driverClassName=&quot;com.mysql.jdbc.Driver&quot;<br /> <wbr /><wbr /><wbr /><wbr />url=&quot;jdbc:mysql://localhost:3306/test?autoReconnect=true&quot; /&gt;<br /> <wbr />&lt;/GlobalNamingResources&gt;<br /> 2、conf/web.xml前面添加</p> 
<p> &lt;resource-ref&gt;<br /> <br /> &lt;description&gt;DB Connection&lt;/description&gt;<br /> <br /> &lt;res-ref-name&gt;jdbc/你的名字&lt;/res-ref-name&gt;<br /> <br /> &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;<br /> <br /> &lt;res-auth&gt;Container&lt;/res-auth&gt;<br /> <br /> &lt;/resource-ref&gt;</p> 
<p>3、Tomcat 6.0\lib添加mysql-connector-java-3.1.13-bin.jar包。</p> 
<p>4、hxzon：成功。</p> 
<p><a href="http://hi.baidu.com/hxzon/blog/item/669e5f82f14eb5a40df4d2ce.html">http://hi.baidu.com/hxzon/blog/item/669e5f82f14eb5a40df4d2ce.html</a></p> 
<p><a href="http://hi.baidu.com/hxzon/blog/item/4128bf01926a9305728da5c8.html">http://hi.baidu.com/hxzon/blog/item/4128bf01926a9305728da5c8.html</a></p></div></body></html>