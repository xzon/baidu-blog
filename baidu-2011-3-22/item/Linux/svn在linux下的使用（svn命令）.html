<html><head><title><div class="tit">
  svn在linux下的使用（svn命令）
</div></title></head><body><div id='tit'>svn在linux下的使用（svn命令）</div><div id='cate'>Linux</div><div id='date'>2009年11月25日 星期三 03:26 P.M.</div><div id='page'>23</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/c1d10408f4ddc7db62d986bb.html'>http://hi.baidu.com/hxzon/blog/item/c1d10408f4ddc7db62d986bb.html</a><div id='cnt'><p>svn在linux下的使用（svn命令）</p> 
<p style="text-indent: 2em">刚来公司时同事将电脑安装好了才给我使用，很多东西都不是我亲自动手，这几天我们换了新的电脑很多东西都是我自己动手实现，不容易啊，在使用linux下的SVN时遇到些问题，从网上拷来一篇文章学习了不少东西，保留下来以后好看。</p> 
<p style="text-indent: 2em">svn在linux下的使用（svn命令）</p> 
<p style="text-indent: 2em">1、将文件checkout到本地目录</p> 
<p style="text-indent: 2em">svn checkout path（path是服务器上的目录）</p> 
<p style="text-indent: 2em">例如：svn checkout svn://192.168.1.1/pro/domain</p> 
<p style="text-indent: 2em">简写：svn co</p> 
<p style="text-indent: 2em">2、往版本库中添加新的文件</p> 
<p style="text-indent: 2em">&nbsp;&nbsp; svn add file</p> 
<p style="text-indent: 2em">例如：svn add test.php(添加test.php)</p> 
<p style="text-indent: 2em">svn add *.php(添加当前目录下所有的php文件)</p> 
<p style="text-indent: 2em">3、将改动的文件提交到版本库</p> 
<p style="text-indent: 2em">&nbsp;&nbsp; svn commit -m “LogMessage“ [-N] [–no-unlock] PATH<img border="0" src="image/svn在linux下的使用（svn命令）.dot.gif" /><p class="origImg">http://www.blogjava.net/Images/dot.gif</p>(如果选择了保持锁，就使用–no-unlock开关)</p> 
<p style="text-indent: 2em">例如：svn commit -m “add test file for my test“ test.php</p> 
<p style="text-indent: 2em">简写：svn ci</p> 
<p style="text-indent: 2em">4、加锁/解锁</p> 
<p style="text-indent: 2em">&nbsp;&nbsp; svn lock -m “LockMessage“ [–force] PATH<img border="0" src="image/svn在linux下的使用（svn命令）.dot.gif" /><p class="origImg">http://www.blogjava.net/Images/dot.gif</p></p> 
<p style="text-indent: 2em">例如：svn lock -m “lock test file“ test.php</p> 
<p style="text-indent: 2em">svn unlock PATH</p> 
<p style="text-indent: 2em">5、更新到某个版本</p> 
<p style="text-indent: 2em">&nbsp;&nbsp; svn update -r m path</p> 
<p style="text-indent: 2em">例如：</p> 
<p style="text-indent: 2em">svn update如果后面没有目录，默认将当前目录以及子目录下的所有文件都更新到最新版本。</p> 
<p style="text-indent: 2em">svn update -r 200 test.php(将版本库中的文件test.php还原到版本200)</p> 
<p style="text-indent: 2em">svn update test.php(更新，于版本库同步。如果在提交的时候提示过期的话，是因为冲突，需要先update，修改文件，然后清除svn resolved，最后再提交commit)</p> 
<p style="text-indent: 2em">简写：svn up</p> 
<p style="text-indent: 2em">6、查看文件或者目录状态</p> 
<p style="text-indent: 2em">&nbsp;&nbsp; 1）svn status path<img border="0" src="image/svn在linux下的使用（svn命令）.dot.gif" /><p class="origImg">http://www.blogjava.net/Images/dot.gif</p>（目录下的文件和子目录的状态，正常状态不显示）</p> 
<p style="text-indent: 2em">【?：不在svn的控制中；M：内容被修改；C：发生冲突；A：预定加入到版本库；K：被锁定】</p> 
<p style="text-indent: 2em">2）svn status -v path<img border="0" src="image/svn在linux下的使用（svn命令）.dot.gif" /><p class="origImg">http://www.blogjava.net/Images/dot.gif</p>(显示文件和子目录状态)</p> 
<p style="text-indent: 2em">第一列保持相同，第二列显示工作版本号，第三和第四列显示最后一次修改的版本号和修改人。</p> 
<p style="text-indent: 2em">注：svn status、svn diff和 svn revert这三条命令在没有网络的情况下也可以执行的，原因是svn在本地的.svn中保留了本地版本的原始拷贝。</p> 
<p style="text-indent: 2em">简写：svn st</p> 
<p style="text-indent: 2em">7、删除文件</p> 
<p style="text-indent: 2em">&nbsp;&nbsp; svn delete path -m “delete test fle“</p> 
<p style="text-indent: 2em">例如：svn delete svn://192.168.1.1/pro/domain/test.php -m “delete test file”</p> 
<p style="text-indent: 2em">或者直接svn delete test.php 然后再svn ci -m ‘delete test file‘，推荐使用这种</p> 
<p style="text-indent: 2em">简写：svn (del, remove, rm)</p> 
<p style="text-indent: 2em">8、查看日志</p> 
<p style="text-indent: 2em">&nbsp;&nbsp; svn log path</p> 
<p style="text-indent: 2em">例如：svn log test.php 显示这个文件的所有修改记录，及其版本号的变化</p> 
<p style="text-indent: 2em">9、查看文件详细信息</p> 
<p style="text-indent: 2em">&nbsp;&nbsp; svn info path</p> 
<p style="text-indent: 2em">例如：svn info test.php</p> 
<p style="text-indent: 2em">10、比较差异</p> 
<p style="text-indent: 2em">&nbsp;&nbsp; svn diff path(将修改的文件与基础版本比较)</p> 
<p style="text-indent: 2em">例如：svn diff test.php</p> 
<p style="text-indent: 2em">svn diff -r m:n path(对版本m和版本n比较差异)</p> 
<p style="text-indent: 2em">例如：svn diff -r 200:201 test.php</p> 
<p style="text-indent: 2em">简写：svn di</p> 
<p style="text-indent: 2em">11、将两个版本之间的差异合并到当前文件</p> 
<p style="text-indent: 2em">&nbsp;&nbsp; svn merge -r m:n path</p> 
<p style="text-indent: 2em">例如：svn merge -r 200:205 test.php（将版本200与205之间的差异合并到当前文件，但是一般都会产生冲突，需要处理一下）</p> 
<p style="text-indent: 2em">12、SVN 帮助</p> 
<p style="text-indent: 2em">&nbsp;&nbsp; svn help</p> 
<p style="text-indent: 2em">svn help ci</p> 
<p style="text-indent: 2em">——————————————————————————</p> 
<p style="text-indent: 2em">以上是常用命令，下面写几个不经常用的</p> 
<p style="text-indent: 2em">——————————————————————————</p> 
<p style="text-indent: 2em">13、版本库下的文件和目录列表</p> 
<p style="text-indent: 2em">&nbsp;&nbsp; svn list path</p> 
<p style="text-indent: 2em">显示path目录下的所有属于版本库的文件和目录</p> 
<p style="text-indent: 2em">简写：svn ls</p> 
<p style="text-indent: 2em">14、创建纳入版本控制下的新目录</p> 
<p style="text-indent: 2em">svn mkdir: 创建纳入版本控制下的新目录。</p> 
<p style="text-indent: 2em">用法: 1、mkdir PATH…</p> 
<p style="text-indent: 2em">2、mkdir URL…</p> 
<p style="text-indent: 2em">创建版本控制的目录。</p> 
<p style="text-indent: 2em">1、每一个以工作副本 PATH 指定的目录，都会创建在本地端，并且加入新增</p> 
<p style="text-indent: 2em">调度，以待下一次的提交。</p> 
<p style="text-indent: 2em">2、每个以URL指定的目录，都会透过立即提交于仓库中创建。</p> 
<p style="text-indent: 2em">在这两个情况下，所有的中间目录都必须事先存在。</p> 
<p style="text-indent: 2em">15、恢复本地修改</p> 
<p style="text-indent: 2em">svn revert: 恢复原始未改变的工作副本文件 (恢复大部份的本地修改)。revert:</p> 
<p style="text-indent: 2em">用法: revert PATH…</p> 
<p style="text-indent: 2em">注意: 本子命令不会存取网络，并且会解除冲突的状况。但是它不会恢复</p> 
<p style="text-indent: 2em">被删除的目录</p> 
<p style="text-indent: 2em">16、代码库URL变更</p> 
<p style="text-indent: 2em">svn switch (sw): 更新工作副本至不同的URL。</p> 
<p style="text-indent: 2em">用法: 1、switch URL [PATH]</p> 
<p style="text-indent: 2em">2、switch –relocate FROM TO [PATH…]</p> 
<p style="text-indent: 2em">1、更新你的工作副本，映射到一个新的URL，其行为跟“svn update”很像，也会将</p> 
<p style="text-indent: 2em">服务器上文件与本地文件合并。这是将工作副本对应到同一仓库中某个分支或者标记的</p> 
<p style="text-indent: 2em">方法。</p> 
<p style="text-indent: 2em">2、改写工作副本的URL元数据，以反映单纯的URL上的改变。当仓库的根URL变动</p> 
<p style="text-indent: 2em">(比如方案名或是主机名称变动)，但是工作副本仍旧对映到同一仓库的同一目录时使用</p> 
<p style="text-indent: 2em">这个命令更新工作副本与仓库的对应关系。</p> 
<p style="text-indent: 2em">17、解决冲突</p> 
<p style="text-indent: 2em">svn resolved: 移除工作副本的目录或文件的“冲突”状态。</p> 
<p style="text-indent: 2em">用法: resolved PATH…</p> 
<p style="text-indent: 2em">注意: 本子命令不会依语法来解决冲突或是移除冲突标记；它只是移除冲突的</p> 
<p style="text-indent: 2em">相关文件，然后让 PATH 可以再次提交。</p> 
<p style="text-indent: 2em">18、输出指定文件或URL的内容。</p> 
<p style="text-indent: 2em">svn cat 目标[@版本]…如果指定了版本，将从指定的版本开始查找。</p> 
<p style="text-indent: 2em">svn cat -r PREV filename &gt; filename (PREV 是上一版本,也可以写具体版本号,这样输出结果是可以提交的)</p></div></body></html>