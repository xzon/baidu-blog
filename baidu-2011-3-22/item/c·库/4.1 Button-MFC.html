<html><head><title><div class="tit">
  4.1 Button-MFC
</div></title></head><body><div id='tit'>4.1 Button-MFC</div><div id='cate'>c&middot;库</div><div id='date'>2008年07月03日 星期四 11:25 P.M.</div><div id='page'>120</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/33b38018500c3ab14bedbc43.html'>http://hi.baidu.com/hxzon/blog/item/33b38018500c3ab14bedbc43.html</a><div id='cnt'><p>4.1 Button-MFC</p> 
<p> </p> 
<p>按钮窗口（控件）在MFC中使用CButton表示，CButton包含了三种样式的按钮，Push Button，Check Box，Radio Box。所以在利用CButton对象生成按钮窗口时需要指明按钮的风格。</p> 
<p>创建按钮：BOOL CButton::Create( LPCTSTR lpszCaption, DWORD dwStyle, const RECT&amp; rect, CWnd* pParentWnd, UINT nID );其中lpszCaption是按钮上显示的文字，dwStyle为按钮风格，除了Windows风格可以使用外（如WS_CHILD|WS_VISUBLE|WS_BORDER）还有按钮专用的一些风格。</p> 
<ul type="disc"> 
 <li><strong>BS_AUTOCHECKBOX</strong> 检查框，按钮的状态会自动改变&nbsp;&nbsp;&nbsp; Same as a check box, except that a check mark appears in the check box when the user selects the box; the check mark disappears the next time the user selects the box.</li> 
 <li><strong>BS_AUTORADIOBUTTON</strong> 圆形选择按钮，按钮的状态会自动改变&nbsp;&nbsp;&nbsp; Same as a radio button, except that when the user selects it, the button automatically highlights itself and removes the selection from any other radio buttons with the same style in the same group.</li> 
 <li><strong>BS_AUTO3STATE</strong> 允许按钮有三种状态即：选中，未选中，未定&nbsp;&nbsp;&nbsp; Same as a three-state check box, except that the box changes its state when the user selects it.</li> 
 <li><strong>BS_CHECKBOX</strong> 检查框&nbsp;&nbsp;&nbsp; Creates a small square that has text displayed to its right (unless this style is combined with the <strong>BS_LEFTTEXT</strong> style).</li> 
 <li><strong>BS_DEFPUSHBUTTON</strong> 默认普通按钮&nbsp;&nbsp;&nbsp; Creates a button that has a heavy black border. The user can select this button by pressing the ENTER key. This style enables the user to quickly select the most likely option (the default option).</li> 
 <li><strong>BS_LEFTTEXT</strong> 左对齐文字&nbsp;&nbsp;&nbsp; When combined with a radio-button or check-box style, the text appears on the left side of the radio button or check box.</li> 
 <li><strong>BS_OWNERDRAW</strong> 自绘按钮&nbsp;&nbsp;&nbsp; Creates an owner-drawn button. The framework calls the <strong>DrawItem</strong> member function when a visual aspect of the button has changed. This style must be set when using the <strong>CBitmapButton</strong> class.</li> 
 <li><strong>BS_PUSHBUTTON</strong> 普通按钮&nbsp;&nbsp;&nbsp; Creates a pushbutton that posts a <strong>WM_COMMAND</strong> message to the owner window when the user selects the button.</li> 
 <li><strong>BS_RADIOBUTTON</strong> 圆形选择按钮&nbsp;&nbsp;&nbsp; Creates a small circle that has text displayed to its right (unless this style is combined with the <strong>BS_LEFTTEXT</strong> style). Radio buttons are usually used in groups of related but mutually exclusive choices.</li> 
 <li><strong>BS_3STATE</strong> 允许按钮有三种状态即：选中，未选中，未定&nbsp;&nbsp;&nbsp; Same as a check box, except that the box can be dimmed as well as checked. The dimmed state typically is used to show that a check box has been disabled.</li> 
</ul> 
<p>rect为窗口所占据的矩形区域，pParentWnd为父窗口指针，nID为该窗口的ID值。</p> 
<p> </p> 
<p>获取/改变按钮状态：对于检查按钮和圆形按钮可能有两种状态，选中和未选中，如果设置了BS_3STATE或BS_AUTO3STATE风格就可能出现第三种状态：未定，这时按钮显示灰色。通过调用int CButton::GetCheck( ) 得到当前是否被选中，返回0：未选中，1：选中，2：未定。调用void CButton::SetCheck( int nCheck );设置当前选中状态。</p> 
<p>处理按钮消息：要处理按钮消息需要在<font color="#ff0000">父窗口</font>中进行消息映射，映射宏为ON_BN_CLICKED( id, memberFxn )id为按钮的ID值，就是创建时指定的nID值。处理函数原型为afx_msg void memberFxn( );</p> 
<p> </p> 
<p> </p> 
<p align="left"><a href="http://tech.china.com/zh_cn/netschool/programme/c/656/20001207/vc01.html">http://tech.china.com/zh_cn/netschool/programme/c/656/20001207/vc01.html</a></p> 
<p align="left"><strong><font size="4">Visual C++/MFC入门教程</font></strong></p></div></body></html>