<html><head><title><div class="tit">
  zIndex的几个小小的问题(二)
</div></title></head><body><div id='tit'>zIndex的几个小小的问题(二)</div><div id='cate'>js-css&middot;基础</div><div id='date'>2009年04月04日 星期六 11:20 P.M.</div><div id='page'>58</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/72b8cefc6ecc95f5fc037fd1.html'>http://hi.baidu.com/hxzon/blog/item/72b8cefc6ecc95f5fc037fd1.html</a><div id='cnt'><h1 class="ContentTitle"><strong>zIndex的几个小小的问题(二) </strong></h1> 
<div> 
 <p>这些文字是对上篇文章的一点补充，没有什么需要特别说明的，只是把一些“概念常识”整理一下。</p> 
 <p>仍然先做一个和上篇文章中纸牌式的效果或仍沿用那个效果：</p> 
 <p align="center"><img src="image/zIndex的几个小小的问题(二).ht.20070514084329922.jpg" /><p class="origImg">http://www.doyoe.com/UploadFiles/20070514084329922.jpg</p></p> 
 <p>［<strong>演示地址：</strong><a target="_blank" href="http://www.doyoe.com/model/xhtmlcss/style/zindex/3.htm"><font color="#565656">http://www.doyoe.com/model/xhtmlcss/style/zindex/3.htm</font></a>］</p> 
 <p><strong>CSS部分：</strong></p> 
 <p class="quote">div { position: absolute; color: #fff; width: 150px; height: 150px; border: 1px solid #ddd;}<br /> .dy1 { top: 100px; left: 100px; background-color: #000; z-index: 1;}<br /> .dy2 { top: 130px; left: 120px; background-color: #f00; z-index: 2;}<br /> .dy3 { top: 160px; left: 140px; background-color: #050; z-index: 3;}</p> 
 <p><strong>XHTML部分：</strong></p> 
 <p class="quote">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; <br /> &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;<br /> &lt;html&gt;<br /> &lt;head&gt;<br /> &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=gb2312&quot; /&gt;<br /> &lt;meta name=&quot;Author&quot; content=&quot;飘零雾雨|edzmaster@gmail.com&quot; /&gt;<br /> &lt;title&gt;DY Css zIndex&lt;/title&gt;<br /> &lt;/head&gt;<br /> &lt;body&gt;<br /> &lt;div class=&quot;dy1&quot;&gt;dy1&lt;/div&gt;<br /> &lt;div class=&quot;dy2&quot;&gt;dy2&lt;/div&gt;<br /> &lt;div class=&quot;dy3&quot;&gt;dy3&lt;/div&gt;<br /> &lt;/body&gt;<br /> &lt;/html&gt;</p> 
 <p>我们试着把里面的zIndex都去掉，然后看效果，发现和之前的是一模一样的，那这意思是不是说zIndex是无意义的？这个一会再说。</p> 
 <p><strong>CSS：</strong></p> 
 <p class="quote">.dy1 { top: 100px; left: 100px; background-color: #000; }<br /> .dy2 { top: 130px; left: 120px; background-color: #f00; }<br /> .dy3 { top: 160px; left: 140px; background-color: #050; }</p> 
 <p>首先来看为什么不写zIndex也会有相同的效果。是不是在不写情况下，它们本身也具有了一个缺省的zIndex值，这个值是多少呢？</p> 
 <p><strong>问题二：zIndex是否无存在意义？</strong></p> 
 <p><strong>问题三：每个元素是否都有一个zIndex初始值？这个值是多少？</strong></p> 
 <p>要判断是否真如上面所猜，其实非常简单：</p> 
 <p>首先，给dy2加上zIndex，值任意，不过为了节省点时间，可以取小点，就1吧。</p> 
 <p class="quote">.dy2 { top: 130px; left: 120px; background-color: #f00; z-index: 1; }</p> 
 <p align="center"><img src="image/zIndex的几个小小的问题(二).ht.20070514090357797.jpg" /><p class="origImg">http://www.doyoe.com/UploadFiles/20070514090357797.jpg</p></p> 
 <p>刷新，效果如上图，dy2已经覆盖在dy1和dy3之上了，这说明dy1和dy3的zIndex小于1，从而也回答了第二个问题，<strong>zIndex的存在并非无意义</strong>。但即使这样，我们仍然不知道它们的zIndex值是多少。再更改dy2的zIndex为0，发现又恢复了刚开始时的效果。</p> 
 <p class="quote">.dy2 { top: 130px; left: 120px; background-color: #f00; z-index: 0; }</p> 
 <p align="center"><img src="image/zIndex的几个小小的问题(二).ht.20070514084329922.jpg" /><p class="origImg">http://www.doyoe.com/UploadFiles/20070514084329922.jpg</p></p> 
 <p>这是不是说明刚开始的时候dy2的zIndex值就为0呢？不急，再等等。更改dy2的zIndex值得为-1。</p> 
 <p class="quote">dy2 { top: 130px; left: 120px; background-color: #f00; z-index: -1; }</p> 
 <p align="center"><strong>IE：</strong><img src="image/zIndex的几个小小的问题(二).ht.20070514090757115.jpg" /><p class="origImg">http://www.doyoe.com/UploadFiles/20070514090757115.jpg</p><strong>FF：<img src="image/zIndex的几个小小的问题(二).ht.20070514090945520.jpg" /><p class="origImg">http://www.doyoe.com/UploadFiles/20070514090945520.jpg</p></strong></p> 
 <p>此时IE中dy2已经跑到dy1和dy3的下面去了，FF中dy2则消失不见，但依然可以看出绝对是在dy1和dy3之下，因为dy1和dy3之间没有任何东西阻隔。</p> 
 <p>得出的结果是：-1&lt;zIndex(dy2)缺省值&lt;1，由此可见dy2的zIndex确实有个缺省值，而且这个是值就是0。因为zIndex的值为正负整数，而整数只有0才会比-1大且比1小。</p> 
 <p>这时又有一个问题：dy1，dy3的zIndex缺省值又为多少呢？从前面的测试里可以知道：当dy2的zIndex为1时，dy1，dy3都在dy2之下，由此可见zIndex(dy1)缺省值&lt;1，zIndex(dy3)缺省值&lt;1；当dy2的zIndex为-1时，dy1,dy3都在dy2之上，所以zIndex(dy1)缺省值&gt;-1，zIndex(dy3)缺省值&gt;-1；显而易见，zIndex(dy1)和zIndex(dy3)的缺省值居然也为0，也就是说zIndex(dy1)=zIndex(dy2)=zIndex(dy3)=0，这是怎么回事？既然都为0，为什么还会有层叠效果？</p> 
 <p>既然是这样，我们直接都给dy1，dy2，dy3加上一个z-index:0;</p> 
 <p class="quote">.dy1 { top: 100px; left: 100px; background-color: #000; z-index: 0;}<br /> .dy2 { top: 130px; left: 120px; background-color: #f00; z-index: 0;}<br /> .dy3 { top: 160px; left: 140px; background-color: #050; z-index: 0;}</p> 
 <p>果然，判断没有错，效果是一样的。那这是不是又说明，只要给它们的zIndex都赋一个相同的值，就会产生和zIndex顺次增大同样的效果？为了让结论更具说服力，需多测试几次：于是把它们的zIndex值都改为1，刷新，效果相同；改为2，刷新，效果相同；改为100，刷新，效果还是一样。</p> 
 <p>由此可见，如果我们要求一层要覆盖另一层时，只要不设置zIndex，默认的是会后面写的层盖在前写的层上，且<strong>所有的元素在无外在作用情况下，其zIndex初始值都为0</strong>。</p> 
</div> 
<p><a href="http://blog.doyoe.com/article.asp?id=17">http://blog.doyoe.com/article.asp?id=17</a></p></div></body></html>