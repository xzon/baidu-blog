<html><head><title><div class="tit">
  JSP调用FCKeditor的3种方法 -gcode
</div></title></head><body><div id='tit'>JSP调用FCKeditor的3种方法 -gcode</div><div id='cate'>js-css&middot;库</div><div id='date'>2008年08月12日 星期二 00:24 A.M.</div><div id='page'>112</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/0df616380294b1f4b311c7ec.html'>http://hi.baidu.com/hxzon/blog/item/0df616380294b1f4b311c7ec.html</a><div id='cnt'><p>JSP调用FCKeditor的3种方法 -gcode</p> 
<p>1. 使用FCKeditor自定义标签<br /> &lt;%@&nbsp;&nbsp; page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot;%&gt;<br /> <font color="#ff0000">&lt;%@&nbsp;&nbsp; taglib uri=&quot;/WEB-INF/FCKeditor.tld &quot; prefix=&quot;fck&quot;%&gt;</font><br /> &lt;html&gt;<br /> &nbsp;&nbsp;&nbsp; &lt;head&gt;<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;title&gt;Test&lt;/title&gt;<br /> &nbsp;&nbsp;&nbsp; &lt;/head&gt;<br /> &nbsp;&nbsp;&nbsp; &lt;body&gt;<br /> &nbsp;&nbsp;&nbsp; &lt;!-- 标签调用方式 --&gt;<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;FORM action=&quot;show.jsp&quot;&gt;<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="background-color: rgb(204,255,255)">&lt;fck:editor id=&quot;content&quot; basePath=&quot;/test/fckeditor/&quot; height=&quot;400&quot;</span><br style="background-color: rgb(204,255,255)" /> <span style="background-color: rgb(204,255,255)">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; width=&quot;800&quot; skinPath=&quot;/test/fckeditor/editor/skins/default/&quot;</span><br style="background-color: rgb(204,255,255)" /> <span style="background-color: rgb(204,255,255)">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; toolbarSet=&quot;Default&quot;</span><br style="background-color: rgb(204,255,255)" /> <span style="background-color: rgb(204,255,255)">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; imageBrowserURL=&quot;/test/fckeditor/editor/filemanager/browser/default/browser.html?Type=Image&amp;Connector=connectors/jsp/connector&quot;</span><br style="background-color: rgb(204,255,255)" /> <span style="background-color: rgb(204,255,255)">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; linkBrowserURL=&quot;/test/fckeditor/editor/filemanager/browser/default/browser.html?Connector=connectors/jsp/connector&quot;</span><br style="background-color: rgb(204,255,255)" /> <span style="background-color: rgb(204,255,255)">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; flashBrowserURL=&quot;/test/fckeditor/editor/filemanager/browser/default/browser.html?Type=Flash&amp;Connector=connectors/jsp/connector&quot;</span><br style="background-color: rgb(204,255,255)" /> <span style="background-color: rgb(204,255,255)">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; imageUploadURL=&quot;/test/fckeditor/editor/filemanager/upload/simpleuploader?Type=Image&quot;</span><br style="background-color: rgb(204,255,255)" /> <span style="background-color: rgb(204,255,255)">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; linkUploadURL=&quot;/test/fckeditor/editor/filemanager/upload/simpleuploader?Type=File&quot;</span><br style="background-color: rgb(204,255,255)" /> <span style="background-color: rgb(204,255,255)">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; flashUploadURL=&quot;/test/fckeditor/editor/filemanager/upload/simpleuploader?Type=Flash&quot;&gt;</span><br style="background-color: rgb(204,255,255)" /> <span style="background-color: rgb(204,255,255)">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/fck:editor&gt;</span><br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;input type=&quot;submit&quot; value=&quot;提交&quot;&gt;<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/FORM&gt;<br /> &nbsp;&nbsp;&nbsp; &lt;/body&gt;<br /> &lt;/html&gt;<br /> 2. 用Javascript脚本语言调用<br /> &lt;%@&nbsp;&nbsp; page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot;%&gt;<br /> <br /> &lt;html&gt;<br /> &nbsp;&nbsp;&nbsp; &lt;head&gt;<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;title&gt;Test&lt;/title&gt;<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <font color="#ff0000">&lt;script type=&quot;text/javascript&quot; src=&quot;/test/fckeditor/fckeditor.js&quot;&gt;&lt;/script&gt; </font><br /> &nbsp;&nbsp;&nbsp; &lt;/head&gt;<br /> <br /> &nbsp;&nbsp;&nbsp; &lt;body&gt;<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;form action=&quot;show.jsp&quot; method=&quot;get&quot;&gt;<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;table border=&quot;0&quot; width=&quot;700&quot;&gt;<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;tr&gt;<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;td&gt;<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;textarea id=&quot;content&quot; name=&quot;content&quot;<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; style=&quot;WIDTH: 100%; HEIGHT: 400px&quot;&gt;input&lt;/textarea&gt;<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="background-color: rgb(204,255,255)">&lt;script type=&quot;text/javascript&quot;&gt; </span><br style="background-color: rgb(204,255,255)" /> <span style="background-color: rgb(204,255,255)">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; var oFCKeditor = new FCKeditor('content') ; </span><br style="background-color: rgb(204,255,255)" /> <span style="background-color: rgb(204,255,255)">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; oFCKeditor.BasePath = &quot;/test/fckeditor/&quot; ; </span><br style="background-color: rgb(204,255,255)" /> <span style="background-color: rgb(204,255,255)">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; oFCKeditor.Height = 400; </span><br style="background-color: rgb(204,255,255)" /> <span style="background-color: rgb(204,255,255)">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; oFCKeditor.ToolbarSet = &quot;Default&quot; ; </span><br style="background-color: rgb(204,255,255)" /> <span style="background-color: rgb(204,255,255)">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; oFCKeditor.ReplaceTextarea(); </span><br style="background-color: rgb(204,255,255)" /> <span style="background-color: rgb(204,255,255)">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/script&gt;</span><br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/td&gt;<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/tr&gt;<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/table&gt;<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/form&gt;<br /> &nbsp;&nbsp;&nbsp; &lt;/body&gt;<br /> &lt;/html&gt;<br /> 3. FCKeditor API 调用<br /> &lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot;%&gt;<br /> <font color="#ff0000">&lt;%@ page language=&quot;java&quot; import=&quot;com.fredck.FCKeditor.*&quot; %&gt;</font><br /> &lt;html&gt;<br /> &nbsp;&nbsp;&nbsp; &lt;head&gt;<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;title&gt;Test&lt;/title&gt;<br /> &nbsp;&nbsp;&nbsp; &lt;/head&gt;<br /> <br /> &nbsp;&nbsp;&nbsp; &lt;body&gt;<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;form action=&quot;show.jsp&quot; method=&quot;post&quot;&gt; <br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="background-color: rgb(204,255,204)">&lt;% </span><br style="background-color: rgb(204,255,204)" /> <span style="background-color: rgb(204,255,204)">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; FCKeditor oFCKeditor ; </span><br style="background-color: rgb(204,255,204)" /> <span style="background-color: rgb(204,255,204)">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; oFCKeditor = new FCKeditor( request, &quot;content&quot; ) ; </span><br style="background-color: rgb(204,255,204)" /> <span style="background-color: rgb(204,255,204)">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; oFCKeditor.setBasePath( &quot;/test/fckeditor/&quot; ) ; </span><br style="background-color: rgb(204,255,204)" /> <span style="background-color: rgb(204,255,204)">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; oFCKeditor.setValue( &quot;input&quot; );</span><br style="background-color: rgb(204,255,204)" /> <span style="background-color: rgb(204,255,204)">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; oFCKeditor.setWidth(&quot;800&quot;); </span><br style="background-color: rgb(204,255,204)" /> <span style="background-color: rgb(204,255,204)">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; out.println(oFCKeditor.create()) ; </span><br style="background-color: rgb(204,255,204)" /> <span style="background-color: rgb(204,255,204)">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; %&gt; </span><br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;br&gt; <br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt; <br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/form&gt;<br /> &nbsp;&nbsp;&nbsp; &lt;/body&gt;<br /> &lt;/html&gt;<br /> <br /> 测试页面：<u><strong>show.jsp</strong></u><br /> &lt;%@ page language=&quot;java&quot; import=&quot;java.util.*&quot; pageEncoding=&quot;UTF-8&quot;%&gt;<br /> <br /> &lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;<br /> &lt;html&gt;<br /> &lt;head&gt;<br /> &nbsp;&nbsp;&nbsp; &lt;title&gt;My JSP 'test.jsp' starting page&lt;/title&gt;<br /> <br /> &nbsp;&nbsp;&nbsp; &lt;meta http-equiv=&quot;pragma&quot; content=&quot;no-cache&quot;&gt;<br /> &nbsp;&nbsp;&nbsp; &lt;meta http-equiv=&quot;cache-control&quot; content=&quot;no-cache&quot;&gt;<br /> &nbsp;&nbsp;&nbsp; &lt;meta http-equiv=&quot;expires&quot; content=&quot;0&quot;&gt;&nbsp;&nbsp;&nbsp; <br /> &nbsp;&nbsp;&nbsp; &lt;meta http-equiv=&quot;keywords&quot; content=&quot;keyword1,keyword2,keyword3&quot;&gt;<br /> &nbsp;&nbsp;&nbsp; &lt;meta http-equiv=&quot;description&quot; content=&quot;This is my page&quot;&gt;<br /> &nbsp;&nbsp;&nbsp; &lt;!--<br /> &nbsp;&nbsp;&nbsp; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;styles.css&quot;&gt;<br /> &nbsp;&nbsp;&nbsp; --&gt;<br /> <br /> &lt;/head&gt;<br /> <br /> &lt;body&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;<font color="#ff0000"> &lt;%=new String(request.getParameter(&quot;content&quot;).getBytes(&quot;iso-8859-1&quot;),&quot;UTF-8&quot;)%&gt;</font><br /> &lt;/body&gt;<br /> &lt;/html&gt;</p> 
<p><a href="http://hi.baidu.com/javajavajava/blog/category/Fckeditor">http://hi.baidu.com/javajavajava/blog/category/Fckeditor</a></p></div></body></html>