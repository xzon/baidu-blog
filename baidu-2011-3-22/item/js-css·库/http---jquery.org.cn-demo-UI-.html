<html><head><title><div class="tit">
  http://jquery.org.cn/demo/UI/
</div></title></head><body><div id='tit'>http://jquery.org.cn/demo/UI/</div><div id='cate'>js-css&middot;库</div><div id='date'>2008年11月03日 星期一 10:30 A.M.</div><div id='page'>87</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/528fba31962b3eaf5edf0e99.html'>http://hi.baidu.com/hxzon/blog/item/528fba31962b3eaf5edf0e99.html</a><div id='cnt'><p> </p> 
<p><a href="http://jquery.org.cn/demo/UI/">http://jquery.org.cn/demo/UI/</a></p> 
<div>
 <a href="http://jquery.org.cn/demo/UI/demos/ui.accordion.html">ui.accordion.html</a>
</div> 
<div>
 <a href="http://jquery.org.cn/demo/UI/demos/ui.datepicker.html">ui.datepicker.html</a>
</div> 
<div>
 <a href="http://jquery.org.cn/demo/UI/demos/ui.dialog.html">ui.dialog.html</a>
</div> 
<div>
 <a href="http://jquery.org.cn/demo/UI/demos/ui.draggable.html">ui.draggable.html</a>
</div> 
<div>
 <a href="http://jquery.org.cn/demo/UI/demos/ui.droppable.html">ui.droppable.html</a>
</div> 
<div>
 <a href="http://jquery.org.cn/demo/UI/demos/ui.resizable.html">ui.resizable.html</a>
</div> 
<div>
 <a href="http://jquery.org.cn/demo/UI/demos/ui.selectable.html">ui.selectable.html</a>
</div> 
<div>
 <a href="http://jquery.org.cn/demo/UI/demos/ui.slider.html">ui.slider.html</a>
</div> 
<div>
 <a href="http://jquery.org.cn/demo/UI/demos/ui.sortable.boxes.html">ui.sortable.boxes.html</a>
</div> 
<div>
 <a href="http://jquery.org.cn/demo/UI/demos/ui.sortable.html">ui.sortable.html</a>
</div> 
<div>
 <a href="http://jquery.org.cn/demo/UI/demos/ui.tabs.ahah.html">ui.tabs.ahah.html</a>
</div> 
<div>
 <a href="http://jquery.org.cn/demo/UI/demos/ui.tabs.html">ui.tabs.html</a>
 <br /> 
 <br /> -------------------------------------
 <br /> 
 <h1>jquery插件文件上传(File upload)</h1> 
 <br /> 
 <p><a href="http://www.phpletter.com/Demo/AjaxFileUpload-Demo/"><font color="#333333">Ajax File Upload</font></a>.<br /> <a href="http://www.pixeline.be/experiments/jqUploader/"><font color="#333333">jQUploader</font></a>.<br /> <a href="http://www.fyneworks.com/jquery/multiple-file-upload/"><font color="#333333">Multiple File Upload plugin</font></a>. <br /> <a href="http://www.appelsiini.net/projects/filestyle"><font color="#333333">jQuery File Style</font></a>.<br /> <a href="http://jquery.com/plugins/project/InputFileCSS"><font color="#333333">Styling an input type file</font></a>.<br /> <a href="http://digitalbush.com/projects/progress-bar-plugin"><font color="#333333">Progress Bar Plugin</font></a>.</p> 
 <a target="_blank" href="http://www.phpletter.com/Demo/AjaxFileUpload-Demo/ http://www.phpletter.com/DOWNLOAD/  -gcode very good   http://docs.jquery.com/UI/Uploader">http://www.phpletter.com/Demo/AjaxFileUpload-Demo/</a>
 <br /> 
 <a target="_blank" href="http://www.phpletter.com/DOWNLOAD/">http://www.phpletter.com/DOWNLOAD/</a> -gcode very good
 <br /> 
 <br /> 
 <br /> 
 <a target="_blank" href="http://docs.jquery.com/UI/Uploader">http://docs.jquery.com/UI/Uploader</a>
 <br /> http://www.fyneworks.com/jquery/multiple-file-upload/#tab-Download
 <br /> http://www.pixeline.be/
 <br /> 
 <br /> -------------------------------------------
 <br /> 
 <div class="blog_title"> 
  <h3><a href="/blog/198452">一个简单的jQuery插件ajaxfileupload实现ajax上传文件例子</a></h3> 
 </div> 
 <div class="blog_content"> 
  <p>页面代码：</p> 
  <p>&lt;html&gt;<br /> &nbsp;&nbsp;&nbsp; &lt;!-- 引入相关的js文件，相对路径 --&gt;<br /> &nbsp;&nbsp;&nbsp; &lt;script type=&quot;text/javascript&quot; src=&quot;js/jquery.js&quot;&gt;&lt;/script&gt;<br /> &nbsp;&nbsp;&nbsp; &lt;script type=&quot;text/javascript&quot; src=&quot;js/ajaxfileupload.js&quot;&gt;&lt;/script&gt;<br /> <br /> &nbsp;&nbsp;&nbsp; &lt;!-- 执行上传文件操作的函数 --&gt;<br /> &nbsp;&nbsp;&nbsp; &lt;script type=&quot;text/javascript&quot;&gt;<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; function ajaxFileUpload(){<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; $.ajaxFileUpload(<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; url:'update.do?method=uploader',&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; //需要链接到服务器地址<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; secureuri:false,<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fileElementId:'houseMaps',&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; //文件选择框的id属性<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dataType: 'xml',&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; //服务器返回的格式，可以是json<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; success: function (data, status)&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; //相当于java中try语句块的用法<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; $('#result').html('添加成功');<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; error: function (data, status, e)&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; //相当于java中catch语句块的用法<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $('#result').html('添加失败');<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; <br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; );<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }<br /> &nbsp;&nbsp;&nbsp; &lt;/script&gt;<br /> &lt;/head&gt;<br /> <br /> &lt;body&gt;<br /> &nbsp;&nbsp;&nbsp; &lt;form method=&quot;post&quot; action=&quot;update.do?method=uploader&quot; enctype=&quot;multipart/form-data&quot;&gt; <br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;input type=&quot;file&quot; id=&quot;houseMaps&quot; name=&quot;houseMaps&quot;/&gt; <br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;input type=&quot;button&quot; value=&quot;提交&quot; onclick=&quot;ajaxFileUpload()&quot;/&gt;<br /> &nbsp;&nbsp;&nbsp; &lt;/form&gt; <br /> &nbsp;&nbsp;&nbsp; &lt;div id=&quot;result&quot;&gt;&lt;/div&gt;<br /> &nbsp;&nbsp;&nbsp; <br /> &lt;/body&gt;<br /> &lt;/html&gt;</p> 
  <p>服务器代码：<br /> <br /> public class UpdateAction extends DispatchAction {<br /> <br /> &nbsp;&nbsp;&nbsp; public ActionForward uploader(ActionMapping mapping, ActionForm form,<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; HttpServletRequest request, HttpServletResponse response) {<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; UpFormForm upFormForm = (UpFormForm) form;<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; FormFile ff = upFormForm.getHouseMaps();<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; try {<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; InputStream is = ff.getInputStream();<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; File file = new File(&quot;D:/&quot; + ff.getFileName());&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; //指定文件存储的路径和文件名<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; OutputStream os = new FileOutputStream(file);<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; byte[] b = new byte[1024];<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; int len = 0;<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; while((len = is.read(b)) != -1){<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; os.write(b, 0, len);<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; os.close();<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; is.close();<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; } catch (Exception e) {<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; e.printStackTrace();<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return null;<br /> &nbsp;&nbsp;&nbsp; }<br /> }</p> 
 </div> 
</div></div></body></html>