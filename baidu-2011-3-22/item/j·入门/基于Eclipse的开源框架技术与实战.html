<html><head><title><div class="tit">
  基于Eclipse的开源框架技术与实战
</div></title></head><body><div id='tit'>基于Eclipse的开源框架技术与实战</div><div id='cate'>j&middot;入门</div><div id='date'>2008年02月28日 星期四 02:58 P.M.</div><div id='page'>172</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/8468d362992c41d9e7113aac.html'>http://hi.baidu.com/hxzon/blog/item/8468d362992c41d9e7113aac.html</a><div id='cnt'><p><a href="http://book.csdn.net/bookfiles/536"><font color="#336699">基于Eclipse的开源框架技术与实战 </font></a></p> 
<h3>13.5 常 用 组 件</h3> 
<p class="MsoNormal">有些组件在大多数操作系统都存在，SWT直接通过JNI封装了这些组件。</p> 
<h3>13.5.1 按钮</h3> 
<p class="MsoNormal">Button（按钮）是SWT组件常用的一种。在组件中添加一个按钮很简单，只需要指定按钮的父组件和相应的样式即可，例如：“Button button = new Button(shell, SWT.PUSH)”语句在shell组件中添加了一个普通的按钮。</p> 
<p class="MsoNormal">另外，添加一个按钮一般来说会指定按钮的位置（如果未指定布局信息）和按钮的显示标签，如例程13-3所示。</p> 
<p class="a2">例程13-3 HelloWorldButton.java</p> 
<p class="a5">package com.free.normal;</p> 
<p class="a5">…</p> 
<p class="a5">public class HelloWorldButton {</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; public HelloWorldButton() {</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Display display = new Display();</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Shell shell = new Shell(display);</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; //指定父组件和按钮样式</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Button button = new Button(shell, SWT.PUSH);</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; //指定按钮的位置</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; button.setBounds(40, 50, 100, 30);</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; //指定按钮的显示标签</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; button.setText(&quot;Click Me&quot;);</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; shell.setSize(200, 200);</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; shell.open();</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; while (!shell.isDisposed()) {</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; if (!display.readAndDispatch()) {</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; display.sleep();</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; display.dispose();</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; }</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; public static void main(String[] args) {</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; new HelloWorldButton();</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; }</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; }</p> 
<p style="margin-top: 4pt" class="MsoNormal">上例中展示了如何在一个窗口中添加一个按钮，程序运行效果如图13-10所示。</p> 
<p align="center"><img width="101" height="101" src="image/基于Eclipse的开源框架技术与实战..image012.jpg" /><p class="origImg">http://book.csdn.net/BookFiles/536/img/image012.jpg</p></p> 
<p align="center">图13-10 按钮组件</p> 
<p style="margin-bottom: 3.1pt" class="MsoNormal">按钮的样式有很多种，在SWT中，CheckBox（复选框）和RadioBox（单选框）都是不同样式的按钮。</p> 
<p> </p>
<table style="border-bottom-style: none; border-right-style: none; border-collapse: collapse; border-top-style: none; margin-left: 5.4pt; border-left-style: none" class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0"> 
 <tbody> 
  <tr style="height: 43.35pt"> 
   <td style="border-bottom: windowtext 1pt solid; padding-bottom: 0cm; border-right-style: none; padding-left: 5.4pt; width: 51.1pt; padding-right: 5.4pt; height: 43.35pt; border-left-style: none; border-top: windowtext 1pt solid; padding-top: 0cm" valign="top" width="68"> <p style="page-break-after: auto; text-justify: inter-ideograph; text-align: justify; margin-top: 9pt" align="center"><img width="53" height="27" src="image/基于Eclipse的开源框架技术与实战..image002.jpg" /><p class="origImg">http://book.csdn.net/BookFiles/536/img/image002.jpg</p></p> </td> 
   <td style="border-bottom: windowtext 1pt solid; padding-bottom: 0cm; border-right-style: none; padding-left: 5.4pt; width: 368.9pt; padding-right: 5.4pt; height: 43.35pt; border-left-style: none; border-top: windowtext 1pt solid; padding-top: 0cm" width="492"> <p class="a7">如果按钮为复选框或单选框，可以通过“getSelection”方法判断按钮是否被选中。</p> </td> 
  </tr> 
 </tbody> 
</table>  
<h3>13.5.2 标签</h3> 
<p class="MsoNormal">Lable（标签）是SWT组件常用的组件之一。在组件中添加一个标签很简单，只需要指定按钮的父组件和相应的样式即可，例如“Label label = new Label(shell, SWT.SEPARATOR | SWT.VERTICAL)”语句在shell组件中添加了一个标签。</p> 
<p class="MsoNormal">可以为SWT组件指定复合样式，SWT将按复合样式显示组件，如标签示例，如例程13-4所示。</p> 
<p class="a2">例程13-4 HelloWorldLabel.java</p> 
<p class="a5">public class HelloWorldLabel {</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; public static void main(String[] args) {</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Display display = new Display();</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Shell shell = new Shell(display);</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; shell.setLayout(new FillLayout());</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Label label1 = new Label(shell, SWT.WRAP);</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; label1.setText(&quot;very good!&quot;);</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; new Label(shell, SWT.SEPARATOR | SWT.HORIZONTAL);</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; new Label(shell, SWT.SEPARATOR | SWT.VERTICAL);</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Label label2 = new Label(shell, SWT.NONE);</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; label2.setText(&quot;gan.shu.man&quot;);</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; shell.setSize(200, 70);</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; shell.open();</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; while (!shell.isDisposed()) {</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (!display.readAndDispatch())</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; display.sleep();</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; display.dispose();</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p> 
<p style="margin-top: 4pt" class="MsoNormal">上例窗口中添加了4个标签，并为每个标签设置了不同的显示样式，程序运行效果如图13-11所示。</p> 
<p align="center"><img width="140" height="49" src="image/基于Eclipse的开源框架技术与实战..image013.jpg" /><p class="origImg">http://book.csdn.net/BookFiles/536/img/image013.jpg</p></p> 
<p align="center">图13-11 标签组件</p> 
<p class="MsoNormal">标签可以作为显示文本的组件，也可以作为分隔符。如果作为分隔符，标签不显示文字信息。</p> 
<h3>13.5.3 文本框</h3> 
<p class="MsoNormal">Text组件是SWT中的文本框，在组件中添加一个文本框很简单，只需要指定文本框的父组件和相应的样式即可，例如“Text t = new Text(shell, SWT.MULTI | SWT.BORDER | SWT.WRAP | SWT.V_SCROLL)”语句在shell组件中添加了一个文本框。</p> 
<p class="MsoNormal">文本框有多种显示样式，如例程13-5所示。</p> 
<p class="a2">例程13-5 HelloWorldText.java</p> 
<p class="a5">public class HelloWorldText {</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; public static void main(String[] args) {</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Display display = new Display();</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Shell shell = new Shell(display);</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; shell.setLayout(new GridLayout(1, false));</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; // 添加单行文本框</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; new Text(shell, SWT.BORDER);</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; // 添加右对齐单行文本框</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; new Text(shell, SWT.RIGHT | SWT.BORDER);</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; // 添加以密码形式显示的文本框</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; new Text(shell, SWT.PASSWORD | SWT.BORDER);</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; // 添加只读文本框</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; new Text(shell, SWT.READ_ONLY | SWT.BORDER).setText(&quot;Read Only&quot;);</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; // 添加多行显示文本框</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Text t = new Text(shell, SWT.MULTI | SWT.BORDER | SWT.WRAP | SWT.V_SCROLL);</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; //给文本属性赋值</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; t.setText(&quot;very long sting test!very long sting test!very long sting <br /> &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; test!very long sting test!&quot;);</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; t.setLayoutData(new GridData(GridData.FILL_BOTH));</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; shell.setSize(200,200);</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; shell.open();</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; while (!shell.isDisposed()) {</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (!display.readAndDispatch()) {</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; display.sleep();</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; display.dispose();</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; }</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; }</p> 
<p style="margin-top: 4pt" class="MsoNormal">窗口中添加了5个不同样式的文本框，并为每个文本框设置了不同的显示样式，程序运行效果如图13-12所示。</p> 
<p align="center"><img width="123" height="123" src="image/基于Eclipse的开源框架技术与实战..image014.jpg" /><p class="origImg">http://book.csdn.net/BookFiles/536/img/image014.jpg</p></p> 
<p align="center">图13-12 文本框组件</p> 
<p class="MsoNormal">不同类型的标签只要指定不同的样式即可，如上图所示，文本框有左对齐、右对齐、密码框、只读文本框和多行显示的文本框。</p> 
<h3>13.5.4 下拉框</h3> 
<p class="MsoNormal">Combo组件是SWT中的下拉列表框，用户可以通过“Combo combo = new Combo(shell, SWT.DROP_DOWN)”在shell组件上添加下拉列表框，另外，可以通过“combo.setItems (ITEMS)”设置下拉列表框的下拉列表，其中“ITEMS”是String的数组。下拉列表框有几种显示样式，代码如例程13-6所示。</p> 
<p class="a2">例程13-6 HelloWorldCombo.java</p> 
<p class="a5">public class HelloWorldCombo {</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //下拉列表项</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; private static final String[] ITEMS = { &quot;Alpha&quot;, &quot;Bravo&quot;, &quot;Charlie&quot;, &quot;Delta&quot;,</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &quot;Echo&quot;, &quot;Foxtrot&quot;, &quot;Golf&quot;, &quot;Hotel&quot;, &quot;India&quot;, &quot;Juliet&quot;, &quot;Kilo&quot;, &quot;Lima&quot;, &quot;Mike&quot;,</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &quot;November&quot;, &quot;Oscar&quot;, &quot;Papa&quot;, &quot;Quebec&quot;, &quot;Romeo&quot;, &quot;Sierra&quot;, &quot;Tango&quot;, &quot;Uniform&quot;,</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &quot;Victor&quot;, &quot;Whiskey&quot;, &quot;X-Ray&quot;, &quot;Yankee&quot;, &quot;Zulu&quot;</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; };</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; public static void main(String[] args) {</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Display display = new Display();</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Shell shell = new Shell(display);</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; shell.setLayout(new RowLayout());</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; //添加下拉按钮样式的下拉列表框</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Combo combo = new Combo(shell, SWT.DROP_DOWN);</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; //设置下拉列表项</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; combo.setItems(ITEMS);</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; //添加只读样式的下拉列表框</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Combo readOnly = new Combo(shell, SWT.DROP_DOWN | SWT.READ_ONLY);</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; //设置下拉列表项</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; readOnly.setItems(ITEMS);</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; //添加无下拉按钮样式的下拉列表框</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Combo simple = new Combo(shell, SWT.SIMPLE);</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; //设置下拉列表项</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; simple.setItems(ITEMS);</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; shell.open();</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; while (!shell.isDisposed()) {</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (!display.readAndDispatch()) {</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; display.sleep();</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; display.dispose();</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; }</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; }</p> 
<p style="margin-top: 4pt" class="MsoNormal">窗口中添加了3个不同样式的下拉列表框，并且设置了下拉列表框的显示样式，程序运行效果如图13-13所示。</p> 
<p align="center"><img width="152" height="225" src="image/基于Eclipse的开源框架技术与实战..image015.jpg" /><p class="origImg">http://book.csdn.net/BookFiles/536/img/image015.jpg</p></p> 
<p align="center">图13-13 下拉列表框组件</p> 
<p class="MsoNormal">上例中只是添加了Combo的显示信息，通常用户会希望所选择的Item项关联到一个对象，当选择了某一个Item项后，可以直接从此Item项中取得所选的对象，然后操作这些对象。用户可以通过Widget 类的“public void setData (String key, Object value)”和“public Object getData (String key)”方法实现此功能。</p> 
<p style="margin-bottom: 3.1pt" class="MsoNormal">Combo是Widget的子类，当初始化Combo时，可以通过setData方法把Item项的字符串和相应的对象关联起来，当选择此项时再通过getData方法把当前选择项的对象取出来。Widget类中通过一个对象数组保存用户设置的对象的引用。</p> 
<p> </p>
<table style="border-bottom-style: none; border-right-style: none; border-collapse: collapse; border-top-style: none; margin-left: 5.4pt; border-left-style: none" class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0"> 
 <tbody> 
  <tr style="height: 43.35pt"> 
   <td style="border-bottom: windowtext 1pt solid; padding-bottom: 0cm; border-right-style: none; padding-left: 5.4pt; width: 51.1pt; padding-right: 5.4pt; height: 43.35pt; border-left-style: none; border-top: windowtext 1pt solid; padding-top: 0cm" valign="top" width="68"> <p style="page-break-after: auto; text-justify: inter-ideograph; text-align: justify; margin-top: 9pt" align="center"><img width="53" height="27" src="image/基于Eclipse的开源框架技术与实战..image002.jpg" /><p class="origImg">http://book.csdn.net/BookFiles/536/img/image002.jpg</p></p> </td> 
   <td style="border-bottom: windowtext 1pt solid; padding-bottom: 0cm; border-right-style: none; padding-left: 5.4pt; width: 368.9pt; padding-right: 5.4pt; height: 43.35pt; border-left-style: none; border-top: windowtext 1pt solid; padding-top: 0cm" width="492"> <p class="a7">Widget是所有窗口组件的父类，组件如果支持多项数据显示，并可以选择这些数据，都可以通过getData和setData方法获得组件关联的对象。</p> </td> 
  </tr> 
 </tbody> 
</table>  
<h3>13.5.5 列表</h3> 
<p class="MsoNormal">List组件是SWT中的列表框，用户可以通过“List single = new List(shell, SWT.BORDER | SWT.SINGLE | SWT.V_SCROLL)”在shell组件上添加列表框，还可以通过“setItems(ITEMS)”设置下拉列表框的下拉列表，其中“ITEMS”是String的数组。列表框有几种显示样式，代码如例程13-7所示。</p> 
<p class="a2">例程13-7 HelloWorldList.java</p> 
<p class="a5">public class HelloWorldList {</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //列表项</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; private static final String[] ITEMS = { &quot;Alpha&quot;, &quot;Bravo&quot;, &quot;Charlie&quot;, <br /> &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &quot;Delta&quot;,&quot;Echo&quot;, &quot;Foxtrot&quot;, &quot;Golf&quot;, &quot;Hotel&quot;, &quot;India&quot;, &quot;Juliet&quot;, &quot;Kilo&quot;,<br /> &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &quot;Lima&quot;, &quot;Mike&quot;, &quot;November&quot;, &quot;Oscar&quot;, &quot;Papa&quot;, &quot;Quebec&quot;, &quot;Romeo&quot;, <br /> &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &quot;Sierra&quot;, &quot;Tango&quot;, &quot;Uniform&quot;,&quot;Victor&quot;, &quot;Whiskey&quot;, &quot;X-Ray&quot;, &quot;Yankee&quot;, <br /> &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &quot;Zulu&quot;</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; };</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; public static void main(String[] args) {</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Display display = new Display();</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Shell shell = new Shell(display);</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; shell.setLayout(new FillLayout());</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; //添加只能单选的列表框</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; List single = new List(shell, SWT.BORDER | SWT.SINGLE | SWT.V_SCROLL);</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; //添加列表项</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; for (int i = 0, n = ITEMS.length; i &lt; n; i++) {</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; single.add(ITEMS[i]);</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; //选择第5项</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; single.select(4);</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; //添加可多选的列表框</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; List multi = new List(shell, SWT.BORDER | SWT.MULTI | SWT.V_SCROLL);</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //添加列表项</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; multi.setItems(ITEMS);</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; //选择第10项到第12项</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; multi.select(9, 11);</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; shell.open();</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; while (!shell.isDisposed()) {</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (!display.readAndDispatch()) {</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; display.sleep();</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; display.dispose();</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; }</p> 
<p class="a5">&nbsp;&nbsp;&nbsp;&nbsp; }</p> 
<p style="margin-top: 4pt" class="MsoNormal">上例窗口中添加了两个列表框，一个为单选列表框，一个为多选列表框，程序运行效果如图13-14所示。</p> 
<p align="center"><img width="388" height="270" src="image/基于Eclipse的开源框架技术与实战..image016.jpg" /><p class="origImg">http://book.csdn.net/BookFiles/536/img/image016.jpg</p></p> 
<p align="center">图13-14 列表框组件</p> 
<p> </p>
<table style="border-bottom-style: none; border-right-style: none; border-collapse: collapse; border-top-style: none; margin-left: 5.4pt; border-left-style: none" class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0"> 
 <tbody> 
  <tr style="height: 43.35pt"> 
   <td style="border-bottom: windowtext 1pt solid; padding-bottom: 0cm; border-right-style: none; padding-left: 5.4pt; width: 51.1pt; padding-right: 5.4pt; height: 43.35pt; border-left-style: none; border-top: windowtext 1pt solid; padding-top: 0cm" valign="top" width="68"> <p style="page-break-after: auto; text-justify: inter-ideograph; text-align: justify; margin-top: 9pt" align="center"><img width="53" height="27" src="image/基于Eclipse的开源框架技术与实战..image002.jpg" /><p class="origImg">http://book.csdn.net/BookFiles/536/img/image002.jpg</p></p> </td> 
   <td style="border-bottom: windowtext 1pt solid; padding-bottom: 0cm; border-right-style: none; padding-left: 5.4pt; width: 368.9pt; padding-right: 5.4pt; height: 43.35pt; border-left-style: none; border-top: windowtext 1pt solid; padding-top: 0cm" width="492"> <p class="a7">选择列表框的多项值，可以是连续或不连续的列表项，如果选择不连续的列表项，要先按住【Shift】键再通过鼠标选择。</p> </td> 
  </tr> 
 </tbody> 
</table>  
<a href="http://book.csdn.net/bookfiles/536/10053618108.shtml">http://book.csdn.net/bookfiles/536/10053618108.shtml</a></div></body></html>