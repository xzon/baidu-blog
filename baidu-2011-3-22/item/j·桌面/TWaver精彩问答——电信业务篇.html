<html><head><title><div class="tit">
  TWaver精彩问答——电信业务篇
</div></title></head><body><div id='tit'>TWaver精彩问答——电信业务篇</div><div id='cate'>j&middot;桌面</div><div id='date'>2011年02月16日 星期三 01:43 P.M.</div><div id='page'>0</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/3650a9512e78599c8d543001.html'>http://hi.baidu.com/hxzon/blog/item/3650a9512e78599c8d543001.html</a><div id='cnt'><p>TWaver精彩问答——电信业务篇</p> 
<p>http://twaver.servasoft.com/?p=1634</p> 
<p>一. TWaver支持哪些格式作为数据来源? </p> 
<p>二. 是否预定义适合电信应用的网元图标？是否可以表示网元的各种状态？网元图标是否支持拖动功能？链路是否随之更新显示？ </p> 
<p>三. 是否支持网元图标周围的小图标的定制功能？小图标是否支持各种操作功能（如弹出气球信息框，监听鼠标事件等）？多个小图标时是否能保证互相不被遮盖？小图标是否能随着网元的放大缩小而变化？</p> 
<p>四. TWaver是否支持设备面板功能，包含哪些设备类型？对设备面板的定制功能如何？定制面板需要哪些步骤呢？ </p> 
<p>五. 对网元的告警统计和渲染情况支持如何？是否支持颜色定制，定制后的生效时间如何? </p> 
<p>六. 是否支持父节点和子节点同时出现在网络图中？是否有ILOG的SubNetwork的概念？如果支持子网，子网和网络图之间是否支持链路，在子网展开和合拢时，链路如何处理？</p> 
<p>七. TWaver是否支持图层控制？子网是否支持图层控制？网元和其旁边的小图标是否可以进行图层调整？ </p> 
<p>八. 树的根节点是否可以定制？TWaver是否对根节点进行封装？ </p> 
<p>九. TWaver是否支持缩略图？ </p> 
<p>十. TWaver是否支持对象过滤？可以按类型或指定对象进行过滤吗？</p> 
<p>十一. TWaver的定制方式有哪些？（API或者文件）</p>
<span style="COLOR: rgb(31,73,125)"><a>一.&nbsp; TWaver支持哪些格式作为数据来源？</a></span>
<span style="COLOR: rgb(31,73,125)">&nbsp;</span> 
<p>TWaver支持API和XML两种方式作为组件的数据来源。API指的是用Java代码调用TWaver提供的API函数对TWaver的数据容器DataBox进行数据操作；</p> 
<p>XML指的是用JavaBean标准格式的XML文本，对TWaver的数据容器DataBox进行数据操作。</p> 
<p>其中，对XML的支持有以下特点：</p>支持对DataBox进行增加、修改、删除等操作；支持XML的导入、导出； 完全使用Java定义的JavaBean标准XML格式，无需第三方XML解析器，效率高； 支持基于URL的XML数据源，可实现远程XML驱动； 
<p><a href="http://twaver.servasoft.com/?attachment_id=1680"><img src="image/TWaver精彩问答——电信业务篇.ht.5b4570c61bb3c7489c163d3e.jpg" width="644" height="331" /><p class="origImg">http://hiphotos.baidu.com/hxzon/pic/item/5b4570c61bb3c7489c163d3e.jpg</p></a></p>
<span style="COLOR: rgb(31,73,125)"><a>二.&nbsp; 是否预定义适合电信应用的网元图标？是否可以表示网元的各种状态？网元图标是否支持拖动功能？链路是否随之更新显示？</a></span>TWaver预定义了Node、Link、Group、SubNetwork、Shelf、Slot、Card、Port、Follower、ShapeNode、ShapeLink等各种图元，并提供了默认图标。用户可以随意修改为自己的图标。 所有图元对象都支持各种状态。通过设置各种Attachment（包括LabelAttachment、 MessageAttachmet、AlarmAttachment、ComponentAttachment等预定义Attachment），可以方便的表达各种各样的的设备网元状态信息，状态信息可以是文字、消息、告警、甚至Swing组件等。同时，TWaver的图元还支持CustomDraw（自绘）、Renderer（自定义渲染）、OutlineState（边框状态）、TextureFactory（纹理）等，可以用于图元的各种渲染效果。 图元图标完全支持拖动功能。此外，TWaver还可以定义哪些图元可以拖拽（拖拽过滤器）、图元图标图片的透明部分是否可以拖拽、实时拖拽或延迟拖拽、拖拽速度定义、多图元联动等等。此外，对于设备机架图的架框板等对象，其拖拽还有随动、吸附等功能。 当一个网元拖动后，其相连的链路路线会跟随自动更新。 
<p><a href="http://twaver.servasoft.com/?attachment_id=1681"><img class="alignnone size-full wp-image-1681" src="image/TWaver精彩问答——电信业务篇.ht.56bcfbfa6f0dfa8db58f313e.jpg" width="576" height="142" /><p class="origImg">http://hiphotos.baidu.com/hxzon/pic/item/56bcfbfa6f0dfa8db58f313e.jpg</p></a></p>
<span style="COLOR: rgb(31,73,125)"><a>三. 是否支持网元图标周围的小图标的定制功能？小图标是否支持各种操作功能（如弹出气球信息框，监听鼠标事件等）？多个小图标时是否能保证互相不被遮盖？小图标是否能随着网元的放大缩小而变化？</a></span> 
<p>在TWaver中，每个图元都可以添加小的图标用于显示一些状态等网络实时信息，成为Attachment（附件）。Attachment是 TWaver一个重要的功能。在Attachment上，TWaver不仅仅可以显示静态的图标图片（包括动画GIF），可以显示任意复杂的动态效果，甚至支持任意Swing的Component作为Attachment。Attachment的位置、排序方向都可以有多种选择，并且位置和走向可以任意组合。例如，“放在左上角，多图标向右排列”。如果用户未指定，TWaver也会根据Element上自定义的Rule来对Attachment进行排序。此外，Attachment可以有展开、最小化、关闭等多种显示方式；可以跟随缩放；可以安装鼠标监听器（可以用于例如双击弹出详细界面等应用）。</p> 
<p><a href="http://twaver.servasoft.com/?attachment_id=1682"><img class="alignnone size-full wp-image-1682" src="image/TWaver精彩问答——电信业务篇.ht.024013cebf8fdc6ab700c83e.jpg" width="635" height="225" /><p class="origImg">http://hiphotos.baidu.com/hxzon/pic/item/024013cebf8fdc6ab700c83e.jpg</p></a></p>
<span style="COLOR: rgb(31,73,125)"><a>四.&nbsp;TWaver是否支持设备面板功能，包含哪些设备类型？对设备面板的定制功能如何？定制面板需要哪些步骤呢？</a></span>TWaver的Network组件本身就支持拓扑图、机架图、或两者混合显示，拓扑图或机架图对于Network组件而言没有什么不同。这样就可以做到“双击网元直接进入机架图”的效果，而无需做两个视图。同样，在一个树节点上，就可以从大的国家、城市、网络、网元，一直展开到机架、板卡、槽位、端口、时隙，等等。 TWaver同时预定义了常用的Rack、Shelf、Slot、Card、Port等设备面板对象。结合TWaver图元的 CustomDraw功能，用户可以轻松定制任何指定设备的形状、颜色、边框、渐进、纹理等等各种效果。利用TWaver图元的“跟随”机制和包含关系，可以衍生扩展多种操作效果（例如整机架拖拽等等）。请注意TWaver本身并不预定义任何具体设备面板，因为具体设备是千差万别、无法穷举的，TWaver追求的是提供丰富方便的功能来制作这些设备面板。 定制面板，最方便的是使用TWaver的“设备编辑器”。用户也可以在此基础上制作更加符合自己需求的可视化设备编辑工具。编辑工具可以将一个机架图打包成一个jar文件进行存储。由于有多个入口多种方式可以进行定制所以具体需要哪些步骤得根据需求而定。 
<p><a href="http://twaver.servasoft.com/?attachment_id=1683"><img class="alignnone size-full wp-image-1683" src="image/TWaver精彩问答——电信业务篇.ht.64fbf5de76d3850795ee373e.jpg" width="482" height="361" /><p class="origImg">http://hiphotos.baidu.com/hxzon/pic/item/64fbf5de76d3850795ee373e.jpg</p></a></p> 
<p><a href="http://twaver.servasoft.com/?attachment_id=1718"><img class="alignnone size-full wp-image-1718" src="image/TWaver精彩问答——电信业务篇.ht.7f258a5450b2f94c3b29353e.jpg" width="484" height="351" /><p class="origImg">http://hiphotos.baidu.com/hxzon/pic/item/7f258a5450b2f94c3b29353e.jpg</p></a></p> 
<p><a href="http://twaver.servasoft.com/?attachment_id=1685"><img class="alignnone size-full wp-image-1685" src="image/TWaver精彩问答——电信业务篇.ht.5f44f61ffc7524a6e1fe0b3e.jpg" width="482" height="499" /><p class="origImg">http://hiphotos.baidu.com/hxzon/pic/item/5f44f61ffc7524a6e1fe0b3e.jpg</p></a></p> 
<p><a href="http://twaver.servasoft.com/?attachment_id=1719"><img class="alignnone size-thumbnail wp-image-1719" src="image/TWaver精彩问答——电信业务篇.ht.f1832bf528a29076bd31093e.jpg" width="515" height="374" /><p class="origImg">http://hiphotos.baidu.com/hxzon/pic/item/f1832bf528a29076bd31093e.jpg</p></a></p> 
<p><a href="http://twaver.servasoft.com/?attachment_id=1720"><img class="alignnone size-thumbnail wp-image-1720" src="image/TWaver精彩问答——电信业务篇.ht.2b549f25766d553335a80f3e.jpg" width="515" height="360" /><p class="origImg">http://hiphotos.baidu.com/hxzon/pic/item/2b549f25766d553335a80f3e.jpg</p></a></p> 
<p><a href="http://twaver.servasoft.com/?attachment_id=1688"><img class="alignnone size-thumbnail wp-image-1688" src="image/TWaver精彩问答——电信业务篇.ht.779b5a60f8f4578c8cb10d3e.jpg" width="515" height="378" /><p class="origImg">http://hiphotos.baidu.com/hxzon/pic/item/779b5a60f8f4578c8cb10d3e.jpg</p></a></p> 
<p><a href="http://twaver.servasoft.com/?attachment_id=1691"><img class="alignnone size-thumbnail wp-image-1691" src="image/TWaver精彩问答——电信业务篇.ht.ff0258df43edc2404854033e.jpg" width="515" height="293" /><p class="origImg">http://hiphotos.baidu.com/hxzon/pic/item/ff0258df43edc2404854033e.jpg</p></a></p> 
<p><a href="http://twaver.servasoft.com/?attachment_id=1692"><img class="alignnone size-thumbnail wp-image-1692" src="image/TWaver精彩问答——电信业务篇.ht.461bcd1399080070dc54013e.jpg" width="515" height="338" /><p class="origImg">http://hiphotos.baidu.com/hxzon/pic/item/461bcd1399080070dc54013e.jpg</p></a></p>
<span style="COLOR: rgb(31,73,125)"><a>五.&nbsp;&nbsp;对网元的告警统计和渲染情况支持如何？是否支持颜色定制，定制后的生效时间如何？</a></span>TWaver有完善的告警管理和告警统计的支持，包括告警组件、告警对象、告警容器等等。有AlarmStateStatistics模型可以统计DataBox中Element的AlarmState告警信息，并且有可设置过滤器只统计感兴趣的图元功能，界面方面有组件。 TAlarmOverview以及组件TAlarmStatTable，通过表格、饼图、版图的丰富形式显示告警统计信息。同时TWaver提供 AlarmModel模型以及Alarm告警对象对全局的告警进行管理和驱动。告警表格组件TAlarmTable可以绑定AlarmModel通过表格方式直接展示告警内容。 告警信息可以通过图元染色、冒泡、边框染色、闪烁等多种方式表达告警信息。 告警可以通过AlarmSeverity.registerAlarmSeverity自定义不同的告警级别和告警颜色，通过 AlarmSeverity.setSeverityComparator可以自定义告警级别的比较规则，severity.setColor可以动态改变告警级别对应的告警颜色，所有自定义会
<strong>立刻起效</strong>，无需做任何重启、刷新等类似工作。 
<p><a href="http://twaver.servasoft.com/?attachment_id=1693"><img class="alignnone size-thumbnail wp-image-1693" src="image/TWaver精彩问答——电信业务篇.ht.7daa3cf3b7dbe003342acc3e.jpg" width="515" height="387" /><p class="origImg">http://hiphotos.baidu.com/hxzon/pic/item/7daa3cf3b7dbe003342acc3e.jpg</p></a></p> 
<p><a href="http://twaver.servasoft.com/?attachment_id=1694"><img class="alignnone size-thumbnail wp-image-1694" src="image/TWaver精彩问答——电信业务篇.ht.16fe504e4604d85ab2de053e.jpg" width="515" height="90" /><p class="origImg">http://hiphotos.baidu.com/hxzon/pic/item/16fe504e4604d85ab2de053e.jpg</p></a></p>
<span style="COLOR: rgb(31,73,125)"><a>六.&nbsp; 是否支持父节点和子节点同时出现在网络图中？是否有ILOG的SubNetwork的概念？如果支持子网，子网和网络图之间是否支持链路，在子网展开和合拢时，链路如何处理？</a></span>支持父子节点同时出现网络图中。在TWaver中，父子关系，不代表地图上的上下层关系，要根据具体图元类型来看待。例如，一个办公室平面拓扑图中，有员工节点A（总裁）、B（经理）、C（员工），它们可以是A-B-C的包含关系（树上将按此显示），但三个节点在地图上是平等的，操作上和三个独立的节点无任何不同。但是，如果A是SubNetwork对象，则B和C会自动置入下一层，要双击进入才能看到。如果A是Group，则A会将B和C用矩形框（或其他形状，取决于Group的属性）套住，双击可以展开或闭合（或成为本地展开）。 TWaver有Group和SubNetwork两种类型的组件，Group和SubNetwork都可以包含子网元，对于 Group（网元组）而言，子节点和自身是在同一层地图上，双击展开或闭合都发生在本图层（或成为本地展开），仅仅是归组而已。而对于 SubNetwork（子网）而言，它代表了可以进入的另外一层地图，它本身和子对象不在同一层图层上。子对象要双击进入（Drill Down）下一层地图才能看到。Group和SubNetwork在TWaver里面分的比较清楚，其图元对象、定义、行为都不同。它们都支持无限制层次嵌套，支持对Link的动态代理等属性。（Link的动态代理概念是：当Group闭合后，对于连接到内部对象的Link，Group会动态变为Link 的端点；对于SubNetwork而言，如果有Link从其内部下层节点连出，它也会动态将自己作为该Link的端点，如下图： 
<p><a href="http://twaver.servasoft.com/?attachment_id=1696"><img class="alignnone size-thumbnail wp-image-1696" src="image/TWaver精彩问答——电信业务篇.ht.59f2d709658295d1d0581b3e.jpg" width="580" height="202" /><p class="origImg">http://hiphotos.baidu.com/hxzon/pic/item/59f2d709658295d1d0581b3e.jpg</p></a></p>
<span style="COLOR: rgb(31,73,125)"><a>七. TWaver是否支持图层控制？子网是否支持图层控制？网元和其旁边的小图标是否可以进行图层调整？</a></span>TWaver具有强大的图层控制功能。TWaver提供了LayerModel专门对图层进行控制和管理。包括图层的定义、增删改、属性、可见性、索引等等。同时，TWaver提供了可视化组件LayerManagerPane，可以直接使用，它封装了对图层的控制和编辑（如下图）。 图层和SubNetwork代表的地图层次是完全不同的概念，它们完全独立存在。所以，每个SubNetwork都拥有 LayerModel定义的图层概念。例如，整个系统可以有“家具层”、“布线层”，而地图可以有子网“永升大厦”、“永升大厦一层”、“永升大厦二层” 等等。 图元旁边的小图，标默认是和图元在同一个图层，也可以进行调整，例如AlarmAttachment告警附件默认就在最上层绘制，避免告警信息被其他图元遮蔽。但这里提到的“最上层”，不同于LayerModel定义的图层，它是一种更细粒度的画布绘制层次。请见下图理解上述各种“层” 的概念。 
<p><a href="http://twaver.servasoft.com/?attachment_id=1697"><img class="alignnone size-thumbnail wp-image-1697" src="image/TWaver精彩问答——电信业务篇.ht.78749a820904c5ec6d81193e.jpg" width="386" height="256" /><p class="origImg">http://hiphotos.baidu.com/hxzon/pic/item/78749a820904c5ec6d81193e.jpg</p></a></p>
<span style="COLOR: rgb(31,73,125)"><a>八.&nbsp;&nbsp; 树的根节点是否可以定制？TWaver是否对根节点进行封装？</a></span> 
<p>TWaver的tree节点分为ElementNode和BoxNode两种类型节点，默认BoxNode为根节点，表达DataBox本身，它显示了DataBox的名字；其余所有节点都是ElementNode，对应网元节点（Element）。节点可以自定义通过tree. setElementIconGenerator进行自定义，tree.setRootElement可以切换任意根节点。</p> 
<p>需要注意的是，默认的根节点本身并不是一个网元对象数据，也就是说，它在DataBox并不存在，它仅仅代表了DataBox本身。当然，这个默认的根可以被隐藏。</p> 
<p><a href="http://twaver.servasoft.com/?attachment_id=1698"><img class="alignnone size-thumbnail wp-image-1698" src="image/TWaver精彩问答——电信业务篇.ht.b4946109007c5e9c3ac7635b.jpg" width="644" height="228" /><p class="origImg">http://hiphotos.baidu.com/hxzon/pic/item/b4946109007c5e9c3ac7635b.jpg</p></a><a href="http://twaver.servasoft.com/?attachment_id=1698"></a></p> 
<p><a href="http://twaver.servasoft.com/?attachment_id=1699"><img class="alignnone size-thumbnail wp-image-1699" src="image/TWaver精彩问答——电信业务篇.ht.05b19b1667bb8102f2de325b.jpg" width="644" height="532" /><p class="origImg">http://hiphotos.baidu.com/hxzon/pic/item/05b19b1667bb8102f2de325b.jpg</p></a><a href="http://twaver.servasoft.com/?attachment_id=1699"></a></p>
<span style="COLOR: rgb(31,73,125)"><a>九. TWaver是否支持缩略图？</a></span> 
<p>TWaver的Overview是预定义的鹰眼组件，具有滚轮缩放、拖动平移，区域定位，双击恢复等操作功能，同时OverviewPane是内置的鹰眼面板，用户可以直接使用，并可以将鹰眼摆放在任意的位置，如下图:</p> 
<p><a href="http://twaver.servasoft.com/?attachment_id=1700"><img src="image/TWaver精彩问答——电信业务篇.ht.7a9f35fa62d7af4da9d3113e.jpg" width="515" height="321" /><p class="origImg">http://hiphotos.baidu.com/hxzon/pic/item/7a9f35fa62d7af4da9d3113e.jpg</p></a></p>
<span style="COLOR: rgb(31,73,125)"><a>十.&nbsp; TWaver是否支持对象过滤？可以按类型或指定对象进行过滤吗？</a></span> 
<p>过滤器Filter是TWaver核心概念之一，各种Filter无处不在。例如，在DataBox上有XML解析过滤器、XML输出过滤器、自定义属性过滤器等等；在Network组件中，有可见过滤器、拖拽过滤器、鼠标选择过滤器、鼠标双击过滤器、网元编辑过滤器、属性变化重绘过滤器、选择框绘制过滤器、调整大小过滤器、点击选择过滤、自动置顶过滤器，等等。在Tree、Table、PropertySheet等组件，也都提供了大量的过滤器，用于开发者对组件进行灵活的定制。</p> 
<p><a href="http://twaver.servasoft.com/?attachment_id=1701"><img src="image/TWaver精彩问答——电信业务篇.ht.4921a01e4a8ff44c4034173e.jpg" width="326" height="240" /><p class="origImg">http://hiphotos.baidu.com/hxzon/pic/item/4921a01e4a8ff44c4034173e.jpg</p></a></p>
<span style="COLOR: rgb(31,73,125)"><a>十一. &nbsp;TWaver的定制方式有哪些？（API或者文件）</a></span> 
<p>TWaver是可扩展性非常强的组件，几乎任何图元任何组件的默认值都可以通过TUIManger进行全局属性注册进行调整，同时，每种类型Element都预定义了上百个的TWaverConst. PROPERTYNAME_***属性进行单独调整，还可以通过扩展Element对应ElementUI实现自定义的显示效果。</p> 
<p>所有Element的扩展属性，都可以输入、输出到XML中，所以，可以直接在XML中定义这些属性，直接导入DataBox即可，也就是通过XML进行数据定制。</p> 
<p>TWaver可视化组件的定制是通过API完成的，TWaver不支持通过CSS等方式对组件进行定制。</p> 
<p><a href="http://twaver.servasoft.com/?attachment_id=1702"><img class="alignnone size-thumbnail wp-image-1702" src="image/TWaver精彩问答——电信业务篇.ht.6379fb1fa5689e59314e153e.jpg" width="644" height="332" /><p class="origImg">http://hiphotos.baidu.com/hxzon/pic/item/6379fb1fa5689e59314e153e.jpg</p></a></p> 
<p>&nbsp;</p></div></body></html>