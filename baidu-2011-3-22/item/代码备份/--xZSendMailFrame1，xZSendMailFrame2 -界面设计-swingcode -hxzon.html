<html><head><title><div class="tit">
  //xZSendMailFrame1，xZSendMailFrame2 -界面设计-swingcode -hxzon
</div></title></head><body><div id='tit'>//xZSendMailFrame1，xZSendMailFrame2 -界面设计-swingcode -hxzon</div><div id='cate'>代码备份</div><div id='date'>2007年12月20日 星期四 03:28 P.M.</div><div id='page'>188</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/012a6338adb8902796ddd87a.html'>http://hi.baidu.com/hxzon/blog/item/012a6338adb8902796ddd87a.html</a><div id='cnt'><div> 
 <p><font size="3">//xZSendMailFrame1，xZSendMailFrame2 -界面设计-swingcode -hxzon</font></p> 
 <p><font size="3">import java.awt.*;<br /> import java.awt.event.*;<br /> import javax.swing.*;<br /> import java.io.*;</font></p> 
</div> 
<div> 
</div> 
<div>
 <font size="3">public class xZSendMailFrame extends JFrame{<br /> &nbsp;&nbsp;&nbsp; JPanel contentPane;<br /> &nbsp;&nbsp;&nbsp; Label labelHost = new Label();<br /> &nbsp;&nbsp;&nbsp; TextField textHost = new TextField(&quot;smtp.126.com&quot;);//初始默认<br /> &nbsp;&nbsp;&nbsp; Label labelFrom = new Label();<br /> &nbsp;&nbsp;&nbsp; TextField textFrom = new TextField(&quot;</font>
 <font size="3">hxzon@126.com</font>
 <font size="3">&quot;);<br /> &nbsp;&nbsp;&nbsp; Label labelPassword =new Label();<br /> &nbsp;&nbsp;&nbsp; JPasswordField textPassword =new JPasswordField();<br /> &nbsp;&nbsp;&nbsp; Label labelTo = new Label();<br /> &nbsp;&nbsp;&nbsp; TextField textTo = new TextField(&quot;</font>
 <font size="3">xzon@qq.com</font>
 <font size="3">&quot;);<br /> &nbsp;&nbsp;&nbsp; Label labelSubject = new Label();<br /> &nbsp;&nbsp;&nbsp; TextField textSubject = new TextField(&quot;我的Java邮件&quot;);<br /> &nbsp;&nbsp;&nbsp; TextArea textBody = new TextArea(&quot;你好吗？&quot;); <br /> &nbsp;&nbsp;&nbsp; Label labelAffix=new Label();<br /> &nbsp;&nbsp;&nbsp; TextField textAffix=new TextField();<br /> &nbsp;&nbsp;&nbsp; Button buttonSend = new Button();<br /> &nbsp;&nbsp;&nbsp; Button buttonAffix=new Button();</font>
</div> 
<div> 
</div> 
<div>
 <font size="3">&nbsp;&nbsp;&nbsp; public xZSendMailFrame() {<br /> &nbsp;&nbsp;&nbsp; // 界面初始化并显示<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contentPane = (JPanel) this.getContentPane();<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contentPane.setLayout(null);<br /> &nbsp;&nbsp;&nbsp; <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; labelHost.setText(&quot;服务器:&quot;);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; labelHost.setBounds(new Rectangle(25, 15, 50, 22));<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; textHost.setBounds(new Rectangle(80, 15, 280, 22));<br /> &nbsp;&nbsp;&nbsp; <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; labelFrom.setText(&quot;发件人:&quot;);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; labelFrom.setBounds(new Rectangle(25, 50, 50, 22));<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; textFrom.setBounds(new Rectangle(80, 50, 280, 22));<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; labelPassword.setText(&quot;密码:&quot;);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; labelPassword.setBounds(new Rectangle(25,85,37,22));<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; textPassword.setBounds(new Rectangle(80,85,285,22));</font>
</div> 
<div> 
</div> 
<div>
 <font size="3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; labelTo.setText(&quot;收件人:&quot;);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; labelTo.setBounds(new Rectangle(25, 120, 37, 22));<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; textTo.setBounds(new Rectangle(80, 120, 280, 22));<br /> &nbsp;&nbsp;&nbsp; <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; labelSubject.setText(&quot;主题:&quot;);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; labelSubject.setBounds(new Rectangle(25, 155, 37, 22));<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; textSubject.setBounds(new Rectangle(80, 155, 280, 22));</font>
</div> 
<div> 
</div> 
<div>
 <font size="3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; textBody.setBounds(new Rectangle(25, 190, 420, 200));<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; labelAffix.setText(&quot;附件:&quot;);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; labelAffix.setBounds(new Rectangle(25, 420, 37, 22));<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; textAffix.setBounds(new Rectangle(80, 420, 280, 22));<br /> &nbsp;&nbsp;&nbsp; //发送按钮<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; buttonSend.setLabel(&quot;发送&quot;);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; buttonSend.setBounds(new Rectangle(375, 447, 70, 22));<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; buttonSend.addActionListener(new java.awt.event.ActionListener() {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public void actionPerformed(ActionEvent e) {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; btnSendMail(e);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; });<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; buttonSend.setEnabled(true);<br /> &nbsp;&nbsp;&nbsp; //选择附件按钮<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; buttonAffix.setLabel(&quot;添加附件&quot;);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; buttonAffix.setBounds(new Rectangle(300,447,70,22));<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; buttonAffix.addActionListener(new ActionListener(){<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public void actionPerformed(ActionEvent e){<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; btnSetAffix(e);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; });<br /> &nbsp;&nbsp;&nbsp; //添加各个控件<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contentPane.add(labelHost, null);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contentPane.add(textHost, null);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contentPane.add(labelFrom, null);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contentPane.add(textFrom, null);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contentPane.add(labelPassword,null);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contentPane.add(textPassword,null);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contentPane.add(labelTo, null);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contentPane.add(textTo, null);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contentPane.add(labelSubject, null);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contentPane.add(textSubject, null);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contentPane.add(labelAffix,null);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contentPane.add(textAffix,null);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contentPane.add(textBody, null);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contentPane.add(buttonSend, null);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contentPane.add(buttonAffix,null);<br /> &nbsp;&nbsp;&nbsp; <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enableEvents(AWTEvent.WINDOW_EVENT_MASK);<br /> &nbsp;&nbsp;&nbsp; <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this.setSize(new Dimension(480, 520));<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this.setResizable(false);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this.setTitle(&quot;xZSendMailFrame&quot;);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this.setVisible(true);<br /> &nbsp;&nbsp;&nbsp; }//end xZSendMailFrame<br /> &nbsp;&nbsp;&nbsp; <br /> &nbsp;&nbsp;&nbsp; public void btnSetAffix(ActionEvent e){<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; JFileChooser affixChooser=new JFileChooser();//选择附件<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int returnVal=affixChooser.showOpenDialog(null);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; textAffix.setText(affixChooser.getSelectedFile().<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getAbsolutePath());<br /> &nbsp;&nbsp;&nbsp; }</font>
</div> 
<div> 
</div> 
<div>
 <font size="3">&nbsp;&nbsp;&nbsp; public void btnSendMail(ActionEvent e){<br /> &nbsp;&nbsp;&nbsp;&nbsp; }<br /> &nbsp;&nbsp;&nbsp; </font>
</div> 
<div> 
</div> 
<div>
 <font size="3">&nbsp;&nbsp;&nbsp; // 关闭窗口<br /> &nbsp;&nbsp;&nbsp; protected void processWindowEvent(WindowEvent e) {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; super.processWindowEvent(e);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (e.getID() == WindowEvent.WINDOW_CLOSING) {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.exit(0);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br /> &nbsp;&nbsp;&nbsp; }<br /> &nbsp;&nbsp;&nbsp; public static void main(String args[]){<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; new xZSendMailFrame();<br /> &nbsp;&nbsp;&nbsp; }<br /> }<br /> =============================<br /> /*<br /> *比xZSendMailFrame1去除了服务器设置，直接从发送人那里提取<br /> **/<br /> import java.awt.*;<br /> import java.awt.event.*;<br /> import javax.swing.*;<br /> import java.io.*;</font>
</div> 
<div> 
</div> 
<div>
 <font size="3">public class xZSendMailFrame2 extends JFrame{<br /> &nbsp;&nbsp;&nbsp; JPanel contentPane;<br /> &nbsp;&nbsp;&nbsp; Label labelFrom = new Label();<br /> &nbsp;&nbsp;&nbsp; TextField textFrom = new TextField(&quot;hxzon@126.com&quot;);//初始默认<br /> &nbsp;&nbsp;&nbsp; Label labelPassword =new Label();<br /> &nbsp;&nbsp;&nbsp; JPasswordField textPassword =new JPasswordField();<br /> &nbsp;&nbsp;&nbsp; Label labelTo = new Label();<br /> &nbsp;&nbsp;&nbsp; TextField textTo = new TextField(&quot;xzon@qq.com&quot;);<br /> &nbsp;&nbsp;&nbsp; Label labelSubject = new Label();<br /> &nbsp;&nbsp;&nbsp; TextField textSubject = new TextField(&quot;我的Java邮件&quot;);<br /> &nbsp;&nbsp;&nbsp; TextArea textBody = new TextArea(&quot;你好吗？&quot;); <br /> &nbsp;&nbsp;&nbsp; Label labelAffix=new Label();<br /> &nbsp;&nbsp;&nbsp; TextField textAffix=new TextField();<br /> &nbsp;&nbsp;&nbsp; Button buttonSend = new Button();<br /> &nbsp;&nbsp;&nbsp; Button buttonAffix=new Button();</font>
</div> 
<div> 
</div> 
<div>
 <font size="3">&nbsp;&nbsp;&nbsp; public xZSendMailFrame2() {<br /> &nbsp;&nbsp;&nbsp; // 界面初始化并显示<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contentPane = (JPanel) this.getContentPane();<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contentPane.setLayout(null);<br /> &nbsp;&nbsp;&nbsp; <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; labelFrom.setText(&quot;发件人:&quot;);&nbsp;&nbsp;&nbsp; //x,y,width,height<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; labelFrom.setBounds(25, 50, 50, 22);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; textFrom.setBounds(80, 50, 100, 22);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; labelPassword.setText(&quot;密码:&quot;);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; labelPassword.setBounds(185,50,37,22);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; textPassword.setBounds(240,50,100,22);</font>
</div> 
<div> 
</div> 
<div>
 <font size="3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; labelTo.setText(&quot;收件人:&quot;);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; labelTo.setBounds(25, 85, 37, 22);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; textTo.setBounds(80, 85, 100, 22);<br /> &nbsp;&nbsp;&nbsp; <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; labelAffix.setText(&quot;附件:&quot;);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; labelAffix.setBounds(25, 120, 37, 22);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; textAffix.setBounds(80, 120, 280, 22);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //选择附件按钮<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; buttonAffix.setLabel(&quot;添加附件&quot;);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; buttonAffix.setBounds(365,120,70,22);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; buttonAffix.addActionListener(new ActionListener(){<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public void actionPerformed(ActionEvent e){<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; btnSetAffix(e);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; });</font>
</div> 
<div> 
</div> 
<div>
 <font size="3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; labelSubject.setText(&quot;主题:&quot;);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; labelSubject.setBounds(25, 155, 37, 22);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; textSubject.setBounds(80, 155, 280, 22);</font>
</div> 
<div> 
</div> 
<div>
 <font size="3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; textBody.setBounds(25, 190, 420, 200);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br /> &nbsp;&nbsp;&nbsp; //发送按钮<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; buttonSend.setLabel(&quot;发送&quot;);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; buttonSend.setBounds(375, 447, 70, 22);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; buttonSend.addActionListener(new java.awt.event.ActionListener() {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public void actionPerformed(ActionEvent e) {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; btnSendMail(e);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; });<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; buttonSend.setEnabled(true);</font>
</div> 
<div> 
</div> 
<div>
 <font size="3">&nbsp;&nbsp;&nbsp; //添加各个控件<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contentPane.add(labelFrom, null);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contentPane.add(textFrom, null);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contentPane.add(labelPassword,null);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contentPane.add(textPassword,null);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contentPane.add(labelTo, null);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contentPane.add(textTo, null);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contentPane.add(labelSubject, null);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contentPane.add(textSubject, null);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contentPane.add(labelAffix,null);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contentPane.add(textAffix,null);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contentPane.add(textBody, null);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contentPane.add(buttonSend, null);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contentPane.add(buttonAffix,null);<br /> &nbsp;&nbsp;&nbsp; <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enableEvents(AWTEvent.WINDOW_EVENT_MASK);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contentPane.setBackground(Color.pink);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this.setSize(480, 520);//new Dimension(480, 520)<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this.setResizable(false);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this.setTitle(&quot;xZSendMailFrame&quot;);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this.setVisible(true);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);<br /> &nbsp;&nbsp;&nbsp; }//end xZSendMailFrame<br /> &nbsp;&nbsp;&nbsp; <br /> &nbsp;&nbsp;&nbsp; public void btnSetAffix(ActionEvent e){<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; JFileChooser affixChooser=new JFileChooser();//选择附件<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; affixChooser.showOpenDialog(null);//int returnVal=<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; textAffix.setText(affixChooser.getSelectedFile().<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getAbsolutePath());<br /> &nbsp;&nbsp;&nbsp; }</font>
</div> 
<div> 
</div> 
<div>
 <font size="3">&nbsp;&nbsp;&nbsp; public void btnSendMail(ActionEvent e){<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try{<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; xZSendMail cn = new xZSendMail();<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //设置发件人地址、收件人地址和邮件标题<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cn.setHeader(textFrom.getText(),textTo.getText(),textSubject.getText());<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //设置要发送附件的位置和标题<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cn.setAffix(textAffix.getText(),textAffix.getText());<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //设置smtp服务器以及邮箱的帐号和密码<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String[] split=textFrom.getText().split(&quot;@&quot;);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String name=split[0];//得到@之前的邮箱用户名<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String host=new String( &quot;smtp.&quot;+split[1] );<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String password=String.valueOf(textPassword.getPassword());<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cn.setUser(host,name,password);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cn.setContentText(textBody.getText());<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cn.send();<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; JOptionPane msg = new JOptionPane();// 提示成功对话框<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; JOptionPane.showMessageDialog(xZSendMailFrame2.this, <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;mail successful&quot;, &quot;mail successful&quot;, 1);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }catch (Exception ex){ <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; JOptionPane msg = new JOptionPane();// 提示失败对话框<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; JOptionPane.showMessageDialog(xZSendMailFrame2.this, <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;mail fail&quot;, &quot;mail fail&quot;, 1);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.out.println(&quot;An error about:&quot; + ex.getMessage()); <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br /> &nbsp;&nbsp;&nbsp; }</font>
</div> 
<div> 
</div> 
<div>
 <font size="3">&nbsp;&nbsp;&nbsp; public static void main(String args[]){<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; new xZSendMailFrame2();<br /> &nbsp;&nbsp;&nbsp; }<br /> }<br /> </font>
</div></div></body></html>