<html><head><title><div class="tit">
  DOM4J解析xml文件-dom4j-Javacode
</div></title></head><body><div id='tit'>DOM4J解析xml文件-dom4j-Javacode</div><div id='cate'>代码备份</div><div id='date'>2008年04月03日 星期四 01:25 P.M.</div><div id='page'>149</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/461bcd13ac66fd27dd540186.html'>http://hi.baidu.com/hxzon/blog/item/461bcd13ac66fd27dd540186.html</a><div id='cnt'><p>DOM4J解析xml文件-dom4j-Javacode</p> 
<p align="center"><font color="#666666">作者:dsafdfgdhtrewgfdhrrw&nbsp;&nbsp;&nbsp;&nbsp; 文章来源:互联网&nbsp;&nbsp;&nbsp; 上传日期:2007-12-11</font></p> 
<p align="left"><font color="#666666"> 
  <table class="FCK__ShowTableBorders" cellspacing="0" cellpadding="0" width="99%" border="0"> 
   <tbody> 
    <tr> 
     <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 虽然DOM4J 代表了完全独立的开发结果，但最初，它是JDOM 的一种智能分支。它合并了许多超出基本XML 文档表示的功能，包括集成的XPath 支持、XML Schema 支持以及用于大文档或流化文档的基于事件的处理。它还提供了构建文档表示的选项，它通过 DOM4J API 和标准DOM 接口具有并行访问功能。从 2000 下半年开始，它就一直处于开发之中。 <br /> <br /> 
      <div>
        为支持所有这些功能，DOM4J 使用接口和抽象基本类方法。DOM4J 大量使用了API 中的 Collections 类，但是在许多情况下，它还提供一些替代方法以允许更好的性能或更直接的编码方法。直接好处是，虽然 DOM4J 付出了更复杂的 API 的代价，但是它提供了比 JDOM 大得多的灵活性。
      </div> 
      <div>
        在添加灵活性、XPath 集成和对大文档处理的目标时，DOM4J 的目标与 JDOM 是一样的：针对 Java 开发者的易用性和直观操作。它还致力于成为比 JDOM 更完整的解决方案，实现在本质上处理所有 Java/XML 问题的目标。在完成该目标时，它比 JDOM 更少强调防止不正确的应用程序行为。
      </div> </td> 
    </tr> 
    <tr> 
     <td colspan="2"> 
      <div style="text-indent: 21pt">
       DOM4J 是一个非常非常优秀的Java XML API，具有性能优异、功能强大和极端易用使用的特点，同时它也是一个开放源代码的软件。如今你可以看到越来越多的 Java 软件都在使用 DOM4J 来读写 XML，特别值得一提的是连 Sun 的 JAXM 也在用 DOM4J。
      </div> 
      <div> 
      </div> 
      <div>
       注意：
      </div> 
      <div style="text-indent: 21pt">
       dom4j1.6解压后有一个dom4j-1.6.1.jar文件，这就是应用时需要引入的类包，另外还有一个jaxen-1.1-beta-6.jarr文件，一般也需要引入，否则执行时可能抛java.lang.NoClassDefFoundError: org/jaxen/JaxenException异常，其他的包可以选择用之。
      </div> 
      <div> 
      </div> 
      <div>
       举例说明：
      </div> 
      <div>
       创建一个emps.xml文档
      </div> 
      <div align="left">
       <strong><span style="color: #7f0055">package</span></strong>
       <span style="color: black"> com.xml;</span>
      </div> 
      <div align="left"> 
      </div> 
      <div align="left">
       <strong><span style="color: #7f0055">import</span></strong>
       <span style="color: black"> java.io.FileWriter;</span>
      </div> 
      <div align="left">
       <strong><span style="color: #7f0055">import</span></strong>
       <span style="color: black"> java.io.IOException;</span>
      </div> 
      <div align="left">
       <strong><span style="color: #7f0055">import</span></strong>
       <span style="color: black"> java.io.Writer;</span>
      </div> 
      <div align="left"> 
      </div> 
      <div align="left">
       <strong><span style="color: #7f0055">import</span></strong>
       <span style="color: black"> org.dom4j.Document;</span>
      </div> 
      <div align="left">
       <strong><span style="color: #7f0055">import</span></strong>
       <span style="color: black"> org.dom4j.DocumentHelper;</span>
      </div> 
      <div align="left">
       <strong><span style="color: #7f0055">import</span></strong>
       <span style="color: black"> org.dom4j.Element;</span>
      </div> 
      <div align="left">
       <strong><span style="color: #7f0055">import</span></strong>
       <span style="color: black"> org.dom4j.io.OutputFormat;</span>
      </div> 
      <div align="left">
       <strong><span style="color: #7f0055">import</span></strong>
       <span style="color: black"> org.dom4j.io.XMLWriter;</span>
      </div> 
      <div align="left"> 
      </div> 
      <div align="left">
       <strong><span style="color: #7f0055">public </span></strong>
       <strong><span style="color: #7f0055">class</span></strong>
       <span style="color: black"> Dom4JXML {</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp; </span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp; </span>
       <strong><span style="color: #7f0055">public </span></strong>
       <strong><span style="color: #7f0055">void</span></strong>
       <span style="color: black"> createXML() {</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
       <span style="color: #3f7f5f">//</span>
       <span style="color: #3f7f5f">用工厂类创建一个document实例</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Document doc = DocumentHelper.<em>createDocument</em>();</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
       <span style="color: #3f7f5f">//</span>
       <span style="color: #3f7f5f">创建根元素emps</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Element rootEle = doc.addElement(</span>
       <span style="color: #2a00ff">&quot;emps&quot;</span>
       <span style="color: black">);</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
       <span style="color: #3f7f5f">//</span>
       <span style="color: #3f7f5f">添加注释</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rootEle.addComment(</span>
       <span style="color: #2a00ff">&quot;</span>
       <span style="color: #2a00ff">这是一个dom4j生成的xml文件&quot;</span>
       <span style="color: black">);</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
       <span style="color: #3f7f5f">//emps</span>
       <span style="color: #3f7f5f">根节点下创建一个emp节点</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Element empEle = rootEle.addElement(</span>
       <span style="color: #2a00ff">&quot;emp&quot;</span>
       <span style="color: black">);</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
       <span style="color: #3f7f5f">//emp</span>
       <span style="color: #3f7f5f">添加属性id=&quot;1&quot;</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; empEle.addAttribute(</span>
       <span style="color: #2a00ff">&quot;id&quot;</span>
       <span style="color: black">, </span>
       <span style="color: #2a00ff">&quot;1&quot;</span>
       <span style="color: black">);</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
       <span style="color: #3f7f5f">//emp</span>
       <span style="color: #3f7f5f">节点下创建一个name节点</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Element nameEle = empEle.addElement(</span>
       <span style="color: #2a00ff">&quot;name&quot;</span>
       <span style="color: black">);</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
       <span style="color: #3f7f5f">//name</span>
       <span style="color: #3f7f5f">节点下创建一个文本节点zhangsan</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; nameEle.setText(</span>
       <span style="color: #2a00ff">&quot;zhangsan&quot;</span>
       <span style="color: black">);</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
       <span style="color: #3f7f5f">//</span>
       <span style="color: #3f7f5f">再为name节点创建一个兄弟节点</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Element sexEle = empEle.addElement(</span>
       <span style="color: #2a00ff">&quot;sex&quot;</span>
       <span style="color: black">);</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sexEle.setText(</span>
       <span style="color: #2a00ff">&quot;man&quot;</span>
       <span style="color: black">);</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
       <span style="color: #3f7f5f">//</span>
       <span style="color: #3f7f5f">将document中的内容写入文件中</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
       <strong><span style="color: #7f0055">try</span></strong>
       <span style="color: black"> {</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Writer out = </span>
       <strong><span style="color: #7f0055">new</span></strong>
       <span style="color: black"> FileWriter(</span>
       <span style="color: #2a00ff">&quot;F:\\emps.xml&quot;</span>
       <span style="color: black">);</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
       <span style="color: #3f7f5f">//</span>
       <span style="color: #3f7f5f">格式化输出,类型IE浏览一样</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OutputFormat format = OutputFormat.<em>createPrettyPrint</em>();</span>
      </div> 
      <div align="left">
       <span style="color: #3f7f5f">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //OutputFormat format = OutputFormat.createCompactFormat();</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; format.setEncoding(</span>
       <span style="color: #2a00ff">&quot;UTF-8&quot;</span>
       <span style="color: black">);</span>
      </div> 
      <div style="margin-left: 42pt; text-indent: 21pt" align="left">
       <span style="color: #3f7f5f">//</span>
       <span style="color: #3f7f5f">创建写出对象</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; XMLWriter writer = </span>
       <strong><span style="color: #7f0055">new</span></strong>
       <span style="color: black"> XMLWriter(out,format);</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; writer.write(doc);</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; writer.close();</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.</span>
       <em><span style="color: #0000c0">out</span></em>
       <span style="color: black">.println(</span>
       <span style="color: #2a00ff">&quot;</span>
       <span style="color: #2a00ff">生成emps.xml成功。&quot;</span>
       <span style="color: black">);</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } </span>
       <strong><span style="color: #7f0055">catch</span></strong>
       <span style="color: black"> (IOException e) {</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
       <span style="color: #3f7f5f">// </span>
       <strong><span style="color: #7f9fbf">TODO</span></strong>
       <span style="color: #3f7f5f"> Auto-generated catch block</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; e.printStackTrace();</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.</span>
       <em><span style="color: #0000c0">out</span></em>
       <span style="color: black">.println(</span>
       <span style="color: #2a00ff">&quot;</span>
       <span style="color: #2a00ff">失败了。&quot;</span>
       <span style="color: black">);</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp; }</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp; </span>
       <strong><span style="color: #7f0055">public </span></strong>
       <strong><span style="color: #7f0055">static </span></strong>
       <strong><span style="color: #7f0055">void</span></strong>
       <span style="color: black"> main(String[] args) {</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
       <strong><span style="color: #7f0055">new</span></strong>
       <span style="color: black"> Dom4JXML().createXML();</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp; }</span>
      </div> 
      <div align="left"> 
      </div> 
      <div align="left">
       <span style="color: black">}</span>
      </div> 
      <div>
       文档内容：
      </div> 
      <div>
       <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
      </div> 
      <div> 
      </div> 
      <div style="margin-left: 21pt">
       &lt;emps&gt;
      </div> 
      <div style="margin-left: 21pt">
       &lt;!--这是一个dom4j生成的xml文件--&gt;
      </div> 
      <div style="margin-left: 21pt">
       &lt;emp id=&quot;1&quot;&gt;
      </div> 
      <div style="margin-left: 21pt">
       <span>&nbsp;&nbsp;&nbsp; &lt;name&gt;zhangsan&lt;/name&gt;</span>
      </div> 
      <div style="margin-left: 21pt">
       <span>&nbsp;&nbsp;&nbsp; &lt;sex&gt;man&lt;/sex&gt;</span>
      </div> 
      <div style="margin-left: 21pt">
       &lt;/emp&gt;
      </div> 
      <div style="margin-left: 21pt">
       &lt;/emps&gt;
      </div> 
      <div> 
      </div> 
      <div>
       将创建的emps.xml文档修改生成emps(update).xml
      </div> 
      <div style="margin-left: 39pt; text-indent: -18pt">
       <span>1． </span>emp属性id 修改为：001
      </div> 
      <div style="margin-left: 39pt; text-indent: -18pt">
       <span>2． </span>name中的文本修改为：张三
      </div> 
      <div style="margin-left: 39pt; text-indent: -18pt">
       <span>3． </span>删除emp下的sex属性
      </div> 
      <div> 
      </div> 
      <div align="left">
       <strong><span style="color: #7f0055">package</span></strong>
       <span style="color: black"> com.xml;</span>
      </div> 
      <div align="left"> 
      </div> 
      <div align="left">
       <strong><span style="color: #7f0055">import</span></strong>
       <span style="color: black"> java.io.FileWriter;</span>
      </div> 
      <div align="left">
       <strong><span style="color: #7f0055">import</span></strong>
       <span style="color: black"> java.io.IOException;</span>
      </div> 
      <div align="left">
       <strong><span style="color: #7f0055">import</span></strong>
       <span style="color: black"> java.io.Writer;</span>
      </div> 
      <div align="left">
       <strong><span style="color: #7f0055">import</span></strong>
       <span style="color: black"> java.util.Iterator;</span>
      </div> 
      <div align="left">
       <strong><span style="color: #7f0055">import</span></strong>
       <span style="color: black"> java.util.List;</span>
      </div> 
      <div align="left"> 
      </div> 
      <div align="left">
       <strong><span style="color: #7f0055">import</span></strong>
       <span style="color: black"> org.dom4j.Attribute;</span>
      </div> 
      <div align="left">
       <strong><span style="color: #7f0055">import</span></strong>
       <span style="color: black"> org.dom4j.Document;</span>
      </div> 
      <div align="left">
       <strong><span style="color: #7f0055">import</span></strong>
       <span style="color: black"> org.dom4j.DocumentException;</span>
      </div> 
      <div align="left">
       <strong><span style="color: #7f0055">import</span></strong>
       <span style="color: black"> org.dom4j.DocumentHelper;</span>
      </div> 
      <div align="left">
       <strong><span style="color: #7f0055">import</span></strong>
       <span style="color: black"> org.dom4j.Element;</span>
      </div> 
      <div align="left">
       <strong><span style="color: #7f0055">import</span></strong>
       <span style="color: black"> org.dom4j.io.OutputFormat;</span>
      </div> 
      <div align="left">
       <strong><span style="color: #7f0055">import</span></strong>
       <span style="color: black"> org.dom4j.io.SAXReader;</span>
      </div> 
      <div align="left">
       <strong><span style="color: #7f0055">import</span></strong>
       <span style="color: black"> org.dom4j.io.XMLWriter;</span>
      </div> 
      <div align="left"> 
      </div> 
      <div align="left">
       <strong><span style="color: #7f0055">public </span></strong>
       <strong><span style="color: #7f0055">class</span></strong>
       <span style="color: black"> Dom4JXML {</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp; </span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp; </span>
       <strong><span style="color: #7f0055">public</span></strong>
       <strong><span style="color: #7f0055">void</span></strong>
       <span style="color: black"> updateXML(){</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
       <strong><span style="color: #7f0055">try</span></strong>
       <span style="color: black"> {</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
       <span style="color: #3f7f5f">//</span>
       <span style="color: #3f7f5f">创建读入对象</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SAXReader reader = </span>
       <strong><span style="color: #7f0055">new</span></strong>
       <span style="color: black"> SAXReader();</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
       <span style="color: #3f7f5f">//</span>
       <span style="color: #3f7f5f">创建document实例</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Document doc = reader.read(</span>
       <span style="color: #2a00ff">&quot;F:\\emps.xml&quot;</span>
       <span style="color: black">);</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
       <span style="color: #3f7f5f">//</span>
       <span style="color: #3f7f5f">查找节点emp下的id属性</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; List listAttr = doc.selectNodes(</span>
       <span style="color: #2a00ff">&quot;/emps/emp/@id&quot;</span>
       <span style="color: black">);</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Iterator itAttr = listAttr.iterator();</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
       <strong><span style="color: #7f0055">while</span></strong>
       <span style="color: black">(itAttr.hasNext()){</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Attribute attr = (Attribute) itAttr.next();</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
       <span style="color: #3f7f5f">//emp</span>
       <span style="color: #3f7f5f">属性修改为001</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; attr.setValue(</span>
       <span style="color: #2a00ff">&quot;001&quot;</span>
       <span style="color: black">);</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
       <span style="color: #3f7f5f">//</span>
       <span style="color: #3f7f5f">查找emp下的name节点</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; List listText = doc.selectNodes(</span>
       <span style="color: #2a00ff">&quot;/emps/emp/name&quot;</span>
       <span style="color: black">);</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Iterator itText = listText.iterator();</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
       <strong><span style="color: #7f0055">while</span></strong>
       <span style="color: black">(itText.hasNext()){</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Element textEle = (Element) itText.next();</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
       <span style="color: #3f7f5f">//name</span>
       <span style="color: #3f7f5f">节点的文本内容修改为&quot;张三&quot;</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; textEle.setText(</span>
       <span style="color: #2a00ff">&quot;</span>
       <span style="color: #2a00ff">张三&quot;</span>
       <span style="color: black">);</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
       <span style="color: #3f7f5f">//</span>
       <span style="color: #3f7f5f">查找emp节点</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; List listEle = doc.selectNodes(</span>
       <span style="color: #2a00ff">&quot;/emps/emp&quot;</span>
       <span style="color: black">);</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Iterator itEle = listEle.iterator();</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
       <strong><span style="color: #7f0055">while</span></strong>
       <span style="color: black">(itEle.hasNext()){</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Element empEle = (Element) itEle.next();</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
       <span style="color: #3f7f5f">//</span>
       <span style="color: #3f7f5f">查找emp下的sex节点</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Iterator itSex = empEle.elementIterator(</span>
       <span style="color: #2a00ff">&quot;sex&quot;</span>
       <span style="color: black">);</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
       <strong><span style="color: #7f0055">while</span></strong>
       <span style="color: black">(itSex.hasNext()){</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Element sexEle = (Element) itSex.next();</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
       <span style="color: #3f7f5f">//</span>
       <span style="color: #3f7f5f">删除sex节点</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; empEle.remove(sexEle);</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
       <span style="color: #3f7f5f">//</span>
       <span style="color: #3f7f5f">创建写出流</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Writer out = </span>
       <strong><span style="color: #7f0055">new</span></strong>
       <span style="color: black"> FileWriter(</span>
       <span style="color: #2a00ff">&quot;F:\\emps(update).xml&quot;</span>
       <span style="color: black">);</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
       <span style="color: #3f7f5f">// </span>
       <span style="color: #3f7f5f">格式化输出</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OutputFormat format = OutputFormat.<em>createPrettyPrint</em>();</span>
      </div> 
      <div align="left">
       <span style="color: #3f7f5f">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //OutputFormat format = OutputFormat.createCompactFormat();</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; format.setEncoding(</span>
       <span style="color: #2a00ff">&quot;UTF-8&quot;</span>
       <span style="color: black">);</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
       <span style="color: #3f7f5f">//</span>
       <span style="color: #3f7f5f">创建写出对象</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; XMLWriter writer = </span>
       <strong><span style="color: #7f0055">new</span></strong>
       <span style="color: black"> XMLWriter(out,format);</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; writer.write(doc);</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; writer.close();</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.</span>
       <em><span style="color: #0000c0">out</span></em>
       <span style="color: black">.println(</span>
       <span style="color: #2a00ff">&quot;</span>
       <span style="color: #2a00ff">生成emps(update).xml成功。&quot;</span>
       <span style="color: black">);</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } </span>
       <strong><span style="color: #7f0055">catch</span></strong>
       <span style="color: black"> (Exception e) {</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
       <span style="color: #3f7f5f">// </span>
       <strong><span style="color: #7f9fbf">TODO</span></strong>
       <span style="color: #3f7f5f"> Auto-generated catch block</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; e.printStackTrace();</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp; }</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp; </span>
       <strong><span style="color: #7f0055">public </span></strong>
       <strong><span style="color: #7f0055">static </span></strong>
       <strong><span style="color: #7f0055">void</span></strong>
       <span style="color: black"> main(String[] args) {</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
       <strong><span style="color: #7f0055">new</span></strong>
       <span style="color: black"> Dom4JXML().updateXML();</span>
      </div> 
      <div align="left">
       <span style="color: black">&nbsp;&nbsp;&nbsp; }</span>
      </div> 
      <div>
       <span style="color: black">}</span>
      </div> </td> 
    </tr> 
   </tbody> 
  </table> </font></p></div></body></html>