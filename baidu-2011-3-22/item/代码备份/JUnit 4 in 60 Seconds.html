<html><head><title><div class="tit">
  JUnit 4 in 60 Seconds
</div></title></head><body><div id='tit'>JUnit 4 in 60 Seconds</div><div id='cate'>代码备份</div><div id='date'>2009年08月12日 星期三 10:30 A.M.</div><div id='page'>38</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/1f958194faadd117d31b7047.html'>http://hi.baidu.com/hxzon/blog/item/1f958194faadd117d31b7047.html</a><div id='cnt'><div> 
 <h3 class="entry-title"><a title="Permanent Link to &quot;JUnit 4 in 60 Seconds&quot;" rel="bookmark" href="http://www.cavdar.net/2008/07/21/junit-4-in-60-seconds/">JUnit 4 in 60 Seconds</a></h3> 
 <p>I played with JUnit 4 library this weekend and here is the short introduction to it:</p> 
 <ol> 
  <li>@Test<br /> Mark your test cases with @Test annotations. You don’t need to prefix your test cases with “test”. In addition, your class does not need to extend from “TestCase” class. 
   <div> 
    <div> 
     <div> 
     </div> 
    </div> 
    <ol> 
     <li>@Test&nbsp;&nbsp;</li> 
     <li>public void addition() {&nbsp;&nbsp;</li> 
     <li>&nbsp;&nbsp;&nbsp;&nbsp; assertEquals(12, simpleMath.add(7, 5));&nbsp;&nbsp;</li> 
     <li>}&nbsp;&nbsp;</li> 
     <li>&nbsp;&nbsp;</li> 
     <li>@Test&nbsp;&nbsp;</li> 
     <li>public void subtraction() {&nbsp;&nbsp;</li> 
     <li>&nbsp;&nbsp;&nbsp;&nbsp; assertEquals(9, simpleMath.substract(12, 3));&nbsp;&nbsp;</li> 
     <li>}&nbsp;&nbsp;</li> 
    </ol> 
   </div> </li> 
  <li>@Before and @After<br /> Use @Before and @After annotations for “setup” and “tearDown” methods respectively. They run before and after every test case. 
   <div> 
    <div> 
     <div> 
     </div> 
    </div> 
    <ol> 
     <li>@Before&nbsp;&nbsp;</li> 
     <li>public void runBeforeEveryTest() {&nbsp;&nbsp;</li> 
     <li>&nbsp;&nbsp;&nbsp;&nbsp; simpleMath = new SimpleMath();&nbsp;&nbsp;</li> 
     <li>}&nbsp;&nbsp;</li> 
     <li>&nbsp;&nbsp;</li> 
     <li>@After&nbsp;&nbsp;</li> 
     <li>public void runAfterEveryTest() {&nbsp;&nbsp;</li> 
     <li>&nbsp;&nbsp;&nbsp;&nbsp; simpleMath = null;&nbsp;&nbsp;</li> 
     <li>}&nbsp;&nbsp;</li> 
    </ol> 
   </div> </li> 
  <li>@BeforeClass and @AfterClass<br /> Use @BeforeClass and @AfterClass annotations for class wide “setup” and “tearDown” respectively. Think them as one time setup and tearDown. They run for one time before and after all test cases. 
   <div> 
    <div> 
     <div> 
     </div> 
    </div> 
    <ol> 
     <li>@BeforeClass&nbsp;&nbsp;</li> 
     <li>public static void runBeforeClass() {&nbsp;&nbsp;</li> 
     <li>&nbsp;&nbsp;&nbsp;&nbsp; // run for one time before all test cases&nbsp;&nbsp;</li> 
     <li>}&nbsp;&nbsp;</li> 
     <li>&nbsp;&nbsp;</li> 
     <li>@AfterClass&nbsp;&nbsp;</li> 
     <li>public static void runAfterClass() {&nbsp;&nbsp;</li> 
     <li>&nbsp;&nbsp;&nbsp;&nbsp; // run for one time after all test cases&nbsp;&nbsp;</li> 
     <li>}&nbsp;&nbsp;</li> 
    </ol> 
   </div> </li> 
  <li>Exception Handling<br /> Use “expected” paramater with @Test annotation for test cases that expect exception. Write the class name of the exception that will be thrown. 
   <div> 
    <div> 
     <div> 
     </div> 
    </div> 
    <ol> 
     <li>@Test(expected = ArithmeticException.class)&nbsp;&nbsp;</li> 
     <li>public void divisionWithException() {&nbsp;&nbsp;</li> 
     <li>&nbsp;&nbsp;&nbsp;&nbsp; // divide by zero&nbsp;&nbsp;</li> 
     <li>&nbsp;&nbsp;&nbsp;&nbsp; simpleMath.divide(1, 0);&nbsp;&nbsp;</li> 
     <li>}&nbsp;&nbsp;</li> 
    </ol> 
   </div> </li> 
  <li>@Ignore<br /> Put @Ignore annotation for test cases you want to ignore. You can add a string parameter that defines the reason of ignorance if you want.<br /> 
   <div> 
    <div> 
     <div> 
     </div> 
    </div> 
    <ol> 
     <li>@Ignore(&quot;Not Ready to Run&quot;)&nbsp;&nbsp;</li> 
     <li>@Test&nbsp;&nbsp;</li> 
     <li>public void multiplication() {&nbsp;&nbsp;</li> 
     <li>&nbsp;&nbsp;&nbsp;&nbsp; assertEquals(15, simpleMath.multiply(3, 5));&nbsp;&nbsp;</li> 
     <li>}&nbsp;&nbsp;</li> 
    </ol> 
   </div> </li> 
  <li>Timeout<br /> Define a timeout period in miliseconds with “timeout” parameter. The test fails when the timeout period exceeds. 
   <div> 
    <div> 
     <div> 
     </div> 
    </div> 
    <ol> 
     <li>@Test(timeout = 1000)&nbsp;&nbsp;</li> 
     <li>public void infinity() {&nbsp;&nbsp;</li> 
     <li>&nbsp;&nbsp;&nbsp;&nbsp; while (true)&nbsp;&nbsp;</li> 
     <li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ;&nbsp;&nbsp;</li> 
     <li>}&nbsp;&nbsp;</li> 
    </ol> 
   </div> </li> 
  <li>New Assertions<br /> Compare arrays with new assertion methods. Two arrays are equal if they have the same length and each element is equal to the corresponding element in the other array; otherwise, they’re not. <p>public static void assertEquals(Object[] expected, Object[] actual);<br /> public static void assertEquals(String message, Object[] expected, Object[] actual);</p> 
   <div> 
    <div> 
     <div> 
     </div> 
    </div> 
    <ol> 
     <li>@Test&nbsp;&nbsp;</li> 
     <li>public void listEquality() {&nbsp;&nbsp;</li> 
     <li>&nbsp;&nbsp;&nbsp;&nbsp; List&lt;Integer&gt; expected = new ArrayList&lt;Integer&gt;();&nbsp;&nbsp;</li> 
     <li>&nbsp;&nbsp;&nbsp;&nbsp; expected.add(5);&nbsp;&nbsp;</li> 
     <li>&nbsp;&nbsp;</li> 
     <li>&nbsp;&nbsp;&nbsp;&nbsp; List&lt;Integer&gt; actual = new ArrayList&lt;Integer&gt;();&nbsp;&nbsp;</li> 
     <li>&nbsp;&nbsp;&nbsp;&nbsp; actual.add(5);&nbsp;&nbsp;</li> 
     <li>&nbsp;&nbsp;</li> 
     <li>&nbsp;&nbsp;&nbsp;&nbsp; assertEquals(expected, actual);&nbsp;&nbsp;</li> 
     <li>}&nbsp;&nbsp;</li> 
    </ol> 
   </div> </li> 
  <li>JUnit4Adapter<br /> Run your Junit 4 tests in Junit 3 test runners with Junit4Adapter. 
   <div> 
    <div> 
     <div> 
     </div> 
    </div> 
    <ol> 
     <li>public static junit.framework.Test suite() {&nbsp;&nbsp;</li> 
     <li>&nbsp;&nbsp;&nbsp;&nbsp; return new JUnit4TestAdapter(SimpleMathTest.class);&nbsp;&nbsp;</li> 
     <li>}&nbsp;&nbsp;</li> 
    </ol> 
   </div> </li> 
 </ol> 
 <p>Happy coding. <img alt=":D" src="image/JUnit 4 in 60 Second.icon_biggrin.gif" /><p class="origImg">http://www.cavdar.net/wp-includes/images/smilies/icon_biggrin.gif</p></p> 
</div></div></body></html>