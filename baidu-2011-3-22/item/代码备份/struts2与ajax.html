<html><head><title><div class="tit">
  struts2与ajax
</div></title></head><body><div id='tit'>struts2与ajax</div><div id='cate'>代码备份</div><div id='date'>2008年09月25日 星期四 09:04 A.M.</div><div id='page'>97</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/1a62a18689b3cb3866096e31.html'>http://hi.baidu.com/hxzon/blog/item/1a62a18689b3cb3866096e31.html</a><div id='cnt'><p>struts2与ajax</p> 
<p>概要：</p> 
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 如何在struts2的action中返回数据（普通字符串、xml数据岛字符串等）给ajax核心中的XMLHttpRequest对象（即模仿传统jsp页面的ajax交互）</p> 
<p>方法：</p> 
<p>public String execute() throws Exception {</p> 
<p>String str=&quot;xxoohuai&quot;;<br /> &nbsp;&nbsp; HttpServletResponse response = ServletActionContext.getResponse();<br /> &nbsp;&nbsp; response.setContentType(&quot;text/html;charset=GBK&quot;);//解决中文乱码<br /> &nbsp;&nbsp; PrintStream out = new PrintStream(response.getOutputStream());//获取out输出对象<br /> &nbsp;&nbsp; out.println(str);<br /> &nbsp;&nbsp; return null;//这里返回的是null</p> 
<p>}</p> 
<p>配置struts.xml</p> 
<p>&lt;action name=&quot;BaseInfo&quot; class=&quot;controller.hosp.BaseInfoAction&quot;&gt;<br /> &nbsp;&nbsp;&nbsp; &lt;result&gt;&lt;/result&gt;<br /> &nbsp;&nbsp; &lt;/action&gt;</p> 
<p>ok~~~~~~~~！</p> 
<p>补充：实习后发觉这样更简单</p> 
<p><font color="#ff0000">getResponse().getWriter().write(&quot;your output String&quot;);</font></p> 
<p>struts.xml配置连result标签都不用写了</p></div></body></html>