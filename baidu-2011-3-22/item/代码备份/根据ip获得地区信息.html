<html><head><title><div class="tit">
  根据ip获得地区信息
</div></title></head><body><div id='tit'>根据ip获得地区信息</div><div id='cate'>代码备份</div><div id='date'>2008年08月26日 星期二 03:03 P.M.</div><div id='page'>108</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/bb653dc716d489dad00060fe.html'>http://hi.baidu.com/hxzon/blog/item/bb653dc716d489dad00060fe.html</a><div id='cnt'><div>
 根据ip获得地区信息
</div> 
<div> 
</div> 
<div>
 <br /> ========================================
 <br /> java.net.URL&nbsp;&nbsp; url=new&nbsp;&nbsp; java.net.URL(&quot;
 <a href="http://x2x.c06.net/?from=ip&amp;to=address&amp;call=ON&amp;content=127.0.0.1&quot;);//127.0.0.1">http://x2x.c06.net/?from=ip&amp;to=address&amp;call=ON&amp;content=127.0.0.1&quot;);//127.0.0.1</a>可换为任意IP&nbsp;&nbsp; 
 <br /> java.io.InputStream&nbsp;&nbsp; is=url.openStream();&nbsp;&nbsp; 
 <br /> StringBuffer&nbsp;&nbsp; sb=new&nbsp;&nbsp; StringBuffer();&nbsp;&nbsp; 
 <br /> int&nbsp;&nbsp; value=0;&nbsp;&nbsp; 
 <br /> while((value=is.read())!=-1)&nbsp;&nbsp; 
 <br /> {&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sb.append((char)value);&nbsp;&nbsp; 
 <br /> }&nbsp;&nbsp; 
 <br /> is.close();&nbsp;&nbsp; 
 <br /> String&nbsp;&nbsp; address=new&nbsp;&nbsp; String(sb.toString().getBytes(&quot;ISO-8859-1&quot;),&quot;UTF-8&quot;);&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp; 
 <br /> System.out.println(address);//
</div> 
<div> 
</div> 
<div>
 =============================================
 <br /> 根据ip获得地区,java版,代码如下:&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp; 
 <br /> String&nbsp;&nbsp; ip=&quot;127.0.0.1&quot;;///可以换成任意ip&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp; 
 <br /> java.net.URL&nbsp;&nbsp; url=new&nbsp;&nbsp; java.net.URL(&quot;
 <a href="http://site.c06.net/jsp/count/ipquery.jsp?community=site_c06&amp;ip=&quot;+ip+&quot;&amp;act=brachylogy">http://site.c06.net/jsp/count/ipquery.jsp?community=site_c06&amp;ip=&quot;+ip+&quot;&amp;act=brachylogy</a>&quot;);&nbsp;&nbsp; 
 <br /> java.io.InputStream&nbsp;&nbsp; is=url.openStream();&nbsp;&nbsp; 
 <br /> StringBuffer&nbsp;&nbsp; sb=new&nbsp;&nbsp; StringBuffer();&nbsp;&nbsp; 
 <br /> int&nbsp;&nbsp; value=0;&nbsp;&nbsp; 
 <br /> while((value=is.read())!=-1)&nbsp;&nbsp; 
 <br /> {&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sb.append((char)value);&nbsp;&nbsp; 
 <br /> }&nbsp;&nbsp; 
 <br /> is.close();&nbsp;&nbsp; 
 <br /> String&nbsp;&nbsp; address=new&nbsp;&nbsp; String(sb.toString().getBytes(&quot;ISO-8859-1&quot;),&quot;UTF-8&quot;);&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp; 
 <br /> System.out.println(address);//
</div> 
<div> 
</div> 
<div>
 ======================================
 <br /> 我先试一下iwlk方法,我开始也感觉需要数据库,因为网上有这样的资源(已经有人维护过的不同的网络服务商自己的网段信息,也有用于对这个数据库进行解析的代码),不过我希望能用一个不需要数据库的方法,多谢iwlk.&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 如果有需要这个数据库的朋友可以去这里下载
 <a href="http://www.cz88.net/fox/">http://www.cz88.net/fox/</a>&nbsp;&nbsp;&nbsp;&nbsp; 这个数据库里维护了26万多条ip信息。&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 代码可以去这里下载
 <a href="http://www.linuxsir.org/bbs/showthread.php?s=&amp;threadid=131912">http://www.linuxsir.org/bbs/showthread.php?s=&amp;threadid=131912</a>&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 他的数据库维护在一个.dat文件里,需要用上面的代码进行解析，我正在调试。&nbsp;&nbsp;
</div> 
<div> 
</div> 
<div>
 <br /> 
 <a href="http://topic.csdn.net/t/20060424/11/4708815.html">http://topic.csdn.net/t/20060424/11/4708815.html</a>
</div></div></body></html>