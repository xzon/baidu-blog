<html><head><title><div class="tit">
  php版的FCK解决上传图片文件名问题
</div></title></head><body><div id='tit'>php版的FCK解决上传图片文件名问题</div><div id='cate'>动手</div><div id='date'>2008年08月12日 星期二 11:34 A.M.</div><div id='page'>112</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/58b9b67e9f072e3e0dd7da5c.html'>http://hi.baidu.com/hxzon/blog/item/58b9b67e9f072e3e0dd7da5c.html</a><div id='cnt'><div>
 php版的FCK解决上传图片文件名问题
 <br /> Filed under: 杂七杂八
 <br /> 呼呼 配了FCK editor 本以为一切OK，没想到在上传中文名字的文件时，出现乱码。上传的乱码名字图片也不能显示。（当然了）
 <br /> 上网搜索了大半天 不是java版本的就是asp版本的解决方法，终于找到一个PHP版本，却没有用，于是自己来解决。看后台代码找了半天，终于弄出来解决方法了，那就是更改FileUpLoad函数 此函数定义在 fckeditor\editor\filemanager\connectors\php\commands.php 文件中（2.5版本）。
 <br /> 在该函数中找到以下代码
</div> 
<div> 
</div> 
<div>
 // Get the extension.
 <br /> $sExtension = substr( $sFileName, ( strrpos($sFileName, ‘.’) + 1 ) ) ;
 <br /> $sExtension = strtolower( $sExtension ) ;
 <br /> 在其后加上一句：
</div> 
<div> 
</div> 
<div>
 $sFileName = strtotime(”now”).”.”.$sExtension;
</div> 
<div> 
</div> 
<div>
 这样文件名就是 当前时间戳+后缀名了。此方法一劳永逸。再也不用管什么英文中文名了。
 <br /> 抛砖引玉，希望有谁能告诉我其他更好的解决方法！
 <br /> 
 <br /> 
 <a href="http://hi.baidu.com/goodlad/blog/item/4fd9b150f4c9616785352497.html">http://hi.baidu.com/goodlad/blog/item/4fd9b150f4c9616785352497.html</a>
</div></div></body></html>