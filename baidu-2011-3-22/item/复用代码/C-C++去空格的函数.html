<html><head><title><div class="tit">
  C/C++去空格的函数
</div></title></head><body><div id='tit'>C/C++去空格的函数</div><div id='cate'>复用代码</div><div id='date'>2010年05月11日 星期二 10:58 A.M.</div><div id='page'>14</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/f2b8b51b29e452158718bf09.html'>http://hi.baidu.com/hxzon/blog/item/f2b8b51b29e452158718bf09.html</a><div id='cnt'><p><strong>C/C++去空格的函数<br /> <br /> </strong>经过测试不会疏漏任何一种空白字符，准确可靠<br /> <br /> ----------------------------------------C---------------------------------------<br /> #include &lt;stdio.h&gt;<br /> #include &lt;string.h&gt;<br /> #include &lt;ctype.h&gt;<br /> <br /> char * trim(char * ptr)<br /> {<br /> int start,end,i;<br /> if (ptr)<br /> {<br /> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; for(start=0; isspace(ptr[start]); start++)<br /> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; ;<br /> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; for(end=strlen(ptr)-1; isspace(ptr[end]); end--)<br /> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; ;<br /> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; for(i=start; i&lt;=end; i++)<br /> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; ptr[i-start]=ptr[i];<br /> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; ptr[end-start+1]='\0';<br /> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return (ptr);<br /> }<br /> else<br /> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return NULL;<br /> }<br /> <br /> <br /> --------------------------------------C++-----------------------------------<br /> #include &lt;string&gt;<br /> using namespace std;<br /> <br /> string trim(string &amp;s)<br /> {<br /> const string &amp;space =&quot; \f\n\t\r\v&quot; ;<br /> string r=s.erase(s.find_last_not_of(space)+1);<br /> return r.erase(0,r.find_first_not_of(space));<br /> }<br /> <br /> string ltrim(string &amp;s)<br /> {<br /> const string &amp;space =&quot; \f\n\t\r\v&quot; ;<br /> return s.erase(0,s.find_first_not_of(space));<br /> }<br /> <br /> string rtrim(string &amp;s)<br /> {<br /> const string &amp;space =&quot; \f\n\t\r\v&quot; ;<br /> return s.erase(s.find_last_not_of(space)+1);<br /> }</p> 
<p><a href="http://blog.csdn.net/t_larry/archive/2006/06/12/790974.aspx">http://blog.csdn.net/t_larry/archive/2006/06/12/790974.aspx</a></p> 
<p>当strlen(ptr)为0时，程序会不会挂掉：<br /> <br /> for(end=strlen(ptr)-1; isspace(ptr[end]); end--)</p> 
<p>当prt中全为空格， 这句也要挂掉：<br /> for(end=strlen(ptr)-1; isspace(ptr[end]); end--)</p> 
<p>修改一下， 可以去全空格<br /> for(end=strlen(ptr)-1; end &gt;= start &amp;&amp; isspace(ptr[end]); end--)</p></div></body></html>