<html><head><title><div class="tit">
  //KeyPress.java，显示键盘输入及ascii码-Java源代码
</div></title></head><body><div id='tit'>//KeyPress.java，显示键盘输入及ascii码-Java源代码</div><div id='cate'>存档&middot;垃圾</div><div id='date'>2007年12月08日 星期六 00:39 A.M.</div><div id='page'>197</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/e65fe6fe68535d325d600841.html'>http://hi.baidu.com/hxzon/blog/item/e65fe6fe68535d325d600841.html</a><div id='cnt'><div> 
 <p>//KeyPress.java，显示键盘输入及ascii码-Java源代码</p> 
 <p>import java.awt.*;<br /> import java.awt.event.*;<br /> import javax.swing.*;</p> 
</div> 
<div> 
</div> 
<div>
 public class KeyPress extends JFrame
 <br /> { public static void main(String[] args)
 <br /> &nbsp;&nbsp;&nbsp; {&nbsp;&nbsp; KeyFrame frame = new KeyFrame();
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; frame.setVisible(true);
 <br /> &nbsp;&nbsp;&nbsp; }
 <br /> }
</div> 
<div> 
</div> 
<div>
 class KeyFrame extends JFrame
 <br /> { 
 <br /> &nbsp;&nbsp;&nbsp; public KeyFrame()
 <br /> &nbsp;&nbsp;&nbsp; {&nbsp;&nbsp; setTitle(&quot;KeyPress&quot;);
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setSize(WIDTH, HEIGHT);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // 将panel加入到frame
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; KeyPanel panel = new KeyPanel();
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Container contentPane = getContentPane();
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contentPane.add(panel);
 <br /> &nbsp;&nbsp;&nbsp; }
 <br /> &nbsp;&nbsp;&nbsp; public static final int WIDTH = 300;
 <br /> &nbsp;&nbsp;&nbsp; public static final int HEIGHT = 200;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <br /> }
</div> 
<div> 
</div> 
<div>
 class KeyPanel extends JPanel implements KeyListener
 <br /> { 
 <br /> &nbsp;&nbsp;&nbsp; public KeyPanel(){ addKeyListener(this);} //注册监听器
 <br /> &nbsp;&nbsp;&nbsp; public boolean isFocusTraversable() { return true; }//允许面板获得焦点 
 <br /> &nbsp;&nbsp;&nbsp; public void paintComponent(Graphics g)
 <br /> &nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; super.paintComponent(g);
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(KeyVirtualCode == -1)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //输出虚拟键码
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; g.drawString(&quot;虚拟键码：&quot;, 100, 80);
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; g.drawString(&quot;虚拟键码：&quot; + KeyVirtualCode, 100, 80);
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; g.drawString(&quot;键名称：&quot;+ KeyText, 100, 110);//输出键的名称
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; g.drawString(&quot;字符：&quot;+ KeyChar, 100, 140);&nbsp;&nbsp;&nbsp; //输出字符
 <br /> &nbsp;&nbsp;&nbsp; }
 <br /> &nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp; public void keyPressed(KeyEvent event)&nbsp;&nbsp;&nbsp;&nbsp; //得到虚拟键码&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp; {KeyVirtualCode = event.getKeyCode();}
 <br /> &nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp; public void keyReleased(KeyEvent event)
 <br /> &nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; KeyVirtualCode = event.getKeyCode(); //得到键的名称
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; KeyText = event.getKeyText(KeyVirtualCode);
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(!isChar) { KeyChar= ' ';}&nbsp;&nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; isChar = false;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; repaint();
 <br /> &nbsp;&nbsp;&nbsp; }
 <br /> &nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp; public void keyTyped(KeyEvent event)&nbsp;&nbsp;&nbsp;&nbsp; //得到字符&nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; KeyChar = event.getKeyChar();isChar = true;&nbsp;&nbsp;&nbsp; }
 <br /> &nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp; public char KeyChar = ' ';
 <br /> &nbsp;&nbsp;&nbsp; public int KeyVirtualCode = -1;
 <br /> &nbsp;&nbsp;&nbsp; public String KeyText = &quot;&quot;;
 <br /> &nbsp;&nbsp;&nbsp; public boolean isChar = false;
 <br /> }
</div></div></body></html>