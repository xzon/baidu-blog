<html><head><title><div class="tit">
  swt组合框combo示例程序-SWT-Java源代码
</div></title></head><body><div id='tit'>swt组合框combo示例程序-SWT-Java源代码</div><div id='cate'>存档&middot;垃圾</div><div id='date'>2008年03月31日 星期一 01:48 P.M.</div><div id='page'>150</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/60ce054f3a9e1a32aec3ab7a.html'>http://hi.baidu.com/hxzon/blog/item/60ce054f3a9e1a32aec3ab7a.html</a><div id='cnt'><p>swt组合框combo示例程序-SWT-Java源代码</p> 
<div class="codeText"> 
 <div class="codeHead">
  Java代码
 </div> 
 <ol class="dp-j"> 
  <li class="alt"><span><span class="keyword">package</span><span> com.example.swt.combosample; &nbsp;&nbsp;</span></span></li> 
  <li><span>&nbsp;&nbsp;</span></li> 
  <li class="alt"><span class="keyword">import</span><span> org.eclipse.swt.events.*; &nbsp;&nbsp;</span></li> 
  <li><span class="keyword">import</span><span> org.eclipse.swt.SWT; &nbsp;&nbsp;</span></li> 
  <li class="alt"><span class="keyword">import</span><span> org.eclipse.swt.layout.FillLayout; &nbsp;&nbsp;</span></li> 
  <li><span class="keyword">import</span><span> org.eclipse.swt.widgets.Combo; &nbsp;&nbsp;</span></li> 
  <li class="alt"><span class="keyword">import</span><span> org.eclipse.swt.widgets.Display; &nbsp;&nbsp;</span></li> 
  <li><span class="keyword">import</span><span> org.eclipse.swt.widgets.Shell; &nbsp;&nbsp;</span></li> 
  <li class="alt"><span>&nbsp;&nbsp;</span></li> 
  <li><span class="keyword">public</span><span> </span><span class="keyword">class</span><span> ComboSample &nbsp;&nbsp;</span></li> 
  <li class="alt"><span>{ &nbsp;&nbsp;</span></li> 
  <li><span>&nbsp;&nbsp;</span></li> 
  <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">private</span><span> </span><span class="keyword">static</span><span> Combo combo; &nbsp;&nbsp;</span></li> 
  <li><span>&nbsp;&nbsp;</span></li> 
  <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">/** </span></li> 
  <li><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * Launch the application </span></span></li> 
  <li class="alt"><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * </span></span></li> 
  <li><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @param args </span></span></li> 
  <li class="alt"><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * email:wayswang@gmail.com </span></span></li> 
  <li><span><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */</span><span>&nbsp;&nbsp;</span></span></li> 
  <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">public</span><span> </span><span class="keyword">static</span><span> </span><span class="keyword">void</span><span> main(String[] args) &nbsp;&nbsp;</span></li> 
  <li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { &nbsp;&nbsp;</span></li> 
  <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">final</span><span> Display display = Display.getDefault(); &nbsp;&nbsp;</span></li> 
  <li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">final</span><span> Shell shell = </span><span class="keyword">new</span><span> Shell(); &nbsp;&nbsp;</span></li> 
  <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FillLayout layout = </span><span class="keyword">new</span><span> FillLayout(); &nbsp;&nbsp;</span></li> 
  <li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; layout.marginHeight = </span><span class="number">20</span><span>; &nbsp;&nbsp;</span></li> 
  <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; layout.marginWidth = </span><span class="number">20</span><span>; &nbsp;&nbsp;</span></li> 
  <li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; shell.setLayout(layout); &nbsp;&nbsp;</span></li> 
  <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; shell.setSize(</span><span class="number">201</span><span>, </span><span class="number">183</span><span>); &nbsp;&nbsp;</span></li> 
  <li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; shell.setText(</span><span class="string">&quot;组合框演示&quot;</span><span>); &nbsp;&nbsp;</span></li> 
  <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">// </span><span>&nbsp;&nbsp;</span></li> 
  <li><span>&nbsp;&nbsp;</span></li> 
  <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; shell.open(); &nbsp;&nbsp;</span></li> 
  <li><span>&nbsp;&nbsp;</span></li> 
  <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">final</span><span> Combo combo = </span><span class="keyword">new</span><span> Combo(shell, SWT.SIMPLE); &nbsp;&nbsp;</span></li> 
  <li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; combo.setBounds(</span><span class="number">10</span><span>, </span><span class="number">10</span><span>, </span><span class="number">173</span><span>, </span><span class="number">21</span><span>); &nbsp;&nbsp;</span></li> 
  <li class="alt"><span>&nbsp;&nbsp;</span></li> 
  <li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String[] items = </span><span class="keyword">new</span><span> String[</span><span class="number">4</span><span>]; &nbsp;&nbsp;</span></li> 
  <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span> (</span><span class="keyword">int</span><span> i = </span><span class="number">0</span><span>; i &lt; items.length; i++) { &nbsp;&nbsp;</span></li> 
  <li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; items[i] = </span><span class="string">&quot;选项&quot;</span><span> + i; &nbsp;&nbsp;</span></li> 
  <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;</span></li> 
  <li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; combo.setItems(items); &nbsp;&nbsp;</span></li> 
  <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //加上此句，使得左右键可以向上下键一样选择，否则会变成字符光标移动hxzon&nbsp;&nbsp;</span></li> 
  <li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; combo.addKeyListener(</span><span class="keyword">new</span><span> KeyAdapter(){ &nbsp;&nbsp;</span></li> 
  <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">public</span><span> </span><span class="keyword">void</span><span> keyPressed(KeyEvent e){ &nbsp;&nbsp;</span></li> 
  <li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span> (e.keyCode==SWT.ARROW_LEFT) { &nbsp;&nbsp;</span></li> 
  <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; combo.select(combo.getSelectionIndex()-</span><span class="number">1</span><span>); &nbsp;&nbsp;</span></li> 
  <li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;</span></li> 
  <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>(e.keyCode==SWT.ARROW_RIGHT){ &nbsp;&nbsp;</span></li> 
  <li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; combo.select(combo.getSelectionIndex()+</span><span class="number">1</span><span>); &nbsp;&nbsp;</span></li> 
  <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;</span></li> 
  <li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;</span></li> 
  <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }); &nbsp;&nbsp;</span></li> 
  <li><span>&nbsp;&nbsp;</span></li> 
  <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; shell.layout(); &nbsp;&nbsp;</span></li> 
  <li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">while</span><span> (!shell.isDisposed()) { &nbsp;&nbsp;</span></li> 
  <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span> (!display.readAndDispatch()) &nbsp;&nbsp;</span></li> 
  <li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; display.sleep(); &nbsp;&nbsp;</span></li> 
  <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;</span></li> 
  <li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;</span></li> 
  <li class="alt"><span>&nbsp;&nbsp;</span></li> 
  <li><span>} &nbsp;&nbsp;</span></li> 
 </ol> 
</div> 
<p><a target="_blank" href="http://www.blogguy.cn//attachment.php?id=252"><img height="181" alt="大小: 7.38 K尺寸: 199 x 181浏览: 2 次点击打开新窗口浏览全图" width="199" border="0" src="image/swt组合框combo示例程序-SWT-.58d5c61c84809527278326ac373f35c2.jpg" /><p class="origImg">http://www.blogguy.cn//attachments/date_200710/58d5c61c84809527278326ac373f35c2.jpg</p></a></p> 
<p>最后贴一段关于FillLayout的说明作为复习</p> 
<div class="codeHead">
 XML/HTML代码
</div> 
<div class="codeText"> 
 <ol class="dp-xml"> 
  <li class="alt"><span><span>org.eclipse.swt.layout.FillLayout &nbsp;&nbsp;</span></span></li> 
  <li><span>FillLayout is the simplest layout class. It lays out controls in a single row or column, forcing them to be the same size. &nbsp;&nbsp;</span></li> 
  <li class="alt"><span>&nbsp;&nbsp;</span></li> 
  <li><span>Initially, the controls will all be as tall as the tallest control, and as wide as the widest. FillLayout does not wrap, but you can specify margins and spacing. You might use it to lay out buttons in a task bar or tool bar, or to stack checkboxes in a Group. FillLayout can also be used when a Composite only has one child. For example, if a Shell has a single Group child, FillLayout will cause the Group to completely fill the Shell (if margins are 0). &nbsp;&nbsp;</span></li> 
  <li class="alt"><span>&nbsp;&nbsp;</span></li> 
  <li><span>Example code: first a FillLayout is created and its type field is set, and then the layout is set into the Composite. Note that in a FillLayout, children are always the same size, and they fill all available space. &nbsp;&nbsp;</span></li> 
  <li class="alt"><span>&nbsp;&nbsp;</span></li> 
  <li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FillLayout </span><span class="attribute">fillLayout</span><span> = </span><span class="attribute-value">new</span><span> FillLayout(); &nbsp;&nbsp;</span></li> 
  <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="attribute">fillLayout.type</span><span> = </span><span class="attribute-value">SWT</span><span>.VERTICAL; &nbsp;&nbsp;</span></li> 
  <li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; shell.setLayout(fillLayout); &nbsp;&nbsp;</span></li> 
  <li class="alt"><span>&nbsp;&nbsp;</span></li> 
 </ol> 
</div> 
<div class="alt">
 <a href="http://www.blogguy.cn/show-296-1.html">http://www.blogguy.cn/show-296-1.html</a>
</div></div></body></html>