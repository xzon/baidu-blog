<html><head><title><div class="tit">
  操作系统进程程序-C/C++源代码
</div></title></head><body><div id='tit'>操作系统进程程序-C/C++源代码</div><div id='cate'>存档&middot;垃圾</div><div id='date'>2008年01月18日 星期五 11:05 P.M.</div><div id='page'>178</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/16fe504e076c990db3de0587.html'>http://hi.baidu.com/hxzon/blog/item/16fe504e076c990db3de0587.html</a><div id='cnt'><h1>操作系统进程程序-C/C++源代码</h1> 
<p>/* <br /> 假设系统只能有一个进程出去执行状态, <br /> 如果系统有执行的进程.其他请求的进程就处于等待状态! <br /> */ <br /> #include&quot;iostream.h&quot; <br /> class Thread <br /> { <br /> public: <br /> Thread() <br /> { <br /> cout&lt;&lt;&quot;创建进程......&quot;&lt;&lt;endl; <br /> status=1; <br /> } <br /> ~Thread() <br /> { <br /> cout&lt;&lt;&quot;进程结束.....&quot;&lt;&lt;endl; <br /> } <br /> int Getstatus() <br /> { <br /> return status; <br /> } <br /> void SetStatus(int s,int &amp;systemstatus) <br /> { <br /> if(systemstatus==1 &amp;&amp; s==1) <br /> { <br /> cout&lt;&lt;&quot;还有进程正在执行,此进程被阻塞,处于等待状态&quot;&lt;&lt;endl; <br /> status=3; <br /> return; <br /> }if(s==3) <br /> { <br /> status=3; <br /> } <br /> systemstatus=1; <br /> status=2; <br /> cout&lt;&lt;&quot;进程执行......&quot;&lt;&lt;endl; <br /> } <br /> void Stop(int systemstatus) <br /> { <br /> cout&lt;&lt;&quot;执行完毕&quot;&lt;&lt;endl; <br /> systemstatus=0; <br /> status=4; <br /> } <br /> void Alarm(Thread &amp;thread,int systemstatus) <br /> { <br /> cout&lt;&lt;&quot;此进程正在被唤醒!&quot;&lt;&lt;endl; <br /> thread.SetStatus (1,systemstatus); <br /> } <br /> void Dispalystatus(Thread &amp;thread) <br /> { <br /> switch(thread.status) <br /> { <br /> case 1:cout&lt;&lt;&quot;处于就绪状态&quot;&lt;&lt;endl;break; <br /> case 2:cout&lt;&lt;&quot;处于执行状态&quot;&lt;&lt;endl;break; <br /> case 3:cout&lt;&lt;&quot;处于等待状态&quot;&lt;&lt;endl;break; <br /> case 4:cout&lt;&lt;&quot;执行结束&quot;&lt;&lt;endl;break; <br /> } <br /> } <br /> private: <br /> int status;//定义状态.1.就绪;2.执行;3.等待;4.执行完毕 <br /> }; <br /> void main() <br /> { <br /> int systemstatus=0,status=1; <br /> int Which=1;//对那个进程操作,兼做结束符 <br /> int What=1;//对进程做什么样的操作 <br /> cout&lt;&lt;&quot;建立第一个进程!&quot;&lt;&lt;&quot; &quot;; <br /> Thread a; <br /> cout&lt;&lt;&quot;建立第二个进程!&quot;&lt;&lt;&quot; &quot;; <br /> Thread b; <br /> cout&lt;&lt;&quot;建立第三个进程!&quot;&lt;&lt;&quot; &quot;; <br /> Thread c; <br /> cout&lt;&lt;&quot;第一个进程 &quot;; <br /> a.Dispalystatus(a); <br /> cout&lt;&lt;&quot;第二个进程 &quot;; <br /> b.Dispalystatus(b); <br /> cout&lt;&lt;&quot;第三个进程 &quot;; <br /> c.Dispalystatus(c); <br /> while(Which) <br /> { <br /> cout&lt;&lt;&quot;请输入你要对那个进程操作:\n对A操作输入(1):对B操作输入(2):对C操作输入(3):【如果输入0表示结束程序】&quot;&lt;&lt;endl; <br /> cin&gt;&gt;Which; <br /> cout&lt;&lt;&quot;请输入你要执行的操作：(2)执行进程:(3)阻塞进程:(4)唤醒进程:(5)执行结束:(6)撤销进程&quot;&lt;&lt;endl; <br /> cin&gt;&gt;What; <br /> if(Which&gt;=0 &amp;&amp; Which&lt;=3 &amp;&amp; What&gt;=2 &amp;&amp; What&lt;6)//判断输入是否正确 <br /> { <br /> if(Which==1) <br /> { <br /> switch(What) <br /> { <br /> case 2:a.SetStatus(1,systemstatus);break; <br /> case 3:a.SetStatus(3,systemstatus);break; <br /> case 4:a.Alarm(a,systemstatus);break; <br /> case 5:a.Stop(systemstatus);break; <br /> case 6:a.~Thread();break; <br /> } <br /> }if(Which==2) <br /> { <br /> switch(What) <br /> { <br /> case 2:b.SetStatus(1,systemstatus);break; <br /> case 3:b.SetStatus(3,systemstatus);break; <br /> case 4:b.Alarm(a,systemstatus);break; <br /> case 5:b.Stop(systemstatus);break; <br /> case 6:b.~Thread();break; <br /> } <br /> <br /> }if(Which==3) <br /> { <br /> switch(What) <br /> { <br /> case 2:c.SetStatus(1,systemstatus);break; <br /> case 3:c.SetStatus(3,systemstatus);break; <br /> case 4:c.Alarm(a,systemstatus);break; <br /> case 5:c.Stop(systemstatus);break; <br /> case 6:c.~Thread();break; <br /> } <br /> <br /> } <br /> cout&lt;&lt;&quot;第一个进程 &quot;; <br /> a.Dispalystatus(a); <br /> cout&lt;&lt;&quot;第二个进程 &quot;; <br /> b.Dispalystatus(b); <br /> cout&lt;&lt;&quot;第三个进程 &quot;; <br /> c.Dispalystatus(c); <br /> } <br /> else <br /> cout&lt;&lt;&quot;你的输入有误,请重新输入&quot;&lt;&lt;endl; <br /> } <br /> <br /> }</p></div></body></html>