<html><head><title><div class="tit">
  PHP新手上路--PHP入门-PHP语法
</div></title></head><body><div id='tit'>PHP新手上路--PHP入门-PHP语法</div><div id='cate'>异域</div><div id='date'>2008年07月15日 星期二 01:27 P.M.</div><div id='page'>119</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/f6c753fbc2eebc136d22eba2.html'>http://hi.baidu.com/hxzon/blog/item/f6c753fbc2eebc136d22eba2.html</a><div id='cnt'><div> 
 <div> 
  <p>PHP新手上路--PHP入门-PHP语法</p> 
  <p>PHP站点的在线教程已经很棒了。在那里还有一些其他教程的链接。而本文的该部分将让你对PHP熟悉一点。我不可能做到没有任何遗漏，我的目的只在于能让你迅速开始你的PHP编程。 <br /> <br /> 2.1 首要条件 <br /> <br /> &nbsp;&nbsp;&nbsp; 你首先必须要有一个正在工作着的支持PHP的web服务器。我假定在你的服务器上所有PHP文件的扩展名为.php3。 <br /> <br /> 2.2 PHP的安装 <br /> <br /> &nbsp;&nbsp;&nbsp; 生成一个名为test.php3的文件，含有以下内容： <br /> &lt;? phpinfo(); ?&gt; <br /> 然后在你的浏览器中打开此文件。看看这个页面你就知道你的PHP安装使用的选项了。 <br /> <br /> 2.3 语法 <br /> <br /> &nbsp;&nbsp;&nbsp; 就像前面提到的一样，你可以混合编写你的PHP代码和HTML代码。因此你必须有办法将两者区别开来。以下就是你可以采用的几种方法。你可以选用其中一种你最适应的并且就这样坚持这种方法！ <br /> <br /> 从HTML中分离 <br /> <br /> 以下是可以使用的方法：</p> 
  <div> 
   <pre>&lt;? . . . ?&gt; <br />&lt;?php . . . ?&gt; <br />&lt;script language=&quot;php&quot;&gt; . . . &lt;/script&gt; <br />&lt;% . . . %&gt;
</pre>
   <div> 
   </div> 
  </div> 
  <p><br /> 语句 <br /> <br /> 与Perl和C一样，在PHP中用（;）来分隔语句。那些从HTML中分离出来的标志也表示语句的结束。 <br /> <br /> 注释 <br /> <br /> PHP支持C，C++和Unix风格的注释方式：</p> 
  <pre>/* C,C++风格多行注释 */ <br />// C++风格单行注释 <br /># Unix风格单行注释</pre> 
  <p>Hello,World! <br /> <br /> 通过我们已经学过的知识，你可以编写一个最简单的程序输出一个也许是程序世界中最有名的词语：</p> 
  <div>
   &lt;HTML&gt; 
   <br /> &lt;HEAD&gt; 
   <br /> &lt;TITLE&gt; 
   <br /> &lt;? 
   <br /> echo &quot;Hello World!&quot;; 
   <br /> ?&gt; 
   <br /> &lt;/TITLE&gt; 
   <br /> &lt;/HEAD&gt; 
   <br /> &lt;BODY&gt; 
   <br /> &lt;H1&gt; 
   <br /> First PHP page 
   <br /> &lt;/H1&gt; 
   <br /> &lt;HR&gt; 
   <br /> &lt;? 
   <br /> // Single line C++ style comment 
   <br /> /* 
   <br /> printing the message 
   <br /> */ 
   <br /> echo &quot;Hello World!&quot;; 
   <br /> # Unix style single line comment 
   <br /> ?&gt; 
   <br /> &lt;/BODY&gt; 
   <br /> &lt;/HTML&gt;
  </div> 
  <p>2.4 数据类型 <br /> <br /> &nbsp;&nbsp;&nbsp; PHP支持整数、浮点数、字符串、数组和对象。变量类型通常不由程序员决定而由PHP运行过程决定（真是好的解脱！）。但是类型也可以被函数cast或者settype()明确的设定。 <br /> <br /> 数值 <br /> <br /> &nbsp;&nbsp;&nbsp; 数值类型可以是整数或是浮点数。你可以用以下的语句来为一个数值赋值： <br /> $a = 1234; # 十进制数 <br /> $a = -123; # 负数 <br /> $a = 0123; # 八进制数 (等于十进制数的83) <br /> $a = 0x12; # 十六进制数(等于十进制数的18) <br /> $a = 1.234; # 浮点数&quot;双精度数&quot; <br /> $a = 1.2e3; # 双精度数的指数形式 <br /> <br /> 字符串 <br /> <br /> &nbsp;&nbsp;&nbsp; 字符串可以由单引号或双引号引出的字段定义。注意不同的是被单引号引出的字符串是以字面定义的，而双引号引出的字符串可以被扩展。反斜杠（\）可以被用来分割某些特殊字符。举例如下：</p> 
  <pre></pre>
  <div> 
  </div> $first = 'Hello'; 
  <br />$second = &quot;World&quot;; 
  <br />$full1 = &quot;$first $second&quot;; # 产生 Hello World 
  <br />$full2 = '$first $second';# 产生 $first $second 
  <p>&nbsp;&nbsp;&nbsp; 可以将字符和数字利用运算符号连接起来。字符被转化成数字，利用其最初位置。在PHP手册中有详细的例子。 <br /> <br /> 数组与哈希表 <br /> <br /> &nbsp;&nbsp; 数组与哈希表以同样的方法被支持。怎样运用取决于你怎样定义它们。你可以用list()或者array()来定义它们，也可以直接为数组赋值。数组的索引从0开始。虽然我在这里没有说明，但是你一样可以轻易的使用多维数组。</p> 
  <pre></pre>
  <div> 
  </div> // 一个包含两个元素的数组 
  <br />$a[0] = &quot;first&quot;; 
  <br />$a[1] = &quot;second&quot;; 
  <br />$a[] = &quot;third&quot;; // 添加数组元素的简单方法 
  <br />// 现在$a[2]被赋值为&quot;third&quot; 
  <br />echo count($a); // 打印出3，因为该是数组有3个元素 
  <br />// 用一个语句定义一个数组并赋值 
  <br />$myphonebook = array ( 
  <br />&quot;sbabu&quot; =&gt; &quot;5348&quot;, 
  <br />&quot;keith&quot; =&gt; &quot;4829&quot;, 
  <br />&quot;carole&quot; =&gt; &quot;4533&quot; 
  <br />); 
  <br />// 噢，忘了教长吧，让我们添加一个元素 
  <br />$myphonebook[&quot;dean&quot;] = &quot;5397&quot;; 
  <br />// 你定义的carale元素错了，让我们更正它 
  <br />$myphonebook[&quot;carole&quot;] =&gt; &quot;4522&quot; 
  <br />// 我还没有告诉你怎样使用数组的相似支持方式吗？让我们看一看 
  <br />echo &quot;$myphonebook[0]&quot;; // sbabu 
  <br />echo &quot;$myphonebook[1]&quot;; // 5348 
  <p>其他一些对数组或哈希表有用的函数包括sort()，next()，prev()和each()。 <br /> <br /> 对象 <br /> <br /> 使用new语句产生一个对象：</p> 
  <pre></pre>
  <div> 
  </div> class foo 
  <br />{ 
  <br />function do_foo () 
  <br />{ 
  <br />echo &quot;Doing foo.&quot;; 
  <br />} 
  <br />} 
  <br />$bar = new foo; 
  <br />$bar-&gt;do_foo(); 
  <p>改变变量类型 <br /> <br /> 在PHP手册中提到：&quot;PHP不支持（也不需要）直接在声明变量时定义变量类型；变量类型将根据其被应用的情况决定。如果你为变量var赋值为一个字符串，那么它变成了一个字符串。如果你又为它赋了整数值，那么它就变成了整数。&quot;</p> 
  <pre>$foo = &quot;0&quot;; // $foo是字符串(ASCII 48) <br />$foo++; // $foo是字符串&quot;1&quot; (ASCII 49) <br />$foo += 1; // $foo现在是整数(2) <br />$foo = $foo + 1.3; // $foo是一个双精度数(3.3) <br />$foo = 5 + &quot;10 Little Piggies&quot;; // $foo是一个整数(15) <br />$foo = 5 + &quot;10 Small Pigs&quot;; // $foo是一个整数(15)
</pre>
  <div> 
  </div> 
  <p>如果想要强行转换变量类型，可以使用与C语言相同的函数settype()。</p> 
  <div>
   2.5 变量与常量 
   <br /> 
   <br /> &nbsp;&nbsp;&nbsp; 可能你已经注意到，变量都有一个美元符号（$）的前缀。所有变量都是局部变量，为了使得定义的函数中可以使用外部变量，使用global语句。而你要将该变量的作用范围限制在该函数之内，使用static语句。 
   <pre>$g_var = 1 ; // 全局范围 <br />function test() <br />{ <br />global $g_var; // 这样就可以声明全局变量了 <br />} <br />
</pre>
   <div> 
   </div> 
   <p>更先进一些的是变量的变量表示。请参考PHP手册。这在有时会显得很有用。 <br /> <br /> PHP内置了许多已定义的变量。你也可以用define函数定义你自己的常量，比如define(&quot;CONSTANT&quot;,&quot;value&quot;)。 <br /> <br /> 2.6 运算符 <br /> <br /> PHP具有C,C++和Java中的通常见到的运算符。这些运算符的优先权也是一致的。赋值同样使用&quot;=&quot;。 <br /> <br /> 算术和字符 <br /> <br /> 以下只有一种运算符是有关字符的：</p> 
   <pre></pre>
   <div> 
   </div> $a + $b ：加 
   <br />$a - $b ：减 
   <br />$a * $b ：乘 
   <br />$a / $b ：除 
   <br />$a % $b ：取模（余数） 
   <br />$a . $b ：字符串连接 
   <p>逻辑和比较 <br /> <br /> 逻辑运算符有：</p> 
   <pre>$a || $b ：或 <br />$a or $b ：或 <br />$a &amp;&amp; $b ：与 <br />$a and $b ：与 <br />$a xor $b ：异或 （当$a或$b为true时为true，两者一样时为false） <br />! $a ：非 <br />比较运算符有： <br />$a == $b ：相等 <br />$a != $b ：不等 <br />$a &lt; $b ：小于 <br />$a &lt;= $b ：小于等于 <br />$a &gt; $b ：大于 <br />$a &gt;= $b ：大于等于 <br />与C一样PHP也有三重运算符（?:）。位操作符在PHP同样存在。 <br />
</pre>
   <div> 
   </div> 
   <p>优先权 <br /> <br /> 就和C以及Java一样！</p> 
  </div> 
  <div>
   2.7 控制流程结构 
   <br /> 
   <br /> PHP有着与C一样的流程控制。我将在下面大概介绍。 
   <br /> 
   <br /> if, else, elseif, if(): endif 
   <pre>if (表达式一) <br />{ <br />. . . <br />} <br />elseif (表达式二) <br />{ <br />. . . <br />} <br />else <br />{ <br />. . . <br />} <br />// 或者像Python一样 <br />if (表达式一) : <br />. . . <br />. . . <br />elseif (表达式二) : <br />. . . <br />else : <br />. . . <br />endif ; <br />
</pre>
   <div> 
   </div> 
   <p>Loops. while, do..while, for</p> 
   <pre></pre>
   <div> 
   </div> while (表达式) 
   <br />{ 
   <br />. . . 
   <br />} 
   <br />do 
   <br />{ 
   <br />. . . 
   <br />} 
   <br />while (表达式); 
   <br />for (表达式一; 表达式二; 表达式三) 
   <br />{ 
   <br />. . . 
   <br />} 
   <br />//或者像Python一样 
   <br />while (expr) : 
   <br />. . . 
   <br />endwhile ; 
   <p>switch</p> 
   <pre>switch是对多重if-elseif-else结构的最好的替换： <br />switch ($i) <br />{ <br />case 0: <br />print &quot;i equals 0&quot;; <br />case 1: <br />print &quot;i equals 1&quot;; <br />case 2: <br />print &quot;i equals 2&quot;; <br />}</pre> 
   <p> </p> 
   <p>break, continue <br /> <br /> break中断当前的循环控制结构。 <br /> continue被用来跳出剩下的当前循环并继续执行下一次循环。 <br /> <br /> require, include <br /> <br /> 就像C中的#include预处理一样。你在require中指定的那个文件将替代其在主文件中的位置。在有条件的引用文件时，可以使用include()。这样就使得你可以将复杂的PHP文件分割成多个文件并且在不同需要时分别引用它们。</p> 
   <p><br /> 2.8 函数 <br /> <br /> 你可以像以下的例子一样定义自己的函数。函数的返回值可以是任何数据类型：</p> 
   <pre></pre>
   <div> 
   </div> function foo (变量名一, 变量名二, . . . , 变量名n) 
   <br />{ 
   <br />echo &quot;Example function.\n&quot;; 
   <br />return $retval; 
   <br />} 
   <p>所有PHP代码都可以出现在函数定义中，甚至包括对其他函数和类的定义。函数必须在引用之前定义。 <br /> <br /> 2.9 类 <br /> <br /> 利用类模型建立类。可以参考PHP手册中对类的详细解释。</p> 
   <p> </p> 
   <pre>class Employee <br />{ <br />var $empno; // 员工人数 <br />var $empnm; // 员工姓名 <br /><br />function add_employee($in_num, $in_name) <br />{ <br />$this-&gt;empno = $in_num; <br />$this-&gt;empnm = $in_name; <br />} <br /><br />function show() <br />{ <br />echo &quot;$this-&gt;empno, $this-&gt;empnm&quot;; <br />return; <br />} <br /><br />function changenm($in_name) <br />{ <br />$this-&gt;empnm = $in_name; <br />} <br />} <br /><br />$sbabu = new Employee; <br />$sbabu-&gt;add_employee(10,&quot;sbabu&quot;); <br />$sbabu-&gt;changenm(&quot;babu&quot;); <br /><br />$sbabu-&gt;show(); <br />
</pre>
   <div> 
   </div> 
   <a href="http://tech.it168.com/o/2007-08-07/200708071146484_2.shtml">http://tech.it168.com/o/2007-08-07/200708071146484_2.shtml</a>
  </div> 
 </div> 
</div></div></body></html>