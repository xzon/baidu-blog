<html><head><title><div class="tit">
  另类的Ruby语法-Ruby学习笔记
</div></title></head><body><div id='tit'>另类的Ruby语法-Ruby学习笔记</div><div id='cate'>异域</div><div id='date'>2008年04月05日 星期六 02:08 P.M.</div><div id='page'>147</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/64fbf5de666d755095ee37f6.html'>http://hi.baidu.com/hxzon/blog/item/64fbf5de666d755095ee37f6.html</a><div id='cnt'><p><strong><font size="4">另类的Ruby语法-Ruby学习笔记</font></strong></p> 
<div> 
 <div> 
  <ul> 
   <li><strong><font size="4">用下划线分隔的数字</font></strong></li> 
  </ul> 
  <strong><font size="4">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; </font></strong>123,456,789.36 ruby中可写成这样 123_456_789.36。非十进制也可以哦 
  <blockquote> 
   <div class="code_title">
    ruby 代码
   </div> 
   <div class="dp-highlighter"> 
    <div class="bar"> 
    </div> 
    <ol class="dp-rb"> 
     <li class="alt"><span><span>print 123_456_789.36+1&nbsp;&nbsp;</span><span class="comment"># =&gt; 123456790.36</span><span> <br /> </span></span></li> 
     <li class="alt"><span><span>-0b101_010 </span><span class="comment"># =&gt; -42 （0b二进制）</span></span></li> 
    </ol> 
   </div> 
  </blockquote> 
  <ul> 
   <li><strong><font size="4">在一行上同时为不同的变量</font></strong><strong><font size="4">赋不同类型的值</font></strong></li> 
  </ul> 
 </div> 
 <blockquote> 
  <div class="code_title">
   ruby 代码
  </div> 
  <div class="dp-highlighter"> 
   <div class="bar"> 
   </div> 
   <ol class="dp-rb"> 
    <li class="alt"><span><span>a,b =1,'apple'&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li> 
    <li><span>print a,b&nbsp;&nbsp;<span class="comment"># =&gt;&nbsp;&nbsp; 1apple</span><span> <br /> </span></span></li> 
   </ol> 
  </div> 
 </blockquote> 
 <ul> 
  <li><strong><font size="4">范围下标..和...</font></strong></li> 
 </ul> 
 <blockquote>
  a[1..3]两个点的下标表示从a中1至3元素
  <br /> a[1...3]三个点的下标表示第1和第3个元素
  <br /> 
  <div class="code_title">
   ruby 代码
  </div> 
  <div class="dp-highlighter"> 
   <div class="bar"> 
   </div> 
   <ol class="dp-rb"> 
    <li class="alt"><span><span>a = [1,3,55,111,99,15,36]&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li> 
    <li><span>a[1..3].<span class="keyword">each</span><span>{</span><span class="variable">|i</span><span>| print i.to_s+','}&nbsp;&nbsp;</span><span class="comment"># =&gt; 3,55,111,</span><span>&nbsp;&nbsp;</span></span></li> 
    <li class="alt"><span>puts&nbsp;&nbsp;</span></li> 
    <li><span>a[1...3].<span class="keyword">each</span><span>{</span><span class="variable">|i</span><span>| print i.to_s+','}&nbsp;&nbsp;</span><span class="comment"># =&gt; 3,55,</span><span> <br /> </span></span></li> 
    <li class="alt"><span>a[1...3...5] <span class="comment"># =&gt; 错误</span><span>&nbsp;&nbsp;</span></span></li> 
   </ol> 
  </div> 
 </blockquote> 
 <ul> 
  <li><strong><font size="4">在函数中自动return它所最后赋值的元素</font></strong></li> 
 </ul> 
</div> 
<blockquote style="margin-right: 0px" dir="ltr"> 
 <div>
  一个阶乘的例子
 </div> 
 <div> 
  <div class="code_title">
   js 代码
  </div> 
  <div class="dp-highlighter"> 
   <div class="bar"> 
   </div> 
   <ol class="dp-c"> 
    <li class="alt"><span><span class="keyword">function</span><span> fact(n){ &nbsp;&nbsp;</span></span></li> 
    <li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>(n==0){ &nbsp;&nbsp;</span></li> 
    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span> 1; &nbsp;&nbsp;</span></li> 
    <li><span>&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;</span></li> 
    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">else</span><span>{ &nbsp;&nbsp;</span></li> 
    <li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span> n * fact(n-1); &nbsp;&nbsp;</span></li> 
    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;</span></li> 
    <li><span>} &nbsp;&nbsp;</span></li> 
    <li class="alt"><span>document.write(fact(8))&nbsp;&nbsp;</span></li> 
   </ol> 
  </div> 
 </div> 
 <div> 
  <div class="code_title">
   ruby 代码
  </div> 
  <div class="dp-highlighter"> 
   <div class="bar"> 
   </div> 
   <ol class="dp-rb"> 
    <li class="alt"><span><span class="keyword">def</span><span> fact(n) &nbsp;&nbsp;</span></span></li> 
    <li><span>&nbsp;&nbsp;</span><span class="keyword">if</span><span> n == 0 &nbsp;&nbsp;</span></li> 
    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp; 1 &nbsp;&nbsp;</span></li> 
    <li><span>&nbsp;&nbsp;</span><span class="keyword">else</span><span>&nbsp;&nbsp;</span></li> 
    <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; n * fact(n-1)&nbsp;&nbsp; &nbsp;&nbsp;</span></li> 
    <li><span>&nbsp;&nbsp;</span><span class="keyword">end</span><span>&nbsp;&nbsp;</span></li> 
    <li class="alt"><span class="keyword">end</span><span>&nbsp;&nbsp;</span></li> 
    <li><span>puts fact(5)&nbsp;&nbsp;</span></li> 
   </ol> 
  </div> 
 </div> 
</blockquote> 
<div> 
 <ul> 
  <li><strong><font size="4">单引号与双引号string</font></strong></li> 
 </ul> 
</div> 
<blockquote style="margin-right: 0px" dir="ltr"> 
 <div>
  双引号string中可以嵌入表达式： #{ 表达式 }
 </div> 
 <div> 
  <div class="code_title">
   ruby 代码
  </div> 
  <div class="dp-highlighter"> 
   <div class="bar"> 
   </div> 
   <ol class="dp-rb"> 
    <li class="alt"><span><span>puts 'abc</span><span class="comment">#{5*8}'&nbsp;&nbsp; # =&gt; abc#{5*8} </span><span>&nbsp;&nbsp;</span></span></li> 
    <li><span>puts </span><span class="string">&quot;abc#{5*8}&quot;</span><span>&nbsp;&nbsp; # =&gt; abc40 &nbsp;&nbsp;</span></li> 
   </ol> 
  </div> 
 </div> 
 <div> 
 </div> 
 <div> 
 </div> 
 <div>
  单引号string忽略转义字符原样返回string，双引号string处理转义字符
 </div> 
 <div> 
  <div class="code_title">
   ruby 代码
  </div> 
  <div class="dp-highlighter"> 
   <div class="bar"> 
   </div> 
   <ol class="dp-rb"> 
    <li class="alt"><span><span>puts 'a\nbc'&nbsp;&nbsp;</span><span class="comment"># =&gt; a\nbc </span><span>&nbsp;&nbsp;</span></span></li> 
    <li><span>puts </span><span class="string">&quot;a\nbc&quot;</span><span>&nbsp;&nbsp; &nbsp;&nbsp;</span></li> 
    <li class="alt"><span class="comment"># =&gt; a </span><span>&nbsp;&nbsp;</span></li> 
    <li><span class="comment">#&nbsp;&nbsp;&nbsp;&nbsp; bc </span><span>&nbsp;&nbsp;</span></li> 
   </ol> 
  </div> 
 </div> 
</blockquote> 
<div> 
 <ul> 
  <li><strong><font size="4">控制结构语句可写在语句块后面</font></strong></li> 
 </ul> 
</div> 
<blockquote style="margin-right: 0px" dir="ltr"> 
 <div> 
  <div class="code_title">
   ruby 代码
  </div> 
  <div class="dp-highlighter"> 
   <div class="bar"> 
   </div> 
   <ol class="dp-rb"> 
    <li class="alt"><span><span>puts '5&gt;4' </span><span class="keyword">if</span><span> 5&gt;4&nbsp;&nbsp;</span><span class="comment"># =&gt; 5&gt;4 </span><span>&nbsp;&nbsp;</span></span></li> 
    <li><span>i=0 &nbsp;&nbsp;</span></li> 
    <li class="alt"><span>puts i+=1 </span><span class="keyword">while</span><span> i&lt;5 </span><span class="comment"># =&gt; 12345 </span><span>&nbsp;&nbsp;</span></li> 
   </ol> 
  </div> 
 </div> 
</blockquote> 
<div> 
 <ul> 
  <li><strong><font size="4">%W( string ) 创建数组</font></strong></li> 
 </ul> 
</div> 
<blockquote style="margin-right: 0px" dir="ltr"> 
 <div> 
  <div class="code_title">
   ruby 代码
  </div> 
  <div class="dp-highlighter"> 
   <div class="bar"> 
   </div> 
   <ol class="dp-rb"> 
    <li class="alt"><span><span>a = %w( ant bee cat dog elk )&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment"># 创建一个数组 </span><span>&nbsp;&nbsp;</span></span></li> 
    <li><span>a.</span><span class="keyword">each</span><span> { </span><span class="variable">|animal</span><span>| print animal+',' }&nbsp;&nbsp;</span><span class="comment">#&nbsp;&nbsp; =&gt; ant,bee,cat,dog,elk,</span><span>&nbsp;&nbsp;</span></li> 
   </ol> 
  </div> 
 </div> 
</blockquote></div></body></html>