<html><head><title><div class="tit">
  理解REST软件架构
</div></title></head><body><div id='tit'>理解REST软件架构</div><div id='cate'>编程基础</div><div id='date'>2009年03月31日 星期二 00:40 A.M.</div><div id='page'>59</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/fdd0dcb4b4a2647b8ad4b267.html'>http://hi.baidu.com/hxzon/blog/item/fdd0dcb4b4a2647b8ad4b267.html</a><div id='cnt'><h1>理解REST软件架构</h1> 
<p class="info">作者 <strong>骆古道</strong> 发布于 2007年5月27日 下午8时18分</p> 
<dl class="tags2">
 <dt class="community">
  社区 
 </dt>
 <dd>
  <a href="http://www.infoq.com/cn/ruby" name="ruby">Ruby</a>, 
 </dd>
 <dd>
  <a href="http://www.infoq.com/cn/java" name="java">Java</a> 
 </dd>
 <dt class="topics">
  主题 
 </dt>
 <dd>
  <a href="http://www.infoq.com/cn/webframework" name="webframework">Web框架</a>, 
 </dd>
 <dd>
  <a href="http://www.infoq.com/cn/rest" name="rest">REST</a>, 
 </dd>
 <dd>
  <a href="http://www.infoq.com/cn/architecture_topic" name="architecture_topic">架构</a>, 
 </dd>
 <dd>
  <a href="http://www.infoq.com/cn/rubyonrails" name="rubyonrails">Ruby on Rails</a> 
 </dd>
 <dt class="topics">
  标签 
 </dt>
 <dd>
  <a href="http://www.infoq.com/cn/ajax" name="ajax">AJAX</a>, 
 </dd>
 <dd>
  <a href="http://www.infoq.com/cn/rails" name="rails">Ruby on Rails</a>
 </dd>
</dl> 
<p>一种思维方式影响了软件行业的发展。REST软件架构是当今世界上最成功的互联网的超媒体分布式系统。它让人们真正理解我们的网络协议HTTP本来面貌。它正在成为网络服务的主流技术，同时也正在改变互联网的网络软件开发的全新思维方式。AJAX技术和Rails框架把REST软件架构思想真正地在实际中很好表现出来。今天微软也已经应用REST并且提出把我们现有的网络变成为一个<a href="http://dannyayers.com/2007/05/01/astoria%E2%80%94microsoft-approaches">语义网</a>，这种网络将会使得搜索更加智能化。</p> 
<h4>REST与HTTP协议</h4> 
<p>REST软件架构是由Roy Thomas Fielding博士在2000年首次提出的。他为我们描绘了开发基于互联网的网络软件的蓝图。REST软件架构是一个抽象的概念，是一种为了实现这一互联网的超媒体分布式系统的<strong>行动指南</strong>。利用任何的技术都可以实现这种理念。而实现这一软件架构最著名的就是HTTP协议。通常我们把REST也写作为REST/HTTP，在实际中往往把REST理解为基于HTTP的REST软件架构，或者更进一步把REST和HTTP看作为等同的概念。</p> 
<p>今天，HTTP是互联网上应用最广泛的计算机协议。HTTP不是一个简单的运载数据的协议，而是一个具有丰富内涵的<strong>网络软件</strong>的协议。它不仅仅能够对于互联网资源进行唯一定位，而且还能告诉我们对于该资源进行怎样运作。这也是REST软件架构当中最重要的两个理念。而REST软件架构理念是真正理解HTTP协议而形成的。有了REST软件架构理念出现，才使得软件业避免了对HTTP协议的片面理解。只有正确的理论指导，才能避免在软件开发的实际工作过程中少走弯路。</p> 
<h4>REST与URI（资源定位）</h4> 
<p>REST软件架构之所以是一个超媒体系统，是因为它可以把网络上所有资源进行唯一的定位，不管你的文件是图片、文件Word还是视频文件，也不管你的文件是txt文件格式、xml文件格式还是其它文本文件格式。它利用支持HTTP的TCP/IP协议来确定互联网上的资源。</p> 
<h4>REST与CRUD原则</h4> 
<p>REST软件架构遵循了CRUD原则，该原则告诉我们对于资源（包括网络资源）只需要四种行为：创建（Create）、获取（Read）、更新（Update）和销毁（DELETE）就可以完成对其操作和处理了。其实世界万物都是遵循这一规律：生、变、见、灭。所以计算机世界也不例外。这个原则是源自于我们对于数据库表的数据操作：insert（生）、select（见）、update（变）和delete（灭），所以有时候CRUD也写作为 RUDI，其中的I就是insert。这四个操作是一种原子操作，即一种无法再分的操作，通过它们可以构造复杂的操作过程，正如数学上四则运算是数字的最基本的运算一样。</p> 
<h4>REST与网络服务</h4> 
<p>尽管在Java语言世界中网络服务目前是以SOAP技术为主，但是REST将是是网络服务的另一选择，并且是真正意义上的网络服务。基于REST思想的网络服务不久的将来也会成为是网络服务的主流技术。REST不仅仅把HTTP作为自己的数据运输协议，而且也作为直接进行数据处理的工具。而当前的网络服务技术都需要使用其它手段来完成数据处理工作，它们完全独立于HTTP协议来进行的，这样增加了大量的复杂软件架构设计工作。REST的思想充分利用了现有的HTTP技术的网络能力。在德国电视台上曾经出现过一个这样的五十万欧元智力题：如何实现网络服务才能充分利用现有的HTTP协议？该问题给出了四个答案：去问微软；WSDL2.0/SOAP1.2；WS-Transfer；根本没有。这个问题告诉我们HTTP并不是一个简单的数据传来传去的协议，而是一个聪明的会表现自己的协议，这也许是REST = Representational State Transfer的真正含义。</p> 
<p>实际上目前很多大公司已经采用了REST技术作为网络服务，如Google、Amazon等。在Java语言中重要的两个以SOAP技术开始的网络服务框架XFire和Axis也把REST作为自己的另一种选择。它们的新的项目分别是<a href="http://cwiki.apache.org/confluence/display/CXF/Index">Apache CXF </a>和<a href="http://ws.apache.org/axis2/">Axis2 </a>。Java语言也制定关于REST网络服务规范：JAX-RS: Java API for RESTful Web Services (JSR 311)。相信还会出现更多与REST相关的激动人心的信息。</p> 
<h4>REST与AJAX技术</h4> 
<p>尽管AJAX技术的出现才不到两年时间，但是AJAX技术遵循了REST的一些重要原则。AJAX技术充分利用了HTTP来获取网络资源并且实现了 HTTP没有的对于异步数据进行传输的功能。AJAX技术还使得软件更好地实现分布性功能，在一个企业内只要一个人下载了AJAX引擎，其它企业内部的人员，就可以共享该资源了。AJAX技术遵守REST准则的应用程序中简单和可伸缩的架构，凡是采用AJAX技术的页面简洁而又丰富，一个页面表现了丰富多彩的形态。</p> 
<p>AJAX技术还使用了一种不同于XML格式的JSON文件格式，这个意义在哪里呢？在REST软件架构下我们不能对于XML文件进行序列化处理，这样程序员必须要使用自己的XML绑定框架。而以序列化的JavaScript对象为基础的JSON已经获得了广泛认可，它被认为能以远比XML更好的方式来序列化和传输简单数据结构，而且它更简洁。这对REST是一个极大贡献和补充。</p> 
<p>当前的网络应用软件还违背了REST的“无状态服务器”约束。REST服务器只知道自己的状态。REST不关心客户端的状态，客户端的状态自己来管理，这是AJAX技术的应用之地。通过AJAX技术，可以发挥有状态网络客户机的优势。而REST的服务器关心的是从所有网络客户端发送到服务器操作的顺序。这样使得互联网这样一个巨大的网络得到有序的管理。</p> 
<h4>REST与Rails框架</h4> 
<p>Ruby on Rails框架（简称Rails或者Rails框架）是一个基于Ruby语言的越来越流行的网络应用软件开发框架。它提供了关于REST最好的支持，也是当今应用REST最成功的一个软件开发框架。Rails框架（从版本1.2.x起）成为了第一个引入REST作为核心思想的主流网络软件开发框架。在 Rails框架的充分利用了REST软件架构之后，人们更加坚信REST的重要性和必要性。Rails利用REST软件架构思想对网络服务也提供了一流的支持。从最直观的角度看待REST，它是网络服务最理想的手段，但是Rails框架把REST带到了网络应用软件开发框架。这是一次飞跃，让REST的思想从网络服务的应用提升到了网络应用软件开发。利用REST思想的simply_restful插件已经成为了Rails框架的核心内容。</p> 
<h4>REST安全性</h4> 
<p>我们把现有基于SOAP的网络服务和基于REST/HTTP网络服务作个比喻，前者是一种传统的寄信方式，而后者是现代网络的电子邮件方式。要是是寄信和电子邮件都有病毒存在的话，传统的寄信被送到对方就很危险，而电子邮件是开发的，电子邮件供应商比如Google为我们检查了电子邮件是否有病毒。这里并不是说明SOAP网络服务消息包含义病毒，而是说明HTTP是无法处理SOAP信息包究竟好不好，需要额外的软件工具解决这一问题，包括防火墙也用不上和管不了。</p> 
<p>REST/HTTP网络服务的信息包可以被防火墙理解和控制。你可以按照操作和链接进行过滤信息包，如你可以规定从外部来的只能读取（GET操作）自己服务器的资源。这样对于系统管理员而言使得软件管理更为简单。REST的安全性还可以利用传输安全协议SSL/TLS、基本和摘要式认证（Basic und Digest Authentication）。除了这些REST自身的安全性功能外，还可以利用像基于信息的Web Services Security（JSR 155）作为REST不错的补充。</p> 
<h4>参考文献</h4> 
<p><strong>中文参考文献</strong></p> 
<ul> 
 <li><a href="http://www.ibm.com/developerworks/cn/web/wa-ajaxarch/">http://www.ibm.com/developerworks/cn/web/wa-ajaxarch/</a></li> 
 <li><a href="http://www.ibm.com/developerworks/cn/java/j-cb08016/">http://www.ibm.com/developerworks/cn/java/j-cb08016/</a></li> 
</ul> 
<p><strong>Roy Thomas Fielding博士论文中文版本</strong></p> 
<ul> 
 <li><a href="http://e2c.91yee.com/columns/">http://e2c.91yee.com/columns/</a></li> 
</ul> 
<p><strong>Roy Thomas Fielding博士论文英文版本</strong></p> 
<ul> 
 <li><a href="http://www.ics.uci.edu/%7Efielding/pubs/dissertation/top.htm">http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm</a></li> 
</ul> 
<div>
 <strong>作者简介：</strong>骆古道，网名Cnruby，八十年代初毕业于西北工业大学数理力学系，1988年公派留学德国，从事组合最优化理论研究，从九十年代初期起一直致力于计算机领域软件开发、设计和管理等方面工作，个人博客为“
 <a href="http://www.hhtong.com/">道喜技术日记</a>”。
</div></div></body></html>