<html><head><title><div class="tit">
  依赖、关联、组合、聚会的区别
</div></title></head><body><div id='tit'>依赖、关联、组合、聚会的区别</div><div id='cate'>计算机&middot;功课</div><div id='date'>2008年05月28日 星期三 08:22 P.M.</div><div id='page'>133</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/fe50e0cde7f61f540eb3454b.html'>http://hi.baidu.com/hxzon/blog/item/fe50e0cde7f61f540eb3454b.html</a><div id='cnt'><div>
 依赖、关联、组合、聚会的区别
</div> 
<div> 
</div> 
<div>
 UML里对关联的定义是： 
 <br /> 关联是一种结构关系，它详述了一个事物的对象与另一个事物的对象相联系。
</div> 
<div> 
</div> 
<div>
 依赖：依赖是一种使用关系，它描述了一个事物的规格说明的变化可能会影响到使用它的另一个事物，但是反之则不然。
</div> 
<div> 
</div> 
<div>
 所以，一般来讲，如果A和B发生关联，则A的实例和B的实例一般都有某种包含关系，如果关联方向是A－&gt;B，则在A里应该包含B的实例。
</div> 
<div> 
</div> 
<div>
 如果么表明一个事物使用另一个事物的时候，使用依赖关系。如果依赖关系为A－&gt;B，一般在两者中均不包含对方的对象引用。
 <br /> ========================================
 <br /> 关联关系表示不同类的对象之间的结构关系，它在一段时间内将多个类的实例连接在一起（这与依赖关系不同，依赖关系表示两个实例之间的临时关联关系）。
</div> 
<div> 
</div> 
<div>
 您可以使用关联关系表示对象了解其他对象。有时，对象必须相互引用才能实现交互，例如互相发送消息。因此，在某些情况下，关联关系可以采用序列图和协作图中的交互模式。
</div> 
<div> 
</div> 
<div>
 对于要求在对象之间进行通信的情况，需要作出以下提问：
</div> 
<div> 
</div> 
<div>
 对接收方的引用是作为参数传递给操作的吗？ 如果肯定，则应该从包含发送方类和接收方类的类图中，在两种类之间建立依赖关系。此外，如果为交互采用了协作图格式，则应该限定链接的可见性，将其设置为“参数”。 
 <br /> 接收方是“全局”的吗？如果肯定，则应该从包含发送方类和接收方类的类图中，在两种类之间建立依赖关系。此外，如果为交互采用了协作图格式，则应该限定链接的可见性，将其设置为“全局”。 
 <br /> 接收方是由操作本身创建和破坏的临时对象吗？如果肯定，则从包含发送方类和接收方类的类图中，在两种类之间建立依赖关系。此外，如果为交互采用了协作图格式，则限定链接的可见性，将其设置为“局部”。 
 <br /> ==============================================
 <br /> 当你从顺序图中确定两个类，或两个object有关系的时候。下一步一般就是确定关联和依赖。
 <br /> 两者关系是否紧密，如果经常使用，需要在一个object里保存另一个object的实例的时候，就是关联。
 <br /> 否则，一般就是依赖。（当一个类的实例没有必要作为类变量来保存的时候，可以做参数传递）
 <br /> 确定是关联还是依赖一般比较困难，和设计者的看法一般也有关系。 
 <br /> ===========================================
 <br /> 关联--依赖、组合--聚合&nbsp;&nbsp; 联系与区别：
</div> 
<div> 
</div> 
<div>
 依赖是比关联弱的关系，关联代表一种结构化的关系，体现在生成的代码中，以java为例：&nbsp;&nbsp; 
 <br /> 若类A单向关联指向类B，则在类A中存在一个属性B&nbsp;&nbsp; b。&nbsp;&nbsp; 
 <br /> 若类A依赖类B，则不会有这个属性，类B的实例可能存在于某个方法调用的参数中，或某个方法的局部变量中。
</div> 
<div> 
</div> 
<div>
 <br /> 例如代码：
</div> 
<div> 
</div> 
<div>
 &nbsp;&nbsp;&nbsp;&nbsp; 依赖：----存在于某个方法调用的参数中，或某个方法的局部变量中。
</div> 
<div> 
</div> 
<div>
 Person类与Screwdriver类的依赖关系
</div> 
<div> 
</div> 
<div>
 [代码表现]
</div> 
<div> 
</div> 
<div>
 public class Person{&nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp; /** 拧螺丝 */&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp; public void screw(Screwdriver screwdriver){&nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; screwdriver.screw();&nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp; 
 <br /> }&nbsp;&nbsp;
</div> 
<div> 
</div> 
<div>
 &nbsp;&nbsp;&nbsp; 关联：---存在一个属性
</div> 
<div> 
</div> 
<div>
 公司（Company）和员工(Employee)的关联关系
</div> 
<div> 
</div> 
<div>
 [代码表现] 
 <br /> public class Company{&nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp; private Employee employee;&nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp; public Employee getEmployee(){&nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return employee;&nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp; public void setEmployee(Employee employee){&nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this.employee=employee;&nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp; //公司运作&nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp; public void run(){&nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; employee.startWorking();&nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp; 
 <br /> }&nbsp;&nbsp;
</div> 
<div> 
</div> 
<div> 
</div> 
<div> 
</div> 
<div>
 &nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp; 聚合： 空心菱形加实线箭头表示
 <br /> 表示C9聚合C10，但是C10可以离开C9而独立存在（独立存在的意思是在某个应用的问题域中这个类的存在有意义。这句话怎么解，请看下面组合里的解释）。
 <br /> 同构性，主体和部分不具有生命期的一致性
</div> 
<div> 
</div> 
<div>
 课程组可由多个学生组成，课程组撤消了，学生还活得好好的，这是聚合。
</div> 
<div> 
</div> 
<div>
 <br /> &nbsp;&nbsp;&nbsp; 组合（也有人称为包容）：一般是实心菱形加实线箭头表示
 <br /> 异构性，部分和主体具有生命期上的一致性
</div> 
<div> 
</div> 
<div>
 表示的是C8被C7包容，而且C8不能离开C7而独立存在。但这是视问题域而定的，例如在关心汽车的领域里，轮胎是一定要组合在汽车类中的，因为它离开了汽车就没有意义了。但是在卖轮胎的店铺业务里，就算轮胎离开了汽车，它也是有意义的，这就可以用聚合了。在《敏捷开发》中还说到，A组合B，则A需要知道B的生存周期，即可能A负责生成或者释放B，或者A通过某种途径知道B的生成和释放。
</div> 
<div> 
</div> 
<div>
 组合的例子：你显示屏上的浏览器窗口，关闭浏览器，上面的按纽死掉不见了，这是组合(再打开一个浏览窗口，按纽已经不是原来的了)。
 <br /> ===========================================================
 <br /> 我理解的关联和依赖的区别---UML Distilled解答
</div> 
<div> 
</div> 
<div>
 A dependency exists between two elements if changes to the definition of one element (the supplier) may cause changes to the other (the client). With classes, dependencies exist for various reasons: One class sends a message to another; one class has another as part of its data; one class mentions another as a parameter to an operation. If a class changes its interface, any message sent to that class may no longer be valid.&nbsp;&nbsp;&nbsp;&nbsp;
</div> 
<div> 
</div> 
<div>
 如果两个元素其中一个的定义发生改变则会引起另一个元素发生变化则称这两个元素之间存在依赖关系，对于类来说，依赖可能存在于下列几种情况中：一个类要发送消息给另一个类；一个类将另一个类作为其数据的一部分；一个类的操作中将另一个类作为其参数。如果一个类改变了接口，则任何发送给该类的消息可能不再有效了。
</div> 
<div> 
</div> 
<div>
 关联在该书中没有这样去定义，作者列举了一个例子说明了双向关联的含义，汽车和车主类的实现。在汽车类中包含了车主成员，反过来车主类中也包含了其拥有的汽车成员集合，他们之间形成了双向关联。
</div> 
<div> 
</div> 
<div>
 这里是原文关于双向连接核心的描述：A bidirectional association is a pair of properties that are linked together as inverses. The inverse link between them implies that if you follow both properties, you should get back to a set that contains your starting point。
</div> 
<div> 
</div> 
<div>
 我认为这样关联和依赖其实区别在于它们表达模型的时候描述的是两个不同的方面，依赖描述的是类发生改变引起其他类相应变化，它不仅可以由于类之间的关联引起，也可以由于类的参数变化（该参数也是类）以及类之间消息传递机制引起。只要是类发生了变化引起另一个类变化都可说是存在依赖。
</div> 
<div> 
</div> 
<div>
 关联则表达的是类之间的包含关系，类实体之间数量关系，比如车和车主，定单和商品等。关联并不一定非要是依赖的，尽管车主和车之间存在包含关系，车的操作流程变了不一定要车主类相应变化，他仅仅只需要调用车的Move(),Stop()...就可以了。
</div> 
<div> 
</div> 
<div> 
</div> 
<div> 
</div> 
<div> 
</div> 
<div> 
</div> 
<div> 
</div></div></body></html>