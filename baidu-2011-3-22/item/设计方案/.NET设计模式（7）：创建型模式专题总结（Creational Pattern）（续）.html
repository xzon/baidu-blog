<html><head><title><div class="tit">
  .NET设计模式（7）：创建型模式专题总结（Creational Pattern）（续）
</div></title></head><body><div id='tit'>.NET设计模式（7）：创建型模式专题总结（Creational Pattern）（续）</div><div id='cate'>设计方案</div><div id='date'>2008年04月09日 星期三 07:44 P.M.</div><div id='page'>144</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/3874b28f443690ebf11f3676.html'>http://hi.baidu.com/hxzon/blog/item/3874b28f443690ebf11f3676.html</a><div id='cnt'><p> </p> 
<p><font color="#e58712">.NET设计模式（7）：创建型模式专题总结（Creational Pattern）（续）</font></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">在游戏场景中，不可能只有一种墙或屋子，有可能有现代风格（</span><span style="font-size: 10pt; line-height: 150%">Modern</span><span style="font-size: 10pt; line-height: 150%">），古典风格（</span><span style="font-size: 10pt; line-height: 150%">Classical</span><span style="font-size: 10pt; line-height: 150%">）等多系列风格的部件。这时就是一系列对象的创建问题了，是一个抽象工厂的例子。解决的是“系列对象”的需求变化问题。</span></p> 
<p class="MsoNormal" style="line-height: 150%; text-align: center" align="center"><span style="font-size: 10pt; line-height: 150%"><img height="361" hspace="0" width="599" src="image/.NET设计模式（7）：创建型模式专题总.PIC083.jpg" /><p class="origImg">http://terrylee.cnblogs.com/images/cnblogs_com/terrylee/PIC083.jpg</p></span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">示例代码：</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">using System;</span></p> 
<p class="MsoNormal" style="line-height: 150%"> </p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">public abstract class Wall</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">{</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">&nbsp;&nbsp;&nbsp; public abstract void Display();</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">}</span></p> 
<p class="MsoNormal" style="line-height: 150%"> </p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">public class ModernWall:Wall</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">{</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">&nbsp;&nbsp;&nbsp; public override void Display()</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">&nbsp;&nbsp;&nbsp; {</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Console.WriteLine(&quot;ModernWall Builded&quot;);</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">&nbsp;&nbsp;&nbsp; }</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">}</span></p> 
<p class="MsoNormal" style="line-height: 150%"> </p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">public class ClassicalWall:Wall</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">{</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">&nbsp;&nbsp;&nbsp; public override void Display()</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">&nbsp;&nbsp;&nbsp; {</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Console.WriteLine(&quot;ClassicalWall Builded&quot;);</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">&nbsp;&nbsp;&nbsp; }</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">}</span></p> 
<p class="MsoNormal" style="line-height: 150%"> </p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">public abstract class Room</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">{</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">&nbsp;&nbsp;&nbsp; public abstract void Display();</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">}</span></p> 
<p class="MsoNormal" style="line-height: 150%"> </p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">public class ModernRoom:Room</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">{</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">&nbsp;&nbsp;&nbsp; public override void Display()</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">&nbsp;&nbsp;&nbsp; {</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Console.WriteLine(&quot;ModernRoom Builded&quot;);</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">&nbsp;&nbsp;&nbsp; }</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">}</span></p> 
<p class="MsoNormal" style="line-height: 150%"> </p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">public class ClassicalRoom:Room</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">{</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">&nbsp;&nbsp;&nbsp; public override void Display()</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">&nbsp;&nbsp;&nbsp; {</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Console.WriteLine(&quot;ClassicalRoom Builded&quot;);</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">&nbsp;&nbsp;&nbsp; }</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">}</span></p> 
<p class="MsoNormal" style="line-height: 150%"> </p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">public abstract class AbstractFactory</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">{</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">&nbsp;&nbsp;&nbsp; public abstract Wall CreateWall();</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">&nbsp;&nbsp;&nbsp; public abstract Room CreateRoom();</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">}</span></p> 
<p class="MsoNormal" style="line-height: 150%"> </p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">public class ModernFactory:AbstractFactory</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">{</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">&nbsp;&nbsp;&nbsp; public override Wall CreateWall()</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">&nbsp;&nbsp;&nbsp; {</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return new ModernWall();</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">&nbsp;&nbsp;&nbsp; }</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">&nbsp;&nbsp;&nbsp; public override Room CreateRoom()</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">&nbsp;&nbsp;&nbsp; {</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return new ModernRoom();</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">&nbsp;&nbsp;&nbsp; }</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">}</span></p> 
<p class="MsoNormal" style="line-height: 150%"> </p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">public class ClassicalFactory:AbstractFactory</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">{</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">&nbsp;&nbsp;&nbsp; public override Wall CreateWall()</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">&nbsp;&nbsp;&nbsp; {</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return new ClassicalWall();</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">&nbsp;&nbsp;&nbsp; }</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">&nbsp;&nbsp;&nbsp; public override Room CreateRoom()</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">&nbsp;&nbsp;&nbsp; {</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return new ClassicalRoom();</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">&nbsp;&nbsp;&nbsp; }</span></p> 
<p class="MsoNormal" style="line-height: 150%"><span style="font-size: 10pt; line-height: 150%">}</span></p> 
<p class="MsoNormal" style="line-height: 150%"> </p></div></body></html>