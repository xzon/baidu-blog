<html><head><title><div class="tit">
  升级到spring2.5+hibernate3.2的一些问题 -hxzon
</div></title></head><body><div id='tit'>升级到spring2.5+hibernate3.2的一些问题 -hxzon</div><div id='cate'>过时</div><div id='date'>2009年03月15日 星期日 11:23 P.M.</div><div id='page'>61</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/9a9720971f7c1b6554fb9621.html'>http://hi.baidu.com/hxzon/blog/item/9a9720971f7c1b6554fb9621.html</a><div id='cnt'><div>
 升级到spring2.5+hibernate3.2的一些问题 -hxzon
</div> 
<div> 
</div> 
<div> 
 <p>hxzon：<br /> 原来使用spring2.0+hibernate3.1，现在升级到spring2.5+hibernate3.2，<br /> 一些代码出错。<br /> public long getCountAll() {<br /> String hql = &quot;SELECT COUNT(p.id) from Author AS p&quot;;<br /> List list = getHibernateTemplate().find(hql);<br /> return (Long) list.get(0);<br /> }<br /> 求取数量由int改为了long。<br /> 而<br /> public List getByHql(final String hql, final int first, final int num) {<br /> return getHibernateTemplate().executeFind(new HibernateCallback() {<br /> public Object doInHibernate(Session session)<br /> throws HibernateException, SQLException {<br /> Query query = session.createQuery(hql);<br /> query.setFirstResult(first);<br /> query.setMaxResults(num);<br /> List list = query.list();<br /> return list;<br /> }<br /> });<br /> }<br /> query.setFirstResult(first);仍然是int类型，不能改用long。</p> 
 <p>=====================<br /> hxzon：<br /> 升级到struts2.1.6，发现出错时eclipse的console不显示任何错误。（同时使用spring2.5和hibernate3.2），换用struts2.0.12，重新显示错误。</p> 
</div></div></body></html>