<html><head><title><div class="tit">
  HibernateTemplate相关方法
</div></title></head><body><div id='tit'>HibernateTemplate相关方法</div><div id='cate'>默认分类</div><div id='date'>2008年08月13日 星期三 05:22 P.M.</div><div id='page'>111</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/228ebe99ae3d030e6e068c89.html'>http://hi.baidu.com/hxzon/blog/item/228ebe99ae3d030e6e068c89.html</a><div id='cnt'><p>HibernateTemplate相关方法</p> 
<p><font color="#6666ff"></font><font size="2">/** <br /> * </font><span style="color: #6666ff; font-size: 9pt">向数据库添加一条对应于一个业务对象实例的记录</span><span style="color: #6666ff; font-size: 9pt"> <br /> * <br /> * @param entity <br /> * </span><span style="color: #6666ff; font-size: 9pt">业务对象实例</span><span style="color: #6666ff; font-size: 9pt"> </span><span style="color: #6666ff; font-size: 9pt"><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */</span><span style="font-size: 9pt"> <br /> <strong><span style="color: #990066">public</span></strong> <span style="color: #aaaadd">Entity</span> create(<span style="color: #aaaadd">Entity</span> entity) <strong><span style="color: #990066">throws</span></strong> DaoException { <br /> <strong><span style="color: #990066">try</span></strong> { <br /> getHibernateTemplate().save(entity); <br /> <strong><span style="color: #990066">return</span></strong> entity; <br /> } <strong><span style="color: #990066">catch</span></strong> (DataAccessException e) { </span><span style="font-size: 9pt"><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw <strong><span style="color: #990066">new</span></strong> DaoException(&quot;</span><span style="font-size: 9pt">保存</span><span style="font-size: 9pt"> &quot; + entity.getClass().getName() <br /> + &quot; </span><span style="font-size: 9pt">实例到数据库失败</span><span style="font-size: 9pt">&quot;, e); <br /> } <br /> } <br /> <br /> <span style="color: #6666ff">/** <br /> * </span></span><span style="color: #6666ff; font-size: 9pt">向数据库更新一条对应于一个业务对象实例的记录</span><span style="color: #6666ff; font-size: 9pt"> <br /> * <br /> * @param entity <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * </span><span style="color: #6666ff; font-size: 9pt">业务对象实例</span><span style="color: #6666ff; font-size: 9pt"> </span><span style="color: #6666ff; font-size: 9pt"><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */</span><span style="font-size: 9pt"> <br /> <strong><span style="color: #990066">public</span></strong> <strong><span style="color: #990066">void</span></strong> update(<span style="color: #aaaadd">Entity</span> entity) <strong><span style="color: #990066">throws</span></strong> DaoException { <br /> <strong><span style="color: #990066">try</span></strong> { <br /> getHibernateTemplate().update(entity); <br /> } <strong><span style="color: #990066">catch</span></strong> (DataAccessException e) { </span><span style="font-size: 9pt"><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw <strong><span style="color: #990066">new</span></strong> DaoException(&quot;</span><span style="font-size: 9pt">更新</span><span style="font-size: 9pt"> &quot; + entity.getClass().getName() <br /> + &quot; </span><span style="font-size: 9pt">实例到数据库失败</span><span style="font-size: 9pt">&quot;, e); <br /> } <br /> } <br /> <br /> <span style="color: #6666ff">/** <br /> * </span></span><span style="color: #6666ff; font-size: 9pt">从数据库删除一条对应于一个业务对象的记录</span><span style="color: #6666ff; font-size: 9pt"> <br /> * <br /> * @param entity <br /> * </span><span style="color: #6666ff; font-size: 9pt">业务对象实例</span><span style="color: #6666ff; font-size: 9pt"> </span><span style="color: #6666ff; font-size: 9pt"><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */</span><span style="font-size: 9pt"> <br /> <strong><span style="color: #990066">public</span></strong> <strong><span style="color: #990066">void</span></strong> delete(<span style="color: #aaaadd">Entity</span> entity) <strong><span style="color: #990066">throws</span></strong> DaoException { <br /> <strong><span style="color: #990066">try</span></strong> { <br /> getHibernateTemplate().delete(entity); <br /> } <strong><span style="color: #990066">catch</span></strong> (DataAccessException e) { </span><span style="font-size: 9pt"><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw <strong><span style="color: #990066">new</span></strong> DaoException(&quot;</span><span style="font-size: 9pt">从数据库删除</span><span style="font-size: 9pt"> &quot; + entity.getClass().getName() <br /> + &quot; </span><span style="font-size: 9pt">实例失败</span><span style="font-size: 9pt">&quot;, e); <br /> } <br /> } <br /> <br /> <span style="color: #6666ff">/** <br /> * </span></span><span style="color: #6666ff; font-size: 9pt">从数据库删除所有对应于一个业务对象的记录</span><span style="color: #6666ff; font-size: 9pt"> <br /> * <br /> * @param clazz <br /> * </span><span style="color: #6666ff; font-size: 9pt">指定类型的业务对象</span><span style="color: #6666ff; font-size: 9pt"> </span><span style="color: #6666ff; font-size: 9pt"><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */</span><span style="font-size: 9pt"> <br /> <strong><span style="color: #990066">public</span></strong> <strong><span style="color: #990066">void</span></strong> deleteAll(<strong><span style="color: #990066">Class</span></strong> clazz) <strong><span style="color: #990066">throws</span></strong> DaoException { <br /> <strong><span style="color: #990066">try</span></strong> { <br /> <span style="color: #aaaadd">List</span> result = getHibernateTemplate().loadAll(clazz); <br /> getHibernateTemplate().deleteAll(result); <br /> } <strong><span style="color: #990066">catch</span></strong> (DataAccessException e) { <br /> log.error(&quot;</span><span style="font-size: 9pt">从数据库删除</span><span style="font-size: 9pt"> &quot; + clazz.getName() + &quot; </span><span style="font-size: 9pt">的所有记录失败</span><span style="font-size: 9pt">&quot;, e); <br /> throw <strong><span style="color: #990066">new</span></strong> DaoException(&quot;</span><span style="font-size: 9pt">从数据库删除</span><span style="font-size: 9pt"> &quot; + clazz.getName() + &quot; </span><span style="font-size: 9pt">的所有记录失败</span><span style="font-size: 9pt">&quot;, e); <br /> } <br /> } <br /> <br /> <strong><span style="color: #990066">public</span></strong> <strong><span style="color: #990066">void</span></strong> deleteAll(<span style="color: #aaaadd">Collection</span> entities) <strong><span style="color: #990066">throws</span></strong> DaoException { <br /> <strong><span style="color: #990066">try</span></strong> { <br /> getHibernateTemplate().deleteAll(entities); <br /> } <strong><span style="color: #990066">catch</span></strong>(DataAccessException e) { <br /> throw <strong><span style="color: #990066">new</span></strong> DaoException(e); <br /> } <br /> } <br /> <br /> <span style="color: #6666ff">/** <br /> * </span></span><span style="color: #6666ff; font-size: 9pt">根据关键字从数据库加载指定类型的业务对象。</span><span style="color: #6666ff; font-size: 9pt"> <br /> * <br /> * @param clazz <br /> * </span><span style="color: #6666ff; font-size: 9pt">业务对象的</span><span style="color: #6666ff; font-size: 9pt">Class <br /> * @param keyName <br /> * </span><span style="color: #6666ff; font-size: 9pt">指定关键字对应的字段名称</span><span style="color: #6666ff; font-size: 9pt"> <br /> * @param keyValue <br /> * </span><span style="color: #6666ff; font-size: 9pt">指定关键字的值</span><span style="color: #6666ff; font-size: 9pt"> <br /> * @return &lt;ul&gt; <br /> * &lt;li&gt;</span><span style="color: #6666ff; font-size: 9pt">当关键字唯一并存在该记录时，返回该记录对应的业务对象</span><span style="color: #6666ff; font-size: 9pt">&lt;/li&gt; <br /> * &lt;li&gt;</span><span style="color: #6666ff; font-size: 9pt">当关键字不唯一，返回查询结果的第一条记录所对应的业务对象</span><span style="color: #6666ff; font-size: 9pt">&lt;/li&gt; <br /> * &lt;li&gt;</span><span style="color: #6666ff; font-size: 9pt">当不存在该记录时</span><span style="color: #6666ff; font-size: 9pt">,</span><span style="color: #6666ff; font-size: 9pt">返回</span><span style="color: #6666ff; font-size: 9pt">null&lt;/li&gt; </span><span style="color: #6666ff; font-size: 9pt"><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */</span><span style="font-size: 9pt"> <br /> <strong><span style="color: #990066">public</span></strong> <span style="color: #aaaadd">Object</span> loadByKey(<strong><span style="color: #990066">Class</span></strong> clazz, <span style="color: #aaaadd">String</span> keyName, <span style="color: #aaaadd">Object</span> keyValue) <br /> <strong><span style="color: #990066">throws</span></strong> DaoException { <br /> <strong><span style="color: #990066">try</span></strong> { <br /> <span style="color: #aaaadd">List</span> result = getHibernateTemplate().find( <br /> &quot;from &quot; + clazz.getName() + &quot; where &quot; + keyName + &quot; = ?&quot;, <br /> keyValue); <br /> <strong><span style="color: #990066">if</span></strong> (result != <strong><span style="color: #990066">null</span></strong> &amp;&amp; result.size() &gt; 0) { <br /> <strong><span style="color: #990066">return</span></strong> result.get(0); <br /> } <strong><span style="color: #990066">else</span></strong> { <br /> <strong><span style="color: #990066">return</span></strong> <strong><span style="color: #990066">null</span></strong>; <br /> } <br /> } <strong><span style="color: #990066">catch</span></strong> (DataAccessException e) { </span><span style="font-size: 9pt"><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw <strong><span style="color: #990066">new</span></strong> DaoException(&quot;</span><span style="font-size: 9pt">加载</span><span style="font-size: 9pt"> &quot; + keyName + &quot; </span><span style="font-size: 9pt">为</span><span style="font-size: 9pt"> &quot; + keyValue + &quot; </span><span style="font-size: 9pt">的</span><span style="font-size: 9pt"> &quot; <br /> + clazz.getName() + &quot; </span><span style="font-size: 9pt">实例失败</span><span style="font-size: 9pt">&quot;, e); <br /> } <br /> } <br /> <br /> <span style="color: #6666ff">/** <br /> * </span></span><span style="color: #6666ff; font-size: 9pt">从数据库加载指定类型的业务对象的所有记录。</span><span style="color: #6666ff; font-size: 9pt"> <br /> * <br /> * @param clazz <br /> * </span><span style="color: #6666ff; font-size: 9pt">业务对象的</span><span style="color: #6666ff; font-size: 9pt">Class <br /> * @return </span><span style="color: #6666ff; font-size: 9pt">返回数据库中对应该业务对象的所有记录的集合</span><span style="color: #6666ff; font-size: 9pt"> </span><span style="color: #6666ff; font-size: 9pt"><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */</span><span style="font-size: 9pt"> <br /> <strong><span style="color: #990066">public</span></strong> <span style="color: #aaaadd">List</span> loadAll(<strong><span style="color: #990066">Class</span></strong> clazz) <strong><span style="color: #990066">throws</span></strong> DaoException { <br /> <strong><span style="color: #990066">try</span></strong> { <br /> <strong><span style="color: #990066">return</span></strong> getHibernateTemplate().loadAll(clazz); <br /> } <strong><span style="color: #990066">catch</span></strong> (DataAccessException e) { </span><span style="font-size: 9pt"><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw <strong><span style="color: #990066">new</span></strong> DaoException(&quot;</span><span style="font-size: 9pt">加载所有</span><span style="font-size: 9pt"> &quot; + clazz.getName() + &quot; </span><span style="font-size: 9pt">实例时失败</span><span style="font-size: 9pt">&quot;, e); <br /> } <br /> } <br /> <br /> <span style="color: #6666ff">/** <br /> * </span></span><span style="color: #6666ff; font-size: 9pt">根据查询语句查询数据库并返回查询结果所包含的业务对象集合。</span><span style="color: #6666ff; font-size: 9pt"> <br /> * <br /> * @param queryString <br /> * </span><span style="color: #6666ff; font-size: 9pt">指定查询语句</span><span style="color: #6666ff; font-size: 9pt"> <br /> * @return </span><span style="color: #6666ff; font-size: 9pt">返回查询结果包含的业务对象集合</span><span style="color: #6666ff; font-size: 9pt"> </span><span style="color: #6666ff; font-size: 9pt"><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */</span><span style="font-size: 9pt"> <br /> <strong><span style="color: #990066">public</span></strong> <span style="color: #aaaadd">List</span> find(<span style="color: #aaaadd">String</span> queryString) <strong><span style="color: #990066">throws</span></strong> DaoException { <br /> <strong><span style="color: #990066">try</span></strong> { <br /> <strong><span style="color: #990066">return</span></strong> getHibernateTemplate().find(queryString); <br /> } <strong><span style="color: #990066">catch</span></strong> (DataAccessException e) { </span><span style="font-size: 9pt"><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw <strong><span style="color: #990066">new</span></strong> DaoException(&quot;</span><span style="font-size: 9pt">执行查询</span><span style="font-size: 9pt"> &quot; + queryString + &quot; </span><span style="font-size: 9pt">失败</span><span style="font-size: 9pt">&quot;, e); <br /> } <br /> } <br /> <br /> <span style="color: #6666ff">/** <br /> * </span></span><span style="color: #6666ff; font-size: 9pt">根据带一个参数的查询语句查询数据库并返回查询结果所包含的业务对象集合。</span><span style="color: #6666ff; font-size: 9pt"> <br /> * <br /> * @param queryString <br /> * </span><span style="color: #6666ff; font-size: 9pt">指定查询语句</span><span style="color: #6666ff; font-size: 9pt"> <br /> * @param param <br /> * </span><span style="color: #6666ff; font-size: 9pt">指定所带参数</span><span style="color: #6666ff; font-size: 9pt"> <br /> * @return </span><span style="color: #6666ff; font-size: 9pt">返回查询结果包含的业务对象集合</span><span style="color: #6666ff; font-size: 9pt"> </span><span style="color: #6666ff; font-size: 9pt"><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */</span><span style="font-size: 9pt"> <br /> <strong><span style="color: #990066">public</span></strong> <span style="color: #aaaadd">List</span> find(<span style="color: #aaaadd">String</span> queryString, <span style="color: #aaaadd">Object</span> param) <strong><span style="color: #990066">throws</span></strong> DaoException { <br /> <strong><span style="color: #990066">try</span></strong> { <br /> <strong><span style="color: #990066">return</span></strong> getHibernateTemplate().find(queryString, param); <br /> } <strong><span style="color: #990066">catch</span></strong> (DataAccessException e) { </span><span style="font-size: 9pt"><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw <strong><span style="color: #990066">new</span></strong> DaoException(&quot;</span><span style="font-size: 9pt">执行参数为</span><span style="font-size: 9pt"> &quot; + param + &quot; </span><span style="font-size: 9pt">的查询</span><span style="font-size: 9pt"> &quot; + queryString <br /> + &quot; </span><span style="font-size: 9pt">失败</span><span style="font-size: 9pt">&quot;, e); <br /> } <br /> } <br /> <br /> <span style="color: #6666ff">/** <br /> * </span></span><span style="color: #6666ff; font-size: 9pt">根据带多个参数的查询语句查询数据库并返回查询结果所包含的业务对象集合。</span><span style="color: #6666ff; font-size: 9pt"> <br /> * <br /> * @param queryString <br /> * </span><span style="color: #6666ff; font-size: 9pt">指定查询语句</span><span style="color: #6666ff; font-size: 9pt"> <br /> * @param params <br /> * </span><span style="color: #6666ff; font-size: 9pt">指定参数数组</span><span style="color: #6666ff; font-size: 9pt"> <br /> * @return </span><span style="color: #6666ff; font-size: 9pt">返回查询结果包含的业务对象集合</span><span style="color: #6666ff; font-size: 9pt"> </span><span style="color: #6666ff; font-size: 9pt"><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */</span><span style="font-size: 9pt"> <br /> <strong><span style="color: #990066">public</span></strong> <span style="color: #aaaadd">List</span> find(<span style="color: #aaaadd">String</span> queryString, <span style="color: #aaaadd">Object</span>[] params) <strong><span style="color: #990066">throws</span></strong> DaoException { <br /> <strong><span style="color: #990066">try</span></strong> { <br /> <strong><span style="color: #990066">return</span></strong> getHibernateTemplate().find(queryString, params); <br /> } <strong><span style="color: #990066">catch</span></strong> (DataAccessException e) { <br /> <span style="color: #aaaadd">StringBuffer</span> paramString = <strong><span style="color: #990066">new</span></strong> <span style="color: #aaaadd">StringBuffer</span>(&quot;&quot;); <br /> <strong><span style="color: #990066">for</span></strong> (<strong><span style="color: #990066">int</span></strong> i = 0; i &lt; params.length; i++) { <br /> paramString.append(params[i]); <br /> paramString.append(&quot; &quot;); <br /> } </span><span style="font-size: 9pt"><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw <strong><span style="color: #990066">new</span></strong> DaoException(&quot;</span><span style="font-size: 9pt">执行参数为</span><span style="font-size: 9pt"> &quot; + paramString + &quot;</span><span style="font-size: 9pt">的查询</span><span style="font-size: 9pt"> &quot; <br /> + queryString + &quot; </span><span style="font-size: 9pt">失败</span><span style="font-size: 9pt">&quot;, e); <br /> } <br /> } <br /> <br /> <span style="color: #6666ff">/** <br /> * </span></span><span style="color: #6666ff; font-size: 9pt">根据已定义的查询语句查询数据库并返回查询结果所包含的业务对象集合。</span><span style="color: #6666ff; font-size: 9pt"> <br /> * <br /> * @param queryName <br /> * </span><span style="color: #6666ff; font-size: 9pt">已定义查询语句的名称</span><span style="color: #6666ff; font-size: 9pt"> <br /> * @return </span><span style="color: #6666ff; font-size: 9pt">返回查询结果包含的业务对象集合</span><span style="color: #6666ff; font-size: 9pt"> </span><span style="color: #6666ff; font-size: 9pt"><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */</span><span style="font-size: 9pt"> <br /> <strong><span style="color: #990066">public</span></strong> <span style="color: #aaaadd">List</span> findByNamedQuery(<span style="color: #aaaadd">String</span> queryName) <strong><span style="color: #990066">throws</span></strong> DaoException { <br /> <strong><span style="color: #990066">try</span></strong> { <br /> <strong><span style="color: #990066">return</span></strong> getHibernateTemplate().findByNamedQuery(queryName); <br /> } <strong><span style="color: #990066">catch</span></strong> (DataAccessException e) { </span><span style="font-size: 9pt"><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw <strong><span style="color: #990066">new</span></strong> DaoException(&quot;</span><span style="font-size: 9pt">执行命名为</span><span style="font-size: 9pt"> &quot; + queryName + &quot; </span><span style="font-size: 9pt">的查询失败</span><span style="font-size: 9pt">&quot;); <br /> } <br /> } <br /> <br /> <span style="color: #6666ff">/** <br /> * </span></span><span style="color: #6666ff; font-size: 9pt">根据已定义的带一个参数的查询语句查询数据库并返回查询结果所包含的业务对象集合。</span><span style="color: #6666ff; font-size: 9pt"> <br /> * <br /> * @param queryName <br /> * </span><span style="color: #6666ff; font-size: 9pt">已定义查询语句的名称</span><span style="color: #6666ff; font-size: 9pt"> <br /> * @param param <br /> * </span><span style="color: #6666ff; font-size: 9pt">指定的参数</span><span style="color: #6666ff; font-size: 9pt"> <br /> * @return </span><span style="color: #6666ff; font-size: 9pt">返回查询结果包含的业务对象集合</span><span style="color: #6666ff; font-size: 9pt"> </span><span style="color: #6666ff; font-size: 9pt"><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */</span><span style="font-size: 9pt"> <br /> <strong><span style="color: #990066">public</span></strong> <span style="color: #aaaadd">List</span> findByNamedQuery(<span style="color: #aaaadd">String</span> queryName, <span style="color: #aaaadd">Object</span> param) <br /> <strong><span style="color: #990066">throws</span></strong> DaoException { <br /> <strong><span style="color: #990066">try</span></strong> { <br /> <strong><span style="color: #990066">return</span></strong> getHibernateTemplate().findByNamedQuery(queryName, param); <br /> } <strong><span style="color: #990066">catch</span></strong> (DataAccessException e) { </span><span style="font-size: 9pt"><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw <strong><span style="color: #990066">new</span></strong> DaoException(&quot;</span><span style="font-size: 9pt">执行参数为</span><span style="font-size: 9pt"> &quot; + param + &quot; </span><span style="font-size: 9pt">命名为</span><span style="font-size: 9pt"> &quot; + queryName <br /> + &quot; </span><span style="font-size: 9pt">的查询失败</span><span style="font-size: 9pt">&quot;); <br /> } <br /> } <br /> <br /> <span style="color: #6666ff">/** <br /> * </span></span><span style="color: #6666ff; font-size: 9pt">根据已定义的带多个参数的查询语句查询数据库并返回查询结果所包含的业务对象集合。</span><span style="color: #6666ff; font-size: 9pt"> <br /> * <br /> * @param queryName <br /> * </span><span style="color: #6666ff; font-size: 9pt">已定义查询语句的名称</span><span style="color: #6666ff; font-size: 9pt"> <br /> * @param params <br /> * </span><span style="color: #6666ff; font-size: 9pt">指定的参数数组</span><span style="color: #6666ff; font-size: 9pt"> <br /> * @return </span><span style="color: #6666ff; font-size: 9pt">返回查询结果包含的业务对象集合</span><span style="color: #6666ff; font-size: 9pt"> </span><span style="color: #6666ff; font-size: 9pt"><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */</span><span style="font-size: 9pt"> <br /> <strong><span style="color: #990066">public</span></strong> <span style="color: #aaaadd">List</span> findByNameQuery(<span style="color: #aaaadd">String</span> queryName, <span style="color: #aaaadd">Object</span>[] params) <br /> <strong><span style="color: #990066">throws</span></strong> DaoException { <br /> <strong><span style="color: #990066">try</span></strong> { <br /> <strong><span style="color: #990066">return</span></strong> getHibernateTemplate().findByNamedQuery(queryName, params); <br /> } <strong><span style="color: #990066">catch</span></strong> (DataAccessException e) { <br /> <span style="color: #aaaadd">StringBuffer</span> paramString = <strong><span style="color: #990066">new</span></strong> <span style="color: #aaaadd">StringBuffer</span>(&quot;&quot;); <br /> <strong><span style="color: #990066">for</span></strong> (<strong><span style="color: #990066">int</span></strong> i = 0; i &lt; params.length; i++) { <br /> paramString.append(params[i]); <br /> paramString.append(&quot; &quot;); <br /> } </span><span style="font-size: 9pt"><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw <strong><span style="color: #990066">new</span></strong> DaoException(&quot;</span><span style="font-size: 9pt">执行参数为</span><span style="font-size: 9pt"> &quot; + paramString + &quot;</span><span style="font-size: 9pt">命名为</span><span style="font-size: 9pt"> &quot; + queryName <br /> + &quot; </span><span style="font-size: 9pt">的查询失败</span><span style="font-size: 9pt">&quot;); <br /> } <br /> }</span></p> 
<p><span style="font-size: 9pt"><a href="http://hi.baidu.com/anypcao/blog/item/207bbfd3a3e08330960a160d.html">http://hi.baidu.com/anypcao/blog/item/207bbfd3a3e08330960a160d.html</a></span></p></div></body></html>