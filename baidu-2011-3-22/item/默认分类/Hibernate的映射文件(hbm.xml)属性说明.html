<html><head><title><div class="tit">
  Hibernate的映射文件(hbm.xml)属性说明
</div></title></head><body><div id='tit'>Hibernate的映射文件(hbm.xml)属性说明</div><div id='cate'>默认分类</div><div id='date'>2008年07月22日 星期二 05:12 P.M.</div><div id='page'>116</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/88038426e8420c118b82a10b.html'>http://hi.baidu.com/hxzon/blog/item/88038426e8420c118b82a10b.html</a><div id='cnt'><div>
 Hibernate的映射文件(hbm.xml)属性说明
</div> 
<div> 
</div> 
<div>
 １．class 节点
 <br /> name: 类名
</div> 
<div> 
</div> 
<div>
 table: 类对应表名，默认为类名称
</div> 
<div> 
</div> 
<div>
 dynamic-update: 生成更新字段时，只包含发生变动的字段，默认为false。
</div> 
<div> 
</div> 
<div>
 dynamic-insert: 生成insert语句时仅包含非null字段
</div> 
<div> 
</div> 
<div>
 Proxy: 代理类，默认为空
</div> 
<div> 
</div> 
<div>
 discriminator-value: 子类辨别标识用于多态支持
</div> 
<div> 
</div> 
<div>
 where: 通过限定条件查询结果集。如：查询有籍在校学生的信息可以使用&quot;where studentstatus='0'&quot;
</div> 
<div> 
</div> 
<div>
 <br /> 2.id节点
 <br /> 1.column&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 字段名称
 <br /> 2.type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 字段类型
 <br /> 3.length&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 字段长度
 <br /> 4.unsaved-value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 用于判断对象值是否已经保存
 <br /> 5.generator-class&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 主键产生方式
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; assigned
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hilo
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; seqhilo
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; increment
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; identity
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sequence
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; native
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; uuid.hex
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; uuid.string
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; foreign
</div> 
<div> 
</div> 
<div>
 ---------------------------------------------------------------------------------------------------------------
 <br /> 主键产生方式说明
</div> 
<div> 
</div> 
<div>
 increment（递增） 
 <br /> 用于为long, short或者int类型生成唯一标识。只有在没有其他进程往同一张表中插入数据时才能使用。 在集群下不要使用。
</div> 
<div> 
</div> 
<div>
 identity 
 <br /> 对DB2,MySQL, MS SQL Server, Sybase和HypersonicSQL的内置标识字段提供支持。返回的标识符是long, short 或者int类型的。
</div> 
<div> 
</div> 
<div>
 sequence （序列） 
 <br /> 在DB2,PostgreSQL, Oracle, SAP DB, McKoi中使用序列（sequence)，而在Interbase中使用生成器(generator)。返回的标识符是long, short或者 int类型的。
</div> 
<div> 
</div> 
<div>
 hilo （高低位） 
 <br /> 使用一个高/低位算法来高效的生成long, short或者 int类型的标识符。给定一个表和字段（默认分别是是hibernate_unique_key 和next_hi）作为高位值得来源。高/低位算法生成的标识符只在一个特定的数据库中是唯一的。在使用JTA获得的连接或者用户自行提供的连接中，不要使用这种生成器。
</div> 
<div> 
</div> 
<div>
 seqhilo（使用序列的高低位） 
 <br /> 使用一个高/低位算法来高效的生成long, short或者 int类型的标识符，给定一个数据库序列（sequence)的名字。
</div> 
<div> 
</div> 
<div>
 uuid.hex 
 <br /> 用一个128-bit的UUID算法生成字符串类型的标识符。在一个网络中唯一（使用了IP地址）。UUID被编码为一个32位16进制数字的字符串。
</div> 
<div> 
</div> 
<div>
 uuid.string 
 <br /> 使用同样的UUID算法。UUID被编码为一个16个字符长的任意ASCII字符组成的字符串。不能使用在PostgreSQL数据库中
</div> 
<div> 
</div> 
<div>
 native（本地） 
 <br /> 根据底层数据库的能力选择identity, sequence 或者hilo中的一个。
</div> 
<div> 
</div> 
<div>
 assigned（程序设置） 
 <br /> 让应用程序在save()之前为对象分配一个标示符。
</div> 
<div> 
</div> 
<div>
 foreign（外部引用）
</div> 
<div> 
</div> 
<div>
 -------------------------------------------------------------------------------------------------------------------------
</div> 
<div> 
</div> 
<div>
 3.property 节点
 <br /> 1.column&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 数据库表字段名称
 <br /> 2.type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 类型
 <br /> 3.length&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 长度
 <br /> 4.not-null&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 字段是否允许为空
 <br /> 5.unique&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 字段是否允许唯一（是否允许重复值）
 <br /> 6.insert&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; insert操作时，是否允许包含本字段数值
 <br /> 7.update&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; update操作时，是否包含本字段数据
 <br /> 
 <a href="http://hi.baidu.com/tianworking/blog/item/88268f1207083ccfc2fd7849.html">http://hi.baidu.com/tianworking/blog/item/88268f1207083ccfc2fd7849.html</a>
</div> 
<div> 
</div> 
<div>
 ====================================================================
</div> 
<div> 
</div> 
<div>
 &lt;?xml version=&quot;1.0&quot;?&gt;
 <br /> &lt;!DOCTYPE hibernate-mapping PUBLIC &quot;-//hibernate/Hibernate Mapping DTD 2.0//EN&quot;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;
 <a href="http://hibernate.sourceforge.net/hibernate-mapping-2.0.dtd">http://hibernate.sourceforge.net/hibernate-mapping-2.0.dtd</a>&quot;&gt;
 <br /> &lt;hibernate-mapping&gt;
</div> 
<div> 
</div> 
<div>
 &nbsp;&nbsp; &lt;class name=&quot;com.oreilly.hh.Track&quot; table=&quot;TRACK&quot;&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp; &lt;meta attribute=&quot;class-description&quot;&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Represents a single playable track in the music database.
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @author Jim Elliot(with help from Hibernate)
 <br /> &nbsp;&nbsp;&nbsp;&nbsp; &lt;/meta&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp;&nbsp; &lt;id name=&quot;id&quot; type=&quot;int&quot; column=&quot;TRACK_ID&quot;&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;meta attribute=&quot;scope-set&quot;&gt;protected&lt;/meta&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;generator class=&quot;native&quot;/&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp; &lt;/id&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp;&nbsp; &lt;property name=&quot;title&quot; type=&quot;string&quot; not-null=&quot;true&quot;/&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp;&nbsp; &lt;property name=&quot;filePath&quot; type=&quot;string&quot; not-null=&quot;true&quot;/&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp;&nbsp; &lt;property name=&quot;playTime&quot; type=&quot;time&quot;&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;meta attribute=&quot;field-description&quot;&gt;Playing time&lt;/meta&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp; &lt;/property&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp;&nbsp; &lt;property name=&quot;added&quot; type=&quot;date&quot;&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;meta attribute=&quot;field-description&quot;&gt;When the track was created&lt;/meta&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp; &lt;/property&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp;&nbsp;&nbsp; &lt;property name=&quot;volume&quot; type=&quot;short&quot; not-null=&quot;true&quot;&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;meta attribute=&quot;field-description&quot;&gt;How loud to play the track&lt;/meta&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp; &lt;/property&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp; 
 <br /> &nbsp;&nbsp; &lt;/class&gt;
 <br /> &lt;/hibernate-mapping&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp; 说明如下：
</div> 
<div> 
</div> 
<div>
 1.&lt;?xml version=&quot;1.0&quot;?&gt;
 <br /> &lt;!DOCTYPE hibernate-mapping PUBLIC &quot;-//hibernate/Hibernate Mapping DTD 2.0//EN&quot;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;
 <a href="http://hibernate.sourceforge.net/hibernate-mapping-2.0.dtd">http://hibernate.sourceforge.net/hibernate-mapping-2.0.dtd</a>&quot;&gt;
 <br /> &lt;hibernate-mapping&gt;
</div> 
<div> 
</div> 
<div>
 用于导言说明，说明它的文件格式定义。
</div> 
<div> 
</div> 
<div>
 2.&lt;hibernate-mapping&gt;标签里是真正的映射。
</div> 
<div> 
</div> 
<div>
 3.&lt;class name=&quot;com.oreilly.hh.Track&quot; table=&quot;TRACK&quot;&gt;
 <br /> 定义一个类com.oreilly.hh.Track的映射。（可以定义任意多个类在一个映射文件里）。表示存在数据库表TRACK中。
</div> 
<div> 
</div> 
<div>
 4. &lt;meta attribute=&quot;class-description&quot;&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Represents a single playable track in the music database.
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @author Jim Elliot(with help from Hibernate)
 <br /> &nbsp;&nbsp;&nbsp;&nbsp; &lt;/meta&gt;
 <br /> 定义了说明，可以被JavaDoc读取。
</div> 
<div> 
</div> 
<div>
 5. &lt;id name=&quot;id&quot; type=&quot;int&quot; column=&quot;TRACK_ID&quot;&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;meta attribute=&quot;scope-set&quot;&gt;protected&lt;/meta&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;generator class=&quot;native&quot;/&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp; &lt;/id&gt;
 <br /> 定义了类属性和数据库表列的映射。&nbsp;&nbsp; &lt;generator class=&quot;native&quot;/&gt;是表示ID生成策略，此种策略有多种。
</div> 
<div> 
</div> 
<div>
 6. &lt;property name=&quot;volume&quot; type=&quot;short&quot; not-null=&quot;true&quot;&gt;
 <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;meta attribute=&quot;field-description&quot;&gt;How loud to play the track&lt;/meta&gt;
 <br /> &nbsp;&nbsp; &lt;/property&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 定义了说明，可以被JavaDoc读取。
</div></div></body></html>