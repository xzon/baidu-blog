<html><head><title><div class="tit">
  web.xml 部署描述符元素
</div></title></head><body><div id='tit'>web.xml 部署描述符元素</div><div id='cate'>默认分类</div><div id='date'>2008年03月20日 星期四 10:56 A.M.</div><div id='page'>157</div><a id='url' href='http://hi.baidu.com/hxzon/blog/item/62dd3f12dc116355f819b8de.html'>http://hi.baidu.com/hxzon/blog/item/62dd3f12dc116355f819b8de.html</a><div id='cnt'><div> 
 <p>web.xml 部署描述符元素</p> 
 <p>在每一个Web应用程序路径的WEB-INF\下和conf\下存在一个Web.xml配置文件，<br /> 用来设定Web应用程序的配置。在Web.xml中的设定非常多，<br /> 接下来分段来说明它的各项设定：<br /> &lt;?xml version=1.0 encoding=&quot;ISO-8859-1&quot;?&gt;<br /> &lt;!DOCTYPE Web-app<br /> &nbsp;&nbsp;&nbsp;&nbsp; PUBLIC&quot;-//Sun Microsystems,Inc.//DTD Web Application 2.2//EN&quot;<br /> &nbsp;&nbsp;&nbsp;&nbsp; &quot;<a href="http://java.sun.com/j2ee/dtds/Web-app_2_2.dtd">http://java.sun.com/j2ee/dtds/Web-app_2_2.dtd</a>&quot;&gt;<br /> 这是一般XML所需要做的声明，包含定义XML的版本、编码格式dtd来源。<br /> Web.xml的dtd是由Sun Microsystems公司所制定的，可以在下列的网址获得详细的信息：<br /> <a href="http://java.sun.com/j2ee/dtds/Web-app_2_2.dtd">http://java.sun.com/j2ee/dtds/Web-app_2_2.dtd</a>。</p> 
</div> 
<div> 
</div> 
<div>
 下列部分描述根元素 &lt;web-app&gt; 下的 web.xml Schema 中定义的部署描述符元素。
</div> 
<div> 
</div> 
<div>
 context-param 
 <br /> description 
 <br /> display-name 
 <br /> distributable 
 <br /> ejb-ref 
 <br /> ejb-local-ref 
 <br /> env-entry 
 <br /> error-page 
 <br /> filter 
 <br /> filter-mapping 
 <br /> icon 
 <br /> listener 
 <br /> login-config 
 <br /> mime-mapping 
 <br /> resource-env-ref 
 <br /> resource-ref 
 <br /> security-constraint 
 <br /> security-role 
 <br /> Servlet 
 <br /> servlet-mapping 
 <br /> session-config 
 <br /> taglib 
 <br /> web-app 
 <br /> welcome-file-list
</div> 
<div> 
</div> 
<div>
 --------------------------------------------------------------------------------
</div> 
<div> 
</div> 
<div>
 icon 
 <br /> icon 元素指定用于在 GUI 工具中表示 Web 应用程序的大小图像在 Web 应用程序中的位置。（servlet 元素中也有一个名为 icon 的元素，用于提供在 GUI 工具中表示 servlet 的图标。）
</div> 
<div> 
</div> 
<div>
 下表描述可以在 icon 元素中定义的元素。
</div> 
<div> 
</div> 
<div>
 元素 必需/可选 描述 
 <br /> &lt;small-icon&gt; 可选 用于在 GUI 工具中表示 Web 应用程序的 .gif 或 .jpg 小图像（16x16 像素）的位置。当前 WebLogic Server 尚不使用此元素。 
 <br /> &lt;large-icon&gt; 可选 用于在 GUI 工具中表示 Web 应用程序的 .gif 或 .jpg 大图像（32x32 像素）的位置。当前 WebLogic Server 尚不使用此元素。
</div> 
<div> 
</div> 
<div>
 <br /> --------------------------------------------------------------------------------
</div> 
<div> 
</div> 
<div>
 display-name 
 <br /> 可选的 display-name 元素指定 Web 应用程序的显示名称（可以由 GUI 工具显示的简短名称）。
</div> 
<div> 
</div> 
<div>
 <br /> 元素 必需/可选 描述 
 <br /> &lt;display-name&gt; 可选 当前 WebLogic Server 尚不使用此元素。
</div> 
<div> 
</div> 
<div>
 <br /> --------------------------------------------------------------------------------
</div> 
<div> 
</div> 
<div>
 description 
 <br /> 可选的 description 元素提供关于 Web 应用程序的描述性文本。
</div> 
<div> 
</div> 
<div>
 <br /> 元素 必需/可选 描述 
 <br /> &lt;description&gt; 可选 当前 WebLogic Server 尚不使用此元素。
</div> 
<div> 
</div> 
<div>
 <br /> --------------------------------------------------------------------------------
</div> 
<div> 
</div> 
<div>
 distributable 
 <br /> WebLogic Server 不使用 distributable 元素。
</div> 
<div> 
</div> 
<div>
 元素 必需/可选 描述 
 <br /> &lt;distributable&gt; 可选 当前 WebLogic Server 尚不使用此元素。
</div> 
<div> 
</div> 
<div>
 <br /> --------------------------------------------------------------------------------
</div> 
<div> 
</div> 
<div>
 context-param 
 <br /> 可选的 context-param 元素中包含 Web 应用程序的 Servlet 上下文初始化参数的声明。下表描述 Web 应用程序容器所使用的保留上下文参数，在 weblogic.xml 中已不赞成使用这些参数，而提供了替换参数。
</div> 
<div> 
</div> 
<div>
 不赞成使用的参数 描述 weblogic.xml 中的替换元素 
 <br /> weblogic.httpd.inputCharset 定义非 unicode 操作的代码集行为。 weblogic.xml 中的 input-charset（在 charset-param 内定义）。请参阅 input-charset。 
 <br /> weblogic.httpd.servlet.reloadCheckSecs 定义 WebLogic Server 检查 servlet 是否发生修改的频率，如果已修改，则重新加载。值为 -1 则永不重新加载，值为 0 则始终重新加载。默认设置为 1 秒。 weblogic.xml 中的 servlet-reload-check-secs（在 container-descriptor 中定义）。请参阅 container-descriptor。 
 <br /> weblogic.httpd.servlet.classpath 设置此值后，容器会将此路径追加到 Web 应用程序类路径上。不建议采用此方法，对于此方法的支持仅为向后兼容。 无替换。使用其他方法，例如清单类路径或 WEB-INF/lib 或 WEB-INF/classes 或虚拟目录。 
 <br /> weblogic.httpd.defaultServlet 设置 Web 应用程序的默认 servlet。不建议采用此方法，
 <br /> 对于此方法的支持仅为向后兼容。 无替换。而是使用 web.xml 中的 servlet 和 servlet-mapping 元素定义默认 servlet。默认 servlet 的 URL 模式应该是“/”。请参阅 servlet-mapping。有关 servlet 映射的其他示例，请参阅 Servlet 映射。
</div> 
<div> 
</div> 
<div>
 <br /> 以下 context-param 参数仍有效。
</div> 
<div> 
</div> 
<div>
 <br /> 元素 必需/可选 描述 
 <br /> weblogic.httpd.
 <br /> clientCertProxy optional 此特性指定 Web 应用程序客户端的证书由代理插件或 HttpClusterServlet所发送的特殊 WL-Proxy-Client-Cert 头提供。 
 <br /> 如果在代理服务器上执行用户身份验证，则此设置适用 – 设置 clientCertProxy 会使代理服务器在特殊的头 WL-Proxy-Client-Cert中将证书传递给群集。 
 <br /> WL-Proxy-Client-Cert 头可以由能够访问 WebLogic Server 的任意客户端提供。WebLogic Server 从该头中获取证书信息，信任它来自安全来源（该插件）并使用该信息来对用户进行身份验证。 
 <br /> 出于此原因，如果您设置 clientCertProxy，请使用连接筛选器确保 WebLogic Server 仅接受来自正在运行该插件的计算机的连接。 
 <br /> 除为单个 Web 应用程序设置此特性外，您还可以定义此特性： 
 <br /> 在管理控制台中的“服务器”--&gt;“配置”--&gt;“常规”页面上，为服务器示例承载的所有 Web 应用程序设置该特性 
 <br /> 在“群集”--&gt;“配置”--&gt;“常规”页面上，为群集中服务器实例所承载的所有 Web 应用程序设置该特性
</div> 
<div> 
</div> 
<div> 
</div> 
<div> 
</div> 
<div>
 --------------------------------------------------------------------------------
</div> 
<div> 
</div> 
<div>
 filter 
 <br /> filter 元素定义筛选器类及其初始化特性。有关筛选器的详细信息，请参阅配置筛选器。
</div> 
<div> 
</div> 
<div>
 下表描述可在 filter 元素中定义的元素。
</div> 
<div> 
</div> 
<div>
 元素 必需/可选 描述 
 <br /> &lt;icon&gt; 可选 指定用于在 GUI 工具中表示筛选器的大小图像在 Web 应用程序中的位置。包含小图标和大图标元素。 
 <br /> 当前 WebLogic Server 尚不使用此元素。 
 <br /> &lt;filter-name&gt; 必需 定义筛选器的名称，用于在部署描述符中的其他位置上引用筛选器定义。 
 <br /> &lt;display-name&gt; 可选 希望由 GUI 工具显示的简短名称。 
 <br /> &lt;description&gt; 可选 筛选器的文字描述。 
 <br /> &lt;filter-class&gt; 必需 筛选器的完全限定类名。 
 <br /> &lt;init-param&gt; 可选 包含名/值对并用作筛选器的初始化特性。 
 <br /> 每个特性使用独立的一组 &lt;init-param&gt; 标记。
</div> 
<div> 
</div> 
<div>
 <br /> --------------------------------------------------------------------------------
</div> 
<div> 
</div> 
<div>
 filter-mapping 
 <br /> 下表描述可在 filter-mapping元素中定义的元素。
</div> 
<div> 
</div> 
<div>
 元素 必需/可选 描述 
 <br /> &lt;filter-name&gt; 必需 要将 URL 模式或 servlet 映射至的筛选器的名称。该名称对应于使用 &lt;filter-name&gt; 元素在 &lt;filter&gt; 元素中分配的名称。 
 <br /> &lt;url-pattern&gt; 必需 - 或由 &lt;servlet&gt;映射 描述用于解析 URL 的模式。将 
 <a href="http://host:port">http://host:port</a> + ContextPath 之后的 URL 部分与 WebLogic Server 的 &lt;url-pattern&gt; 进行比较。如果模式匹配，则将调用该元素中映射的筛选器。 
 <br /> 示例模式： 
 <br /> /soda/grape/*
 <br /> /foo/* 
 <br /> /contents
 <br /> *.foo 
 <br /> URL 必须遵循 Servlet 2.3 规范中指定的规则。 
 <br /> &lt;servlet&gt; 必需 - 或由 &lt;url-pattern&gt;映射 Servlet 的名称，如果调用它，则会执行该筛选器。
</div> 
<div> 
</div> 
<div>
 <br /> --------------------------------------------------------------------------------
</div> 
<div> 
</div> 
<div>
 listener 
 <br /> 使用 listener 元素定义应用程序监听器。
</div> 
<div> 
</div> 
<div>
 元素 必需/可选 描述 
 <br /> &lt;listener-class&gt; 可选 响应 Web 应用程序事件的类的名称。
</div> 
<div> 
</div> 
<div>
 <br /> 有关详细信息，请参阅配置事件监听器类。
</div> 
<div> 
</div> 
<div>
 --------------------------------------------------------------------------------
</div> 
<div> 
</div> 
<div>
 servlet 
 <br /> servlet 元素中包含 servlet 的声明性数据。
</div> 
<div> 
</div> 
<div>
 如果指定了 jsp-file 且存在 &lt;load-on-startup&gt; 元素，则将在 WebLogic Server 启动时预编译和加载该 JSP。
</div> 
<div> 
</div> 
<div>
 下表描述可在 servlet 元素中定义的元素。
</div> 
<div> 
</div> 
<div>
 元素 必需/可选 描述 
 <br /> &lt;icon&gt; 可选 用于在 GUI 工具中表示 servlet 的大小图像在 Web 应用程序中的位置。包含小图标和大图标元素。 
 <br /> 当前 WebLogic Server 尚不使用此元素。 
 <br /> &lt;servlet-name&gt; 必需 定义 servlet 的规范名称，用于在部署描述符中的其他位置上引用 servlet 定义。 
 <br /> &lt;display-name&gt; 可选 希望由 GUI 工具显示的简短名称。 
 <br /> &lt;description&gt; 可选 servlet 的文字描述。 
 <br /> &lt;servlet-class&gt; 必需（或使用 &lt;jsp-
 <br /> file&gt;） servlet 的完全限定类名。 
 <br /> 在 servlet 正文中仅使用 &lt;servlet-class&gt; 标记或 &lt;jsp-file&gt; 标记中的任意一种。 
 <br /> &lt;jsp-file&gt; 必需（或使用 &lt;servlet-
 <br /> class&gt;） Web 应用程序中的 JSP 文件相对于 Web 应用程序根目录的完整路径。 
 <br /> 在 servlet 正文中仅使用 &lt;servlet-class&gt; 标记或 &lt;jsp-file&gt; 标记中的任意一种。 
 <br /> &lt;init-param&gt; 可选 包含名/值对并用作 servlet 的初始化特性。 
 <br /> 每个特性使用独立的一组 &lt;init-param&gt; 标记。 
 <br /> &lt;load-on-startup&gt; 可选 当 WebLogic Server 启动时，WebLogic Server 将初始化此 servlet。此元素内容可选，但必须是正整数，它指明 servlet 的加载顺序。指定了低整数的 servlet 将于高整数 servlet 之前加载。如果没有指定任何值，或如果所指定的值不是正整数，则在应用程序启动期间，WebLogic Server 可以以任意顺序加载 servlet。 
 <br /> &lt;run-as&gt; 可选 指定将用于 Web 应用程序执行的 run-as 标识。该元素包含可选描述和安全角色的名称。 
 <br /> &lt;security-role-
 <br /> ref&gt; 可选 用于将 &lt;security-role&gt;所定义的安全角色名链接到使用 Servlet 逻辑进行硬编码的备用角色名。使用此附加提取层，可以在部署时配置 Servlet，且不必更改 Servlet 代码。
</div> 
<div> 
</div> 
<div>
 <br /> icon 
 <br /> 这是 Servlet 内的元素。
</div> 
<div> 
</div> 
<div>
 icon 元素指定用于在 GUI 工具中表示 servlet 的大小图像在 Web 应用程序中的位置。
</div> 
<div> 
</div> 
<div>
 下表描述可以在 icon 元素中定义的元素。
</div> 
<div> 
</div> 
<div>
 元素 必需/可选 描述 
 <br /> &lt;small-icon&gt; 可选 指定用于在 GUI 工具中表示 servlet 的 .gif 或 .jpg 小图像（16x16 像素）在 Web 应用程序内的位置。 
 <br /> 当前 WebLogic Server 尚不使用此元素。 
 <br /> &lt;large-icon&gt; 可选 指定用于在 GUI 工具中表示 servlet 的 .gif 或 .jpg 小图像（32x32 像素）在 Web 应用程序内的位置。 
 <br /> 当前 WebLogic Server 尚不使用此元素。
</div> 
<div> 
</div> 
<div>
 <br /> init-param 
 <br /> 这是 Servlet 内的元素。
</div> 
<div> 
</div> 
<div>
 可选的 init-param元素中包含用作 servlet 的初始化特性的名/值对。每个特性使用独立的一组 init-param 标记。
</div> 
<div> 
</div> 
<div>
 您可以使用 javax.servlet.ServletConfig.getInitParameter() 方法访问这些特性。
</div> 
<div> 
</div> 
<div>
 下表描述可在 init-param元素中定义的元素。
</div> 
<div> 
</div> 
<div>
 元素 必需/可选 描述 
 <br /> &lt;param-name&gt; 必需 定义此特性的名称。 
 <br /> &lt;param-value&gt; 必需 为此特性定义一个 String 值。 
 <br /> &lt;description&gt; 可选 初始化特性的文字描述。
</div> 
<div> 
</div> 
<div>
 <br /> security-role-ref 
 <br /> 这是 Servlet 内的元素。
</div> 
<div> 
</div> 
<div>
 security-role-ref 元素将 &lt;security-role&gt; 定义的安全角色名链接到使用 Servlet 逻辑进行硬编码的备用角色名。使用此附加提取层，可以在部署时配置 Servlet，且不必更改 Servlet 代码。
</div> 
<div> 
</div> 
<div>
 下表描述可在 security-role-ref元素中定义的元素。
</div> 
<div> 
</div> 
<div>
 元素 必需/可选 描述 
 <br /> &lt;description&gt; 可选 角色的文字描述。 
 <br /> &lt;role-name&gt; 必需 定义在 Servlet 代码中使用的安全角色或委托人的名称。 
 <br /> &lt;role-link&gt; 必需 定义稍后将在部署描述符中的 &lt;security-role&gt; 元素中定义的安全角色的名称。
</div> 
<div> 
</div> 
<div>
 <br /> --------------------------------------------------------------------------------
</div> 
<div> 
</div> 
<div>
 servlet-mapping 
 <br /> servlet-mapping 元素定义 servlet 和 URL 模式之间的映射。
</div> 
<div> 
</div> 
<div>
 下表描述可在 servlet-mapping元素中定义的元素。
</div> 
<div> 
</div> 
<div>
 元素 必需/可选 描述 
 <br /> &lt;servlet-name&gt; 必需 要将 URL 模式映射至的 servlet 的名称。该名称对应于您在 &lt;servlet&gt; 声明标记中为 servlet 分配的名称。 
 <br /> &lt;url-pattern&gt; 必需 描述用于解析 URL 的模式。将 
 <a href="http://host:port">http://host:port</a> + WebAppName 之后的 URL 部分与 WebLogic Server 的 &lt;url-pattern&gt; 进行比较。如果模式匹配，则将调用该元素中映射的 servlet。 
 <br /> 示例模式： 
 <br /> /soda/grape/*
 <br /> /foo/* 
 <br /> /contents
 <br /> *.foo 
 <br /> URL 必须遵循 Servlet 2.3 规范中指定的规则。 
 <br /> 有关 Servlet 映射的其他示例，请参阅 Servlet 映射。
</div> 
<div> 
</div> 
<div>
 <br /> --------------------------------------------------------------------------------
</div> 
<div> 
</div> 
<div>
 session-config 
 <br /> session-config 元素为此 Web 应用程序定义会话特性。
</div> 
<div> 
</div> 
<div>
 下表描述可在 session-config 元素中定义的元素。
</div> 
<div> 
</div> 
<div>
 元素 必需/可选 描述 
 <br /> &lt;session-timeout&gt; 可选 会话过期分钟数，该 Web 应用程序中的会话将在此时间后过期。除非输入此处列出的某个特殊值，否则此元素中设置的值将替代 WebLogic 特定部署描述符 weblogic.xml 中的 &lt;session-descriptor&gt; 元素的 TimeoutSecs 特性中设置的值。 
 <br /> 默认值：-2 
 <br /> 最大值：Integer.MAX_VALUE  
 <br /> 特殊值： 
 <br /> -2 表示使用 weblogic.xml的 &lt;session-descriptor&gt; 元素中的 TimeoutSecs 设置的值。 
 <br /> -1 表示会话永不超时。将忽略 weblogic.xml 的 &lt;session-descriptor&gt; 元素中设置的值。 
 <br /> 有关详细信息，请参阅 session-descriptor。
</div> 
<div> 
</div> 
<div>
 <br /> --------------------------------------------------------------------------------
</div> 
<div> 
</div> 
<div>
 mime-mapping 
 <br /> mime-mapping 元素定义扩展名和 mime 类型之间的映射。
</div> 
<div> 
</div> 
<div>
 下表描述可在 mime-mapping元素中定义的元素。
</div> 
<div> 
</div> 
<div>
 元素 必需/可选 描述 
 <br /> &lt;extension&gt; 必需 描述扩展名的字符串，例如：txt。 
 <br /> &lt;mime-type&gt; 必需 描述定义的 mime 类型的字符串，例如：text/plain。
</div> 
<div> 
</div> 
<div>
 <br /> --------------------------------------------------------------------------------
</div> 
<div> 
</div> 
<div>
 welcome-file-list 
 <br /> 可选的 welcome-file-list 元素中包含 welcome-file 元素的有序列表。
</div> 
<div> 
</div> 
<div>
 当 URL 请求是一个目录名时，WebLogic Server 将提供此元素中指定的第一个文件。如果找不到该文件，则服务器会尝试列表中的下一个文件。
</div> 
<div> 
</div> 
<div>
 有关详细信息，请参阅配置欢迎文件。
</div> 
<div> 
</div> 
<div>
 下表描述可在 welcome-file-list 元素中定义的元素。
</div> 
<div> 
</div> 
<div>
 元素 必需/可选 描述 
 <br /> &lt;welcome-file&gt; 可选 用作默认欢迎文件的文件名，例如 index.html
</div> 
<div> 
</div> 
<div>
 <br /> --------------------------------------------------------------------------------
</div> 
<div> 
</div> 
<div>
 error-page 
 <br /> 可选的 error-page 元素指定错误代码或异常类型与 Web 应用程序中资源路径之间的映射。
</div> 
<div> 
</div> 
<div>
 WebLogic Server 响应 HTTP 请求的过程中发生错误或由于 Java 异常而发生错误时，WebLogic Server 会返回一个 HTML 页面，其中显示 HTTP 错误代码或包含 Java 错误信息的页面。可以定义显示自己的 HTML 页面，而不显示这些默认错误页面，或响应 Java 异常。
</div> 
<div> 
</div> 
<div>
 有关详细信息，请参阅自定义 HTTP 错误响应。
</div> 
<div> 
</div> 
<div>
 下表描述可以在 error-page 元素中定义的元素。
</div> 
<div> 
</div> 
<div>
 注意： 定义 &lt;error-code&gt; 或 &lt;exception-type&gt;，但两者不能同时定义。 
 <br /> 元素 必需/可选 描述 
 <br /> &lt;error-code&gt; 可选 有效的 HTTP 错误代码，例如 404。 
 <br /> &lt;exception-type&gt; 可选 Java 异常类型的完全限定类名，例如 java.lang.string 
 <br /> &lt;location&gt; 必需 为响应错误而显示的资源的位置。例如，/myErrorPg.html。
</div> 
<div> 
</div> 
<div>
 <br /> --------------------------------------------------------------------------------
</div> 
<div> 
</div> 
<div>
 taglib 
 <br /> 可选的 taglib 元素描述 JSP 标记库。
</div> 
<div> 
</div> 
<div>
 该元素将 JSP 标记库描述符（Tag Library Descriptor，简称 TLD）与 URI 模式关联起来。尽管您可以在相对于 WEB-INF 目录的 JSP 中指定 TLD，但部署您的 Web 应用程序时，您仍可以使用 &lt;taglib&gt; 标记配置 TLD。每个 TLD 使用独立的元素。
</div> 
<div> 
</div> 
<div>
 下表描述可在 taglib元素中定义的元素。
</div> 
<div> 
</div> 
<div>
 元素 必需/可选 描述 
 <br /> &lt;taglib-location&gt; 必需 给出相对于 Web 应用程序根目录的标记库描述符的文件名。将标记库描述符文件存储在 WEB-INF 目录下是一个好主意，这样可以避免通过 HTTP 请求公开提供该文件。 
 <br /> &lt;taglib-uri&gt; 必需 描述相对于 web.xml 文档位置的 URI，标识 Web 应用程序中使用的标记库。 
 <br /> 如果该 URI 匹配 JSP 页面上 taglib 指令中使用的 URI 字符串，则使用此 taglib。
</div> 
<div> 
</div> 
<div>
 <br /> --------------------------------------------------------------------------------
</div> 
<div> 
</div> 
<div>
 resource-env-ref 
 <br /> resource-env-ref 元素包含 Web 应用程序对 Web 应用程序环境中的资源所关联的受管理对象的引用的声明。它包括可选的描述、资源环境引用名，还指明了 Web 应用程序代码所预期的资源环境引用类型。
</div> 
<div> 
</div> 
<div>
 例如：
</div> 
<div> 
</div> 
<div>
 &lt;resource-env-ref&gt;&nbsp;&nbsp; &lt;resource-env-ref-name&gt;jms/StockQueue&lt;/resource-env-ref-name&gt;&nbsp;&nbsp; &lt;resource-env-ref-type&gt;javax.jms.Queue&lt;/resource-env-ref-type&gt;&lt;/resource-env-ref&gt;下表描述可在 resource-env-ref 元素中定义的元素。
</div> 
<div> 
</div> 
<div>
 元素 必需/可选 描述 
 <br /> &lt;description&gt; 可选 提供资源环境引用的描述。 
 <br /> &lt;resource-env-ref-name&gt; 必需 指定资源环境引用的名称；其值为 Web 应用程序代码中使用的环境条目名称。名称是相对于 java:comp/env 上下文的 JNDI 名称，该名称在 Web 应用程序中必须唯一。 
 <br /> &lt;resource-env-ref-type&gt; 必需 指定资源环境引用的类型。它是 Java 语言类或接口的完全限定名称。
</div> 
<div> 
</div> 
<div>
 <br /> --------------------------------------------------------------------------------
</div> 
<div> 
</div> 
<div>
 resource-ref 
 <br /> 可选的 resource-ref 元素定义外部资源的引用查找名。这使得 servlet 代码能够通过“虚拟”名称查找资源，该虚拟名称将映射至部署时的实际位置。
</div> 
<div> 
</div> 
<div>
 使用独立的 &lt;resource-ref&gt; 元素定义每个外部资源名称。在 WebLogic 特定部署描述符 weblogic.xml 中，外部资源名称映射至部署时的资源实际位置名称。
</div> 
<div> 
</div> 
<div>
 下表描述可在 resource-ref元素中定义的元素。
</div> 
<div> 
</div> 
<div>
 元素 必需/可选 描述 
 <br /> &lt;description&gt; 可选 文字描述。 
 <br /> &lt;res-ref-name&gt; 必需 JNDI 树中使用的资源的名称。Web 应用程序中的 Servlet 使用此名称查找资源引用。 
 <br /> &lt;res-type&gt; 必需 与引用名称相对应的资源的 Java 类型。使用 Java 类型的完整包名。 
 <br /> &lt;res-auth&gt; 必需 用于控制资源安全登录。 
 <br /> 如果设置为 APPLICATION，则表明应用程序组件代码将以编程方式执行资源登录。如果设置为 CONTAINER，则 WebLogic Server 将使用随 login-config 元素建立的安全上下文。请参阅 login-config。 
 <br /> &lt;res-sharing-scope&gt; 可选 指定是否可以共享通过给定资源管理器连接工厂引用获取的连接。 
 <br /> 有效值： 
 <br /> Shareable（可共享） 
 <br /> Unshareable（不可共享）
</div> 
<div> 
</div> 
<div>
 <br /> --------------------------------------------------------------------------------
</div> 
<div> 
</div> 
<div>
 security-constraint 
 <br /> security-constraint 元素定义对 &lt;web-resource-collection&gt; 元素所定义的资源集合的访问权限。
</div> 
<div> 
</div> 
<div>
 有关在 Web 应用程序中配置安全的详细说明和示例，请参阅“确保 WebLogic 资源安全”。另外，有关 WebLogic 安全的详细信息，请参阅WebLogic 安全性编程。
</div> 
<div> 
</div> 
<div>
 下表描述可在 security-constraint 元素中定义的元素。
</div> 
<div> 
</div> 
<div>
 元素 必需/可选 描述 
 <br /> &lt;web-resource-
 <br /> collection&gt; 必需 定义应用此安全约束的 Web 应用程序的组件。 
 <br /> &lt;auth-constraint&gt; 可选 定义哪些组或委托人可以访问此安全约束内定义的 Web 资源集合。另请参阅 auth-constraint。 
 <br /> &lt;user-data-
 <br /> constraint&gt; 可选 定义客户端如何与服务器进行通信。 
 <br /> 另请参阅 user-data-constraint
</div> 
<div> 
</div> 
<div>
 <br /> web-resource-collection 
 <br /> 每个 &lt;security-constraint&gt; 元素必须具有一个或多个 &lt;web-resource-collection&gt; 元素。它们定义应用此安全约束的 Web 应用程序的区域。
</div> 
<div> 
</div> 
<div>
 这是 security-constraint 内的元素。
</div> 
<div> 
</div> 
<div>
 下表描述可在 web-resource-collection 元素中定义的元素。
</div> 
<div> 
</div> 
<div>
 元素 必需/可选 描述 
 <br /> &lt;web-resource-
 <br /> name&gt; 必需 此 Web 资源集合的名称。 
 <br /> &lt;description&gt; 可选 此安全约束的文字描述。 
 <br /> &lt;url-pattern&gt; 可选 使用一个或多个 &lt;url-pattern&gt; 元素声明此安全约束将应用至的 URL 模式。如果您不使用其中至少一个元素，则 WebLogic Server 将忽略 &lt;web-resource-collection&gt;。 
 <br /> &lt;http-method&gt; 可选 使用一个或多个 &lt;http-method&gt; 元素声明受身份验证约束的 HTTP 方法（通常是 GET 或 POST）。如果忽略 &lt;http-method&gt; 元素，则默认行为是向所有 HTTP 方法应用安全约束。
</div> 
<div> 
</div> 
<div>
 <br /> auth-constraint 
 <br /> 这是 security-constraint 内的元素。
</div> 
<div> 
</div> 
<div>
 可选的 auth-constraint 元素定义哪些组或委托人有权访问在此安全约束中定义的 Web 资源集合。
</div> 
<div> 
</div> 
<div>
 下表描述可以在 auth-constraint 元素中定义的元素。
</div> 
<div> 
</div> 
<div>
 元素 必需/可选 描述 
 <br /> &lt;description&gt; 可选 此安全约束的文字描述。 
 <br /> &lt;role-name&gt; 可选 定义哪些安全角色可以访问在此安全约束中定义的资源。安全角色名映射至使用 security-role-ref 的委托人。请参阅 security-role-ref。
</div> 
<div> 
</div> 
<div>
 <br /> user-data-constraint 
 <br /> 这是 security-constraint 内的元素。
</div> 
<div> 
</div> 
<div>
 user-data-constraint元素定义客户端如何与服务器进行通信。
</div> 
<div> 
</div> 
<div>
 下表描述可在 user-data-constraint元素中定义的元素。
</div> 
<div> 
</div> 
<div>
 元素 必需/可选 描述 
 <br /> &lt;description&gt; 可选 文字描述。 
 <br /> &lt;transport-
 <br /> guarantee&gt; 必需 指定客户端和服务器之间的通信。 
 <br /> 当使用 INTEGRAL 或 CONFIDENTIAL 传输保证对用户进行身份验证时，WebLogic Server 会建立安全套接口层 (SSL) 连接。 
 <br /> 值范围： 
 <br /> NONE- 应用程序不需要任何传输保证。 
 <br /> INTEGRAL- 应用程序要求数据在客户端和服务器之间传输的过程中不会被更改。 
 <br /> CONFIDENTIAL- 应用程序要求传输数据以防止其他实体观察到传输的内容。
</div> 
<div> 
</div> 
<div>
 <br /> --------------------------------------------------------------------------------
</div> 
<div> 
</div> 
<div>
 login-config 
 <br /> 使用可选的 login-config 元素配置如何对用户进行身份验证；应用于此应用程序的领域名称；表单登录机制所需要的特性。
</div> 
<div> 
</div> 
<div>
 如果使用此元素，则用户必须经过身份验证才能访问受 Web 应用程序中所定义的 &lt;security-constraint&gt; 约束的所有资源。一旦通过身份验证，则可以授权用户访问具有访问权限的其他资源。
</div> 
<div> 
</div> 
<div>
 下表描述可在 login-config元素中定义的元素。
</div> 
<div> 
</div> 
<div>
 元素 必需/可选 描述 
 <br /> &lt;auth-method&gt; 可选 指定用于对用户进行身份验证的方法。可能的值： 
 <br /> BASIC - 使用浏览器身份验证。（这是默认值。）
 <br /> FORM - 使用用户编写的 HTML 表单。
 <br /> CLIENT-CERT 
 <br /> 注意： 您可以通过逗号分隔列表定义多个身份验证方法，以便提供应变机制。将按照在 auth-method 列表中定义值的顺序尝试进行身份验证。请参阅“WebLogic 安全性编程”中的为身份验证方法提供应变机制。
</div> 
<div> 
</div> 
<div>
 <br /> &lt;realm-name&gt; 可选 对用户凭据进行身份验证时所引用的领域名称。如果忽略，则默认使用管理控制台中的“Web 应用程序”“配置”“其他”选项卡上的“身份验证领域名”字段中定义的领域。 
 <br /> 注意： &lt;realm-name&gt; 元素不引用 WebLogic Server 内的系统安全领域。该元素定义 HTTP 基本身份验证中使用的领域名称。系统安全领域是在服务器上执行特定操作时将检查的安全信息的集合。servlet 安全领域是访问页面和使用基本身份验证时要检查的另外一组安全信息的集合。
</div> 
<div> 
</div> 
<div>
 <br /> &lt;form-login-
 <br /> config&gt; 可选 如果您在 FORM 中配置 &lt;auth-method&gt;，请使用此元素。请参阅 form-login-config。
</div> 
<div> 
</div> 
<div>
 <br /> form-login-config 
 <br /> 这是 login-config 内的元素。
</div> 
<div> 
</div> 
<div>
 如果您在 FORM 中配置 &lt;auth-method&gt;，请使用 &lt;form-login-config&gt; 元素。
</div> 
<div> 
</div> 
<div>
 .
</div> 
<div> 
</div> 
<div>
 元素 必需/可选 描述 
 <br /> &lt;form-login-page&gt; 必需 相对于文档根目录的 Web 资源 URI，用于对用户进行身份验证。这可以是 HTML 页面、JSP 或 HTTP servlet，且必须返回一个包含符合特定命名约定的、基于 FORM 的身份验证的 HTML 页面。 
 <br /> &lt;form-error-page&gt; 必需 相对于文档根目录的 Web 资源 URI，会将它发送给用户以响应失败的身份验证登录。
</div> 
<div> 
</div> 
<div>
 <br /> --------------------------------------------------------------------------------
</div> 
<div> 
</div> 
<div>
 security-role 
 <br /> 下表描述可在 security-role元素中定义的元素。
</div> 
<div> 
</div> 
<div>
 元素 必需/可选 描述 
 <br /> &lt;description&gt; 可选 此安全角色的文字描述。 
 <br /> &lt;role-name&gt; 必需 角色名。此处使用的名称在 WebLogic 特定的部署描述符 weblogic.xml 中必须有对应的条目，该部署描述符将角色映射到安全领域中的委托人。有关详细信息，请参阅 security-role-assignment。
</div> 
<div> 
</div> 
<div> 
</div> 
<div> 
</div> 
<div>
 --------------------------------------------------------------------------------
</div> 
<div> 
</div> 
<div>
 env-entry 
 <br /> 可选的 env-entry 元素声明用于应用程序的环境条目。每个环境条目使用独立的元素。
</div> 
<div> 
</div> 
<div>
 下表描述可以在 env-entry 元素中定义的元素。
</div> 
<div> 
</div> 
<div>
 元素 必需/可选 描述 
 <br /> &lt;description&gt; 可选 文字描述。 
 <br /> &lt;env-entry-name&gt; 必需 环境条目的名称。 
 <br /> &lt;env-entry-value&gt; 必需 环境条目的值。 
 <br /> &lt;env-entry-type&gt; 必需 环境条目的类型。 
 <br /> 可以设置为下列 Java 类型之一： 
 <br /> java.lang.Boolean 
 <br /> java.lang.String 
 <br /> java.lang.Integer 
 <br /> java.lang.Double 
 <br /> java.lang.Float
</div> 
<div> 
</div> 
<div>
 <br /> --------------------------------------------------------------------------------
</div> 
<div> 
</div> 
<div>
 ejb-ref 
 <br /> 可选的 ejb-ref 元素定义对 EJB 资源的引用。通过在 WebLogic 特定的部署描述符文件 weblogic.xml 中定义映射，将该引用映射至部署时的 EJB 实际位置。使用独立的 &lt;ejb-ref&gt; 元素定义每个引用 EJB 名称。
</div> 
<div> 
</div> 
<div>
 下表描述可以在 ejb-ref 元素中定义的元素。
</div> 
<div> 
</div> 
<div>
 元素 必需/可选 描述 
 <br /> &lt;description&gt; 可选 引用的文字描述。 
 <br /> &lt;ejb-ref-name&gt; 必需 Web 应用程序中使用的 EJB 的名称。在 WebLogic 特定的部署描述符 weblogic.xml 中，该名称映射至 JNDI 树。有关详细信息，请参阅 ejb-reference-description。 
 <br /> &lt;ejb-ref-type&gt; 必需 所引用的 EJB 的预期 Java 类类型。 
 <br /> &lt;home&gt; 必需 EJB Home 接口的完全限定类名。 
 <br /> &lt;remote&gt; 必需 EJB 远程接口的完全限定类名。 
 <br /> &lt;ejb-link&gt; 可选 在包含的 J2EE 应用程序包中的 EJB 的 &lt;ejb-name&gt;。 
 <br /> &lt;run-as&gt; 可选 安全角色，其安全上下文将应用于所引用的 EJB。必须是使用 &lt;security-role&gt; 元素定义的安全角色。
</div> 
<div> 
</div> 
<div>
 <br /> --------------------------------------------------------------------------------
</div> 
<div> 
</div> 
<div>
 ejb-local-ref 
 <br /> ejb-local-ref 元素用于声明对企业 Bean 本地主目录的引用。声明包括：
</div> 
<div> 
</div> 
<div>
 可选的描述 
 <br /> 用于在 Web 应用程序代码中引用企业 Bean 的 EJB 引用名称。所引用的企业 Bean 的预期类型 
 <br /> 所引用的企业 Bean 的预期本地主目录和本地接口 
 <br /> 可选的 ejb-link 信息，用于指定所引用的企业 Bean 
 <br /> 下表描述可以在 ejb-local-ref 元素中定义的元素。
</div> 
<div> 
</div> 
<div>
 元素 必需/可选 描述 
 <br /> &lt;description&gt; 可选 引用的文字描述。 
 <br /> &lt;ejb-ref-name&gt; 必需 包含 EJB 引用的名称。EJB 引用是 Web 应用程序环境中的一个条目，它相对于 java:comp/env 上下文。该名称在 Web 应用程序中必须唯一。建议该名称使用前缀 ejb/。 
 <br /> 例如： 
 <br /> &lt;ejb-ref-name&gt;ejb/Payroll&lt;/ejb-ref-name&gt; 
 <br /> &lt;ejb-ref-type&gt; 必需 ejb-ref-type 元素包含所引用企业 Bean 的预期类型。ejb-ref-type 元素必须是以下某项： 
 <br /> &lt;ejb-ref-type&gt;Entity&lt;/ejb-ref-type&gt;&lt;ejb-ref-type&gt;Session&lt;/ejb-ref-type&gt; 
 <br /> &lt;local-home&gt; 必需 包含企业 Bean 的本地 Home 接口的完全限定名称。 
 <br /> &lt;local&gt; 必需 包含企业 Bean 的本地接口的完全限定名称。 
 <br /> &lt;ejb-link&gt; 可选 ejb-link 元素用于 ejb-ref 或 ejb-local-ref 元素中以指定 EJB 上链接一个 EJB 引用。 
 <br /> ejb-link 元素中的名称包括一个路径名。该路径名指定包含所引用 EJB 的 ejb-jar，且追加了目标 Bean 的 ejb-name 并通过 # 与路径名隔开。 
 <br /> 该路径名相对于包含引用 EJB 的 Web 应用程序的 WAR 文件。因此能够唯一标识具有相同 ejb-name 的多个 EJB。 
 <br /> 用于：ejb-local-ref 和 ejb-ref 元素。 
 <br /> 示例： 
 <br /> &lt;ejb-link&gt;EmployeeRecord&lt;/ejb-link&gt; 
 <br /> &lt;ejb-link&gt;../products/product.jar#ProductEJB&lt;/ejb-link&gt;
</div> 
<div> 
</div> 
<div>
 <br /> --------------------------------------------------------------------------------
</div> 
<div> 
</div> 
<div>
 web-app 
 <br /> Servlet 2.4 部署描述符的 XML Schema。WebLogic Server 完全支持 HTTP Servlet，如 Sun Microsystems 的 Servlet 2.4 specification 所定义。但是，version 特性必须设置为 2.4，才能执行 2.4 行为。
</div> 
<div> 
</div> 
<div>
 下表描述可以在 web-app 元素中定义的元素。
</div> 
<div> 
</div> 
<div>
 元素 必需/可选 描述 
 <br /> &lt;version&gt; 必需 所有 Servlet 部署描述符必须指明 2.4 版本的 Schema，以便执行 Servlet 2.4 行为。
</div> 
<div> 
</div> 
<div>
 <a href="http://blog.csdn.net/feijianxia/archive/2007/10/12/1821931.aspx">http://blog.csdn.net/feijianxia/archive/2007/10/12/1821931.aspx</a>
</div></div></body></html>