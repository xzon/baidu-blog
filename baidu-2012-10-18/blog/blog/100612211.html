<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>PHP函数基础</title></head><body><h1>PHP函数基础</h1><div><div>
<p>PHP函数基础</p>
<p>2.1.2 按值传递参数: <br>
<br>
向函数传递数据是常用的功能.例如要比较两个数的大小:</p>
<pre><div> </div>
function Max($a,$b){ <br>$max=$a&gt;$b?$a:$b; //这里用到一个三元运算,即当$a&gt;$b时,$max=$a,否则$max=$b <br>}</pre>
<p>在这里函数接受了两个参数,$a和$b,可以这样调用函数: <br>
Max(6,8); <br>
也可以向函数传递变量: <br>
2.1.2-L1</p>
<div>
<pre><div> </div>
&lt;?php <br>$a=6; <br>$b=8; <br>Max($a,$b); <br>?&gt;</pre>
</div>
<p>这中方式称为按值传递或者传值(passing by value),这样的话,函数范围内对这些值的任何改变都在函数外部被忽落掉.</p>
<div>2.1.3 按引用传递参数: <br>
<br>
这种方式区别与2.1.2的方式,它可以让函数内部对参数的改变在外部得到体现,按引用传递参数(也称传引用)要在参数前面加上&amp;符号. <br>
例2.1.3-L1 <br>
<div>
<pre>&lt;?php <br>$a=2006; <br>$b=2007; <br>function cont(&amp;$a,$b){ <br>$a+=$b; <br>$b+=$a; <br>} <br>cont($a,$b); <br>echo &quot;a:&quot;.$a.&quot;&lt;br/&gt;&quot;; <br>echo &quot;b:&quot;.$b.&quot;&lt;br/&gt;&quot;; <br>?&gt; <br>
<div> </div></pre>
</div>
输出的应该是: <br>
a的值是:4013 <br>
b的值是:2007 <br>
此时$a已经变为4013,而b并没有变化. <br>
<br>
2.1.4 默认参数值: <br>
<br>
给函数的参数设置一个默认值后,如果在没有提供这个参数的时候,函数就会把这个默认值赋值给该参数. <br>
<div>
<pre><div> </div>
&lt;?php <br>$a=2007; <br>function cont($a,$b=2006){ <br>echo $b; <br>} <br>cont($a); <br>?&gt;</pre>
</div>
输出为:2006 <br>
给定参数默认值的时候,注意必须是常数表达式,而不能指定函数调用或变量等非常量值. <br>
<br>
2.1.5 可选参数: <br>
<br>
你也可以设置某参数为可选(optional)参数,不过这个参数要放在参数列的最后一位,并且要设置默认值为空: <br>
<div>
<pre><div> </div>
function sum($a,$b,$c=''){ <br>$sum=$a+$b+$c; <br>echo $sum; <br>}</pre>
</div>
如果你有多个参数的时候,也可以选择性的传递参数: <br>
<br>
<div>
<pre>function sum($a,$b='',$c=''){ <br>echo $a+$b+$c; <br>} <br>
<div> </div></pre>
</div>
调用sum的时候可以只传递$a和$c: <br>
<br>
<div>
<pre>sum(2046,'',2008);</pre>
</div>
<p> </p>
<p>2.1.6 从函数返回值 <br>
<br>
一般情况下,脚本的结果可能取决与函数的结果,也可能取决与在执行函数时对数据的修行,而由于变量作用域的差异,函数体无法很容易的将信息传递给调用者,这个时候就可以通过 <br>
return关键字向调用者传递数据. <br>
<br>
1.return() <br>
return()语句可以向函数调用者返回任意的数值,将程序控制权返回到调用者的作用域.如果return()在全局作用域内调用,将终止脚本的执行. <br>
返回刚才的sum()函数,计算的结果暂时不能显示给用户,而是将这个值返回给调用块:</p>
<div>
<pre><div> </div>
function sum($a,$b,$c=''){ <br>$sum=$a+$b+$c; <br>return $sum; <br>}</pre>
</div>
<p>也可以不需要赋值给$sum:</p>
<div>
<pre>function sum($a,$b,$c=''){ <br>return $a+$b+$c; <br>} <br>
<div> </div></pre>
</div>
<p>2.返回多个值 <br>
<br>
这里以构造函数list()为例说明返回多个值: <br>
例:2.1.6-L1</p>
<div>
<pre><div> </div>
&lt;?php <br>function getmicrotime(){ <br>return explode(&quot; &quot;,microtime()); <br>} <br>list($msec, $sec)=getmicrotime(); <br>echo $msec.&quot;&lt;br/&gt;&quot;; <br>echo $sec.&quot;&lt;br/&gt;&quot;; <br>?&gt;</pre>
</div>
<p>注解: micrtime()函数是返回当前 UNIX 时间戳和微秒数,返回格式为&ldquo;msec sec&rdquo;的字符串，其中 sec 是当前的 Unix 时间戳，msec 是微秒部分。字符串的两部分都是以秒为单位返回的。 <br>
explode()是使用一个字符串分割另一个字符串,这里用来分割micrtime()得到的两个值组成的一个字符串. <br>
<br>
调用getmicrotime()函数后,此时返回的是两个值,$msec和$sec; <br>
这个函数可以丰富一下用来做检测程序运行时间</p>
<pre><div> </div>
&lt;?php <br>function getmicrotime(){ <br>list($usec, $sec) = explode(&quot; &quot;,microtime()); <br>return ((float)$usec + (float)$sec); //注意这里只是返回一个两个数值的和 <br>} <br>$time_start = getmicrotime(); <br>for($i=0;$i&lt;1000;$i++){ <br>echo $i; <br>} <br>$time_end = getmicrotime(); <br>echo &quot;\n\n[执行时间: &quot; . ($time_end - $time_start) . &quot;秒]\n\n&quot;; <br>?&gt;</pre>
<p><a href="http://tech.it168.com/o/2007-08-08/200708081510650_2.shtml">http://tech.it168.com/o/2007-08-08/200708081510650_2.shtml</a></p>
<p><a href="http://tech.it168.com/zt/PHP/index.html">http://tech.it168.com/zt/PHP/index.html</a></p>
</div>
</div></div></body></html>