<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>MySql的常用命令</title></head><body><h1>MySql的常用命令</h1><div><p> </p>
<p><font color="#993300" size="3" face="宋体">MySql的常用命令</font></p>
<p><font color="#993300" size="3" face="宋体">一、连接MYSQL。<br>
格式： mysql -h主机地址 -u用户名 －p用户密码</font></p>
<p><font color="#993300" size="3" face="宋体">1、例1：连接到本机上的MYSQL。<br>
首先在打开DOS窗口，然后进入目录 mysqlbin，再键入命令mysql -uroot -p，回车后提示你输密码，</font></p>
<p><font color="#993300" size="3" face="宋体">如果刚安装好MYSQL，超级用户root是没有密码的，故直接回车即可进入到MYSQL中了，MYSQL的提示符</font></p>
<p><font color="#993300" size="3" face="宋体">是：mysql&gt;</font></p>
<p><font color="#993300" size="3" face="宋体">2、例2：连接到远程主机上的MYSQL。假设远程主机的IP为：110.110.110.110，用户名为root,密码为</font></p>
<p><font color="#993300" size="3" face="宋体">abcd123。则键入以下命令：<br>
mysql -h110.110.110.110 -uroot -pabcd123<br>
（注:u与root可以不用加空格，其它也一样）</font></p>
<p><font color="#993300" size="3" face="宋体">3、退出MYSQL命令： exit （回车）</font></p>
<p><font color="#993300" size="3" face="宋体">二、修改密码。<br>
格式：mysqladmin -u用户名 -p旧密码 password 新密码</font></p>
<p><font color="#993300" size="3" face="宋体">1、例1：给root加个密码ab12。首先在DOS下进入目录mysqlbin，然后键入以下命令<br>
mysqladmin -uroot -password ab12<br>
注：因为开始时root没有密码，所以-p旧密码一项就可以省略了。</font></p>
<p><font color="#993300" size="3" face="宋体">2、例2：再将root的密码改为djg345。<br>
mysqladmin -uroot -pab12 password djg345</font></p>
<p><font color="#993300" size="3" face="宋体">三、增加新用户。（注意：和上面不同，下面的因为是MYSQL环境中的命令，所以后面都带一个分号作</font></p>
<p><font color="#993300" size="3" face="宋体">为命令结束符）</font></p>
<p><font color="#993300" size="3" face="宋体">格式：grant select on 数据库.* to 用户名@登录主机 identified by \&quot;密码\&quot;</font></p>
<p><font color="#993300" size="3" face="宋体">例1、增加一个用户test1密码为abc，让他可以在任何主机上登录，并对所有数据库有查询、插入、修</font></p>
<p><font color="#993300" size="3" face="宋体">改、删除的权限。首先用以root用户连入MYSQL，然后键入以下命令：<br>
grant select,insert,update,delete on *.* to test1@\&quot;%\&quot; Identified by \&quot;abc\&quot;;<br>
但例1增加的用户是十分危险的，你想如某个人知道test1的密码，那么他就可以在internet上的任何一</font></p>
<p><font color="#993300" size="3" face="宋体">台电脑上登录你的mysql数据库并对你的数据可以为所欲为了，解决办法见例2。</font></p>
<p><font color="#993300" size="3" face="宋体">例2、增加一个用户test2密码为abc,让他只可以在localhost上登录，并可以对数据库mydb进行查询、</font></p>
<p><font color="#993300" size="3" face="宋体">插入、修改、删除的操作（localhost指本地主机，即MYSQL数据库所在的那台主机），这样用户即使用</font></p>
<p><font color="#993300" size="3" face="宋体">知道test2的密码，他也无法从internet上直接访问数据库，只能通过MYSQL主机上的web页来访问了。<br>
grant select,insert,update,delete on mydb.* to test2@localhost identified by \&quot;abc\&quot;;<br>
如果你不想test2有密码，可以再打一个命令将密码消掉。<br>
grant select,insert,update,delete on mydb.* to test2@localhost identified by \&quot;\&quot;;<br>
在上篇我们讲了登录、增加用户、密码更改等问题。下篇我们来看看MYSQL中有关数据库方面的操作。</font></p>
<p><font color="#993300" size="3" face="宋体">注意：你必须首先登录到MYSQL中，以下操作都是在MYSQL的提示符下进行的，而且每个命令以分号结束</font></p>
<p><font color="#993300" size="3" face="宋体">。</font></p>
<p><font color="#993300" size="3" face="宋体">一、操作技巧<br>
1、如果你打命令时，回车后发现忘记加分号，你无须重打一遍命令，只要打个分号回车就可以了。也</font></p>
<p><font color="#993300" size="3" face="宋体">就是说你可以把一个完整的命令分成几行来打，完后用分号作结束标志就OK。</font></p>
<p><font color="#993300" size="3" face="宋体">2、你可以使用光标上下键调出以前的命令。但以前我用过的一个MYSQL旧版本不支持。我现在用的是</font></p>
<p><font color="#993300" size="3" face="宋体">mysql-3.23.27-beta-win。<br>
二、显示命令</font></p>
<p><font color="#993300" size="3" face="宋体">1、显示数据库列表。<br>
show databases;<br>
刚开始时才两个数据库：mysql和test。mysql库很重要它里面有MYSQL的系统信息，我们改密码和新增</font></p>
<p><font color="#993300" size="3" face="宋体">用户，实际上就是用这个库进行操作。</font></p>
<p><font color="#993300" size="3" face="宋体">2、显示库中的数据表：<br>
use mysql； ／／打开库，学过FOXBASE的一定不会陌生吧<br>
show tables;</font></p>
<p><font color="#993300" size="3" face="宋体">3、显示数据表的结构：<br>
describe 表名;</font></p>
<p><font color="#993300" size="3" face="宋体">4、建库：<br>
create database 库名;</font></p>
<p><font color="#993300" size="3" face="宋体">5、建表：<br>
use 库名；<br>
create table 表名 (字段设定列表)；</font></p>
<p><font color="#993300" size="3" face="宋体">6、删库和删表:<br>
drop database 库名;<br>
drop table 表名；</font></p>
<p><font color="#993300" size="3" face="宋体">7、将表中记录清空：<br>
delete from 表名;<br>
8、显示表中的记录：<br>
select * from 表名;<br>
三、一个建库和建表以及插入数据的实例<br>
drop database if exists school; //如果存在SCHOOL则删除<br>
create database school; //建立库SCHOOL<br>
use school; //打开库SCHOOL<br>
create table teacher //建立表TEACHER<br>
(<br>
id int(3) auto_increment not null primary key,<br>
name char(10) not null,<br>
address varchar(50) default &rsquo;深圳&rsquo;,<br>
year date<br>
); //建表结束<br>
//以下为插入字段<br>
insert into teacher values(&rsquo;&rsquo;,&rsquo;glchengang&rsquo;,&rsquo;深圳一中&rsquo;,&rsquo;1976-10-10&rsquo;);<br>
insert into teacher values(&rsquo;&rsquo;,&rsquo;jack&rsquo;,&rsquo;深圳一中&rsquo;,&rsquo;1975-12-23&rsquo;);<br>
注：在建表中（1）将ID设为长度为3的数字字段:int(3)并让它每个记录自动加一:auto_increment并不</font></p>
<p><font color="#993300" size="3" face="宋体">能为空:not null而且让他成为主字段primary key（2）将NAME设为长度为10的字符字段（3）将</font></p>
<p><font color="#993300" size="3" face="宋体">ADDRESS设为长度50的字符字段，而且缺省值为深圳。varchar和char有什么区别呢，只有等以后的文章</font></p>
<p><font color="#993300" size="3" face="宋体">再说了。（4）将YEAR设为日期字段。<br>
如果你在mysql提示符键入上面的命令也可以，但不方便调试。你可以将以上命令原样写入一个文本文</font></p>
<p><font color="#993300" size="3" face="宋体">件中假设为school.sql，然后复制到c:\\下，并在DOS状态进入目录\\mysql\\bin，然后键入以下命令</font></p>
<p><font color="#993300" size="3" face="宋体">：<br>
mysql -uroot -p密码 &lt; c:\\school.sql<br>
如果成功，空出一行无任何显示；如有错误，会有提示。（以上命令已经调试，你只要将//的注释去掉</font></p>
<p><font color="#993300" size="3" face="宋体">即可使用）。</font></p>
<p><font color="#993300" size="3" face="宋体">四、将文本数据转到数据库中<br>
1、文本数据应符合的格式：字段数据之间用tab键隔开，null值用\\n来代替.<br>
例：<br>
3 rose 深圳二中 1976-10-10</font></p>
<p><font color="#993300" size="3" face="宋体">4 mike 深圳一中 1975-12-23</font></p>
<p><font color="#993300" size="3" face="宋体">2、数据传入命令 load data local infile \&quot;文件名\&quot; into table 表名;</font></p>
<p><font color="#993300" size="3" face="宋体">注意：你最好将文件复制到\\mysql\\bin目录下，并且要先用use命令打表所在的库。</font></p>
<p><font color="#993300" size="3" face="宋体">五、备份数据库：（命令在DOS的\\mysql\\bin目录下执行）</font></p>
<p><font color="#993300" size="3" face="宋体">mysqldump --opt school&gt;school.bbb</font></p>
<p><font color="#993300" size="3" face="宋体">================<br>
</font></p>
<div>　　1.导出整个数据库</div>
<div> </div>
<div>　　mysqldump -u 用户名 -p 数据库名 &gt; 导出的文件名</div>
<div> </div>
<div>　　mysqldump -u wcnc -p smgp_apps_wcnc &gt; wcnc.sql</div>
<div> </div>
<div>　　2.导出一个表</div>
<div> </div>
<div>　　mysqldump -u 用户名 -p 数据库名 表名&gt; 导出的文件名</div>
<div> </div>
<div>　　mysqldump -u wcnc -p smgp_apps_wcnc users&gt; wcnc_users.sql</div>
<div> </div>
<div>　　3.导出一个数据库结构</div>
<div> </div>
<div>　　mysqldump -u wcnc -p -d --add-drop-table smgp_apps_wcnc &gt;d:wcnc_db.sql</div>
<div> </div>
<div>　　-d 没有数据 --add-drop-table 在每个create语句之前增加一个drop table</div>
<div> </div>
<div>　　4.导入数据库</div>
<div> </div>
<div>　　常用source 命令</div>
<div> </div>
<div>　　进入mysql数据库控制台，</div>
<div> </div>
<div>　　如mysql -u root -p</div>
<div> </div>
<div>　　mysql&gt;use 数据库</div>
<div> </div>
<div>　　然后使用source命令，后面参数为脚本文件(如这里用到的.sql)</div>
<div> </div>
<div>　　mysql&gt;source d:wcnc_db.sql</div>
<div> </div>
<div>hxzon:mysqldump -uroot -proot -d --add-drop-table m<br>
aterielDev &gt;c:/materielDev.sql</div></div></body></html>