<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>使用JSValidation验证 -v512 -webproject2.survey3.htm</title></head><body><h1>使用JSValidation验证 -v512 -webproject2.survey3.htm</h1><div><p>使用JSValidation验证 -v512 -webproject2.survey3.htm</p>
<p>================================================</p>
<p>解压后只有两个文件需要，一个validation-framework.js，定义所有的验证代码。</p>
<p>这个文件需要改动 var ValidationRoot = &quot;/webproject2/js/&quot;; 改为自己validation-config.xml文件的位置。</p>
<p>另一个是validation-config.xml，定义本应用需要的验证。</p>
<p>=======validation-config.xml==========================</p>
<p>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;<br>
&lt;!DOCTYPE validation-config SYSTEM &quot;validation-config.dtd&quot;&gt;<br>
&lt;validation-config lang=&quot;auto&quot;&gt;<br>
&lt;form id=&quot;form1&quot; show-error=&quot;error&quot; show-type=&quot;all&quot;&gt;<br>
&nbsp;&nbsp;  &lt;field name=&quot;name&quot; display-name=&quot;用户名&quot; onfail=&quot;&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;  &lt;depend name=&quot;required&quot; /&gt;<br>
&nbsp;&nbsp;&nbsp;  &lt;depend name=&quot;commonChar&quot; /&gt;<br>
&nbsp;&nbsp;&nbsp;  &lt;depend name=&quot;minLength&quot; param0=&quot;3&quot;/&gt;<br>
&nbsp;&nbsp;&nbsp;  &lt;depend name=&quot;maxLength&quot; param0=&quot;20&quot;/&gt;<br>
&nbsp;&nbsp;  &lt;/field&gt;<br>
&nbsp;&nbsp;  &lt;field name=&quot;email&quot; display-name=&quot;email邮箱&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;  &lt;depend name=&quot;required&quot; /&gt;<br>
&nbsp;&nbsp;&nbsp;  &lt;depend name=&quot;email&quot; /&gt;<br>
&nbsp;&nbsp;  &lt;/field&gt;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;  &lt;field name=&quot;age&quot; display-name=&quot;年纪&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;  &lt;depend name=&quot;required&quot; /&gt;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;  &lt;/field&gt;<br>
&nbsp;&nbsp;  &lt;field name=&quot;codetime&quot; display-name=&quot;编程时间&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;  &lt;depend name=&quot;required&quot; /&gt;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;  &lt;/field&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;field name=&quot;os&quot; display-name=&quot;使用的操作系统&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;  &lt;depend name=&quot;required&quot; /&gt;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;  &lt;/field&gt;<br>
&nbsp;&nbsp;  &lt;field name=&quot;language&quot; display-name=&quot;使用的编程语言&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;  &lt;depend name=&quot;required&quot; /&gt;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;  &lt;/field&gt;<br>
&nbsp;&nbsp;  &lt;field name=&quot;comments&quot; display-name=&quot;建议&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;  &lt;depend name=&quot;required&quot; /&gt;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;  &lt;/field&gt;<br>
&lt;/form&gt;</p>
<p>&lt;/validation-config&gt;</p>
<p>======================================================</p>
<p>&lt;form id=&quot;form1&quot; show-error=&quot;error&quot; show-type=&quot;all&quot;&gt; show-error=&quot;error&quot; 表示在页面显示错误。error是应用页面定义的div的id名。</p>
<p>如果为show-error=&quot;alert&quot; 会弹出错误对话框。<br>
=======================survey3.html=====================</p>
<p>&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;title&gt;潜在用户网络调查&lt;/title&gt;<br>
&lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=utf-8&quot;&gt;<br>
&lt;script language=&quot;javascript&quot; src=&quot;/webproject2/js/validation-framework.js&quot;&gt;&lt;/script&gt;<br>
&lt;/head&gt;<br>
&lt;body&gt;<br>
&lt;h1&gt;潜在用户网络调查&lt;/h1&gt;<br>
&lt;br&gt;<br>
&lt;div id=&quot;error&quot; style=&quot;color:red;font-weight:bold&quot;&gt;&lt;/div&gt;<br>
&lt;form method=&quot;POST&quot; action=&quot;/webproject2/servlet/survey&quot; id=&quot;form1&quot; onsubmit=&quot;return dovalidate(this)&quot;&gt;<br>
&lt;table border=&quot;0&quot;&gt;<br>
&lt;tr&gt;<br>
&lt;td align=&quot;right&quot;&gt;姓名：&lt;/td&gt;<br>
&lt;td colspan=&quot;2&quot; align=&quot;left&quot;&gt;&lt;input type=&quot;text&quot; name=&quot;name&quot; size=&quot;40&quot;&gt;&lt;/td&gt;<br>
&lt;/tr&gt;<br>
&lt;tr&gt;<br>
&lt;td align=&quot;right&quot;&gt;EMAIL：&lt;/td&gt;<br>
&lt;td colspan=&quot;2&quot; align=&quot;left&quot;&gt;&lt;input type=&quot;text&quot; name=&quot;email&quot; size=&quot;40&quot;&gt;&lt;/td&gt;<br>
&lt;/tr&gt;<br>
&lt;tr&gt;<br>
&lt;td align=&quot;right&quot;&gt;年纪：&lt;/td&gt;<br>
&lt;td align=&quot;left&quot;&gt;<br>
&nbsp;&nbsp;  &lt;input type=&quot;radio&quot; name=&quot;age&quot; value=&quot;18&quot;&gt;小于18<br>
&nbsp;&nbsp;  &lt;input type=&quot;radio&quot; name=&quot;age&quot; value=&quot;18-25&quot;&gt;18 - 25<br>
&nbsp;&nbsp;  &lt;input type=&quot;radio&quot; name=&quot;age&quot; value=&quot;26-40&quot;&gt;26-40<br>
&nbsp;&nbsp;  &lt;input type=&quot;radio&quot; name=&quot;age&quot; value=&quot;&gt;40&quot;&gt;大于 40<br>
&nbsp;&nbsp;  &lt;/td&gt;<br>
&lt;/tr&gt;<br>
&lt;tr&gt;<br>
&lt;td align=&quot;right&quot;&gt;编程时间：&lt;/td&gt;<br>
&lt;td align=&quot;left&quot;&gt;<br>
&lt;select name=&quot;codetime&quot; size=&quot;1&quot;&gt;<br>
&lt;option value=&quot;never&quot;&gt;不编程<br>
&lt;option value=&quot;6&quot;&gt;&nbsp;&nbsp;  小于6个月<br>
&lt;option value=&quot;6-12&quot;&gt; 6 - 12 月<br>
&lt;option value=&quot;12-24&quot;&gt;1 - 2年<br>
&lt;option value=&quot;&gt;24&quot;&gt;2年以上<br>
&lt;/select&gt;<br>
&lt;/td&gt;<br>
&lt;/tr&gt;<br>
&lt;tr&gt;<br>
&lt;td align=&quot;right&quot;&gt;使用的操作系统&lt;/td&gt;<br>
&lt;td align=&quot;left&quot;&gt;<br>
&nbsp;&nbsp;  &lt;select name=&quot;os&quot; size=&quot;6&quot; multiple&gt;<br>
&nbsp;&nbsp;&nbsp;  &lt;option value=&quot;WinXP&quot;&gt;Win XP&lt;/option&gt;<br>
&nbsp;&nbsp;&nbsp;  &lt;option value=&quot;Win2000/2003&quot;&gt;Win 2000/2003&lt;/option&gt;<br>
&nbsp;&nbsp;&nbsp;  &lt;option value=&quot;Linux&quot;&gt;Linux&lt;/option&gt;<br>
&nbsp;&nbsp;&nbsp;  &lt;option value=&quot;FreeBSD&quot;&gt;FreeBSD&lt;/option&gt;<br>
&nbsp;&nbsp;&nbsp;  &lt;option value=&quot;MacOS&quot;&gt; Mac OS&lt;/option&gt;<br>
&nbsp;&nbsp;&nbsp;  &lt;option value=&quot;other&quot;&gt;other&lt;/option&gt;<br>
&nbsp;&nbsp;  &lt;/select&gt;<br>
&nbsp;&nbsp;  &lt;/td&gt;<br>
&lt;/tr&gt;<br>
&lt;tr&gt;<br>
&nbsp;&nbsp;  &lt;td&gt;使用的编程语言&lt;/td&gt;<br>
&nbsp;&nbsp;  &lt;td&gt;&lt;input type=&quot;checkbox&quot; name=&quot;language&quot; value=&quot;C&quot;&gt;C<br>
&lt;input type=&quot;checkbox&quot; name=&quot;language&quot; value=&quot;C++&quot;&gt;C++<br>
&lt;input type=&quot;checkbox&quot; name=&quot;language&quot; value=&quot;C#&quot;&gt;C#<br>
&lt;input type=&quot;checkbox&quot; name=&quot;language&quot; value=&quot;Python&quot;&gt;PYTHON<br>
&lt;input type=&quot;checkbox&quot; name=&quot;language&quot; value=&quot;Java&quot;&gt;JAVA<br>
&lt;input type=&quot;checkbox&quot; name=&quot;language&quot; value=&quot;VB&quot;&gt;VB<br>
&lt;input type=&quot;checkbox&quot; name=&quot;language&quot; value=&quot;Dephi&quot;&gt;DEPHI<br>
&nbsp;&nbsp;  &lt;/td&gt;<br>
&lt;/tr&gt;<br>
&lt;tr&gt;<br>
&nbsp;&nbsp;  &lt;td align=&quot;right&quot;&gt;建议：&lt;/td&gt;<br>
&nbsp;&nbsp;  &lt;td colspan=&quot;2&quot; align=&quot;left&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;  &lt;textarea name=&quot;comment&quot; cols=&quot;40&quot; rows=&quot;4&quot;&gt;&lt;/textarea&gt;<br>
&nbsp;&nbsp;&nbsp;  &lt;/td&gt;<br>
&lt;/tr&gt;<br>
&lt;tr&gt;<br>
&nbsp;&nbsp;  &lt;td&gt;&lt;/td&gt;<br>
&nbsp;&nbsp;  &lt;td&gt;<br>
&nbsp;&nbsp;&nbsp;  &lt;input type=&quot;reset&quot; value=&quot;reset&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;  &lt;input type=&quot;submit&quot; value=&quot;submit&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;  &lt;/td&gt;<br>
&lt;/tr&gt;<br>
&lt;/table&gt;<br>
&lt;/form&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <br>
========================================================</p>
<p>&lt;script language=&quot;javascript&quot; src=&quot;/webproject2/js/validation-framework.js&quot;&gt;&lt;/script&gt; 引入定义。</p>
<p>&lt;div id=&quot;error&quot; style=&quot;color:red;font-weight:bold&quot;&gt;&lt;/div&gt; 使用页面显示错误时用div指定显示位置。</p>
<p>&lt;form method=&quot;POST&quot; action=&quot;/webproject2/servlet/survey&quot; id=&quot;form1&quot; onsubmit=&quot;return dovalidate(this)&quot;&gt; 触发验证。参看下篇手册。</p></div></body></html>