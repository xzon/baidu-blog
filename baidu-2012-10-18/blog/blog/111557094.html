<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>逐行解释doctype声明 -精通HTML：语义、标准和样式</title></head><body><h1>逐行解释doctype声明 -精通HTML：语义、标准和样式</h1><div><p> </p>
<p>逐行解释doctype声明 -精通HTML：语义、标准和样式</p>
<p style="margin: 12.45pt 0cm 7.8pt" class="11">1.3 剖析XHTML文档</p>
<p style="margin-top: 5.25pt; text-indent: 20pt" class="MsoNormal">现在让我们来看看一份严格的XHTML1.0文档的结构：</p>
<p style="margin: 6.2pt 0cm" class="a"><img width="340" height="141" src="http://book.csdn.net/BookFiles/608/img/image022.jpg"></p>
<p style="margin-top: 5.25pt; text-indent: 20pt" class="MsoNormal">下面我们将逐行地解释这些标记。</p>
<p style="margin: 12.45pt 0cm 7.8pt" class="111">1.3.1 doctype声明</p>
<p style="margin-top: 5.25pt; text-indent: 20pt" class="MsoNormal">首先看看doctype声明。doctype声明指示将使用哪一个文档类型定义（Document Type Definition，DTD）来编写标记。DTD基本上就是一个详细描述标记规则和语法的页面。虽然它看上去有点让人畏惧，但是让我们把它分解开，逐个进行查看。doctype开头类似下面：</p>
<p style="margin: 4.65pt 0cm 6.2pt" class="a"><img width="52" height="9" src="http://book.csdn.net/BookFiles/608/img/image023.jpg"></p>
<p style="margin-top: 5.25pt; text-indent: 20pt" class="MsoNormal">很简单，这只是doctype的开头。文档的根元素（&lt;html&gt;元素）紧随声明的开头之后。</p>
<p style="margin: 6.2pt 0cm" class="a"><img width="83" height="9" src="http://book.csdn.net/BookFiles/608/img/image024.jpg"></p>
<p style="margin-top: 5.25pt; text-indent: 20pt" class="MsoNormal">注意，我们可以使用html或者HTML，这取决于正在使用的(X)HTML的版本。对于所有XHTML doctype，根元素都应该小写，但是对于HTML doctype，根元素可以大写（如果其余的标签也是大写的话）。</p>
<p style="margin-top: 5.25pt; text-indent: 20pt" class="MsoNormal">紧接着，我们看到了PUBLIC：</p>
<p style="margin: 6.2pt 0cm" class="a"><img width="125" height="9" src="http://book.csdn.net/BookFiles/608/img/image025.jpg"></p>
<p style="margin-top: 5.25pt; text-indent: 20pt" class="MsoNormal">这将指出我们将要引用的DTD可以公开访问。如果DTD是私有的，那么我们将使用SYSTEM而不是PUBLIC（&ldquo;系统资源&rdquo;，可能是在你的网络上某处的本地持有的资源）。</p>
<p style="margin-top: 5.25pt; text-indent: 20pt" class="MsoNormal">接着就是正式公共标识（Formal Public Identifier，FPI），它描述的是DTD和DTD背后的组织的详细信息。使用引号将FPI引起来，并使用双斜线作为分隔符。</p>
<p style="margin: 6.2pt 0cm" class="a"><img width="201" height="10" src="http://book.csdn.net/BookFiles/608/img/image026.jpg"></p>
<p style="margin-top: 5.25pt; text-indent: 20pt" class="MsoNormal">这4个字段的意思如下：</p>
<p style="margin-top: 5.45pt" class="a0">&nbsp;&nbsp;  ● 开头字符&ldquo;-&rdquo;意思是DTD的所有者并不是在国际标准化组织（International Organization for Standardization，ISO）注册的组织（W3C组织并没有在ISO注册）。如果所有者已经在ISO注册过，就应该使用&ldquo;+&rdquo;而不是&ldquo;-&rdquo;。</p>
<p class="a0">&nbsp;&nbsp;  ● &ldquo;W3C&rdquo;指出这份DTD的所有者是W3C。</p>
<p class="a0">&nbsp;&nbsp;  ● &ldquo;DTD XHTML 1.0 Strict&rdquo;是类型或者类（DTD）后面跟着描述（XHTML 1.0 Strict），描述又可以进一步划分成两部分：标签（XHTML）和文档类型定义（1.0 Strict）。类和描述分别被称为公共文本类别（Public Text Class，PTC）和公共文本描述（Public Text Description，PTD）。</p>
<p class="a0">&nbsp;&nbsp;  ● DTD的语言是&ldquo;EN&rdquo;，这是&ldquo;英语（English）&rdquo;的二字符语言代码。</p>
<p style="margin-top: 5.25pt; text-indent: 20pt" class="MsoNormal">最后，有一个指向DTD位置的URL。跟FPI类似，URL也是在双引号中声明：</p>
<p style="margin: 6.2pt 0cm" class="a"><img width="304" height="12" src="http://book.csdn.net/BookFiles/608/img/image027.jpg"></p>
<p style="margin-top: 5.25pt; text-indent: 20pt" class="MsoNormal">以上内容大致就是doctype的结构。</p>
<p style="margin-top: 5.45pt; text-indent: 20pt" class="4">1. 可用的doctype</p>
<p style="margin-top: 5.25pt; text-indent: 20pt" class="MsoNormal">XHTML 1.0共有3种doctype可用，此外还有一个XHTML1.1 doctype。这3种XHTML1.0 doctype分别是Strict、Transitional和Frameset（只有当你使用框架来为文档进行布局的时候才会有用），它们之间的差别只在于FPI和URL的不同：</p>
<p style="margin: 6.2pt 0cm" class="a"><img width="377" height="115" src="http://book.csdn.net/BookFiles/608/img/image028.jpg"></p>
<p style="margin-top: 5.25pt; text-indent: 20pt" class="MsoNormal">XHTML 1.1 doctype与XHTML 1.0 doctype之间的差别也只是在于FPI和URL的不同，但是XHTML 1.1 doctype只有一种形式，而没有Strict和Transitional这些版本：</p>
<p style="margin: 6.2pt 0cm" class="a"><img width="292" height="27" src="http://book.csdn.net/BookFiles/608/img/image029.jpg"></p>
<p style="margin-top: 5.25pt; text-indent: 20pt" class="MsoNormal">还有一个XHTML Basic doctype，那些为移动设备（比如手机）而设计的页面常使用这种经过精简的XHTML（在本书写作的时候还处于理论阶段）：</p>
<p style="margin: 6.2pt 0cm" class="a"><img width="328" height="27" src="http://book.csdn.net/BookFiles/608/img/image030.jpg"></p>
<p style="margin-top: 5.45pt; text-indent: 20pt" class="4">2. doctype的用途</p>
<p style="margin-top: 5.25pt; text-indent: 20pt" class="MsoNormal">(X)HTML中的doctype有两个重要的用途。首先，它们将提醒用户代理（user agent）和验证程序该文档使用什么DTD。这个动作是被动发生的，也就是说，浏览器不是每次装载页面的时候都要去打开和下载DTD以检查文档标记是否合法，只有当你手动检验载入页面的时候它才会执行这个动作。</p>
<p style="margin-top: 5.25pt; text-indent: 19.2pt" class="MsoNormal">第二个用途也是实际的、最重要的用途，即doctype提醒浏览器按照标准模式（standard mode）而不是怪异模式（quirks mode）来渲染文档。这就是人们所知的doctype切换（doctype switching），它被包含到浏览器中，是决定如何渲染文档的一种方式，这里的假设是如果页面作者包含了某种doctype，那么页面作者就知道自己在做什么，浏览器也会试图按照严格方式（也就是标准方式）来解释严格标记。如果没有doctype，就会触发怪异模式，这将会按照旧的不正确的方式来渲染标记。这里的假设是，如果作者没有在页面中包含doctype，那么他可能就没有编写标准的标记，因而就会按照一种非标准的方式对待这些页面，就好像这些页面是以前专门为有bug的浏览器编写的一样。</p>
<p style="margin: 10.9pt 0cm 7.8pt" class="111">1.3.2 &lt;html&gt;、&lt;head&gt;和&lt;body&gt;元素</p>
<p style="margin-top: 5.25pt; text-indent: 20pt" class="MsoNormal">紧随doctype之后的就是&lt;html&gt;开始标签，它有一个xmlns属性。这个属性被用来声明XML命名空间，描述了正常使用哪种标记语言。本例中使用的值是http://www.w3.org/1999/xhtml，它应该出现在任何XHTML文档中。</p>
<div style="border-bottom: #999999 1pt solid; padding-bottom: 4pt; border-right-style: none; padding-left: 0cm; padding-right: 0cm; margin-left: 0.5pt; border-left-style: none; border-top: #999999 1pt solid; margin-right: 0.5pt; padding-top: 4pt">
<p style="text-indent: 20pt; margin: 11.7pt 0cm" class="a1">注意：可以在CSS中为&lt;html&gt;元素设定样式，就像为其他元素设定样式一样。但是，有时候这样做会产生一些不可预知的结果。举例来说，如果在&lt;html&gt;和&lt;body&gt;中均设置了背景图片，将会遇到问题。因为IE包含了浏览器滚动条作为网页的一部分（以便可以使用CSS样式的滚动条），这样就会发现背景图片或者颜色侵入到滚动条下面，并出现在另一边。此外，为&lt;html&gt;元素设定样式还可能导致浏览器对待body元素的方式发生变化，就好像它是&lt;div&gt;而不是&lt;body&gt;。</p>
</div>
<p style="margin-top: 5.25pt; text-indent: 20pt" class="MsoNormal">在根元素&lt;html&gt;开始之后，就是文档的&lt;head&gt;部分，它包含了&lt;title&gt;，还可以包含&lt;style&gt;、&lt;script&gt;、&lt;meta&gt;和&lt;link&gt;元素。&lt;title&gt;是head中唯一的强制元素，它将会显示在浏览器的标题栏中。文档标题是文档中常常被忽略的区域，你以前一定看见过很多标题为&ldquo;无标题文档（Untitled Document）&rdquo;的页面。这是不应该发生的事情，应当给予文档标题适当的关注，因为它能够为你和你的用户提供很多好处：能够为你提供更好的搜索引擎排名，能够为用户提供更好的使用体验。</p>
<div style="border-bottom: #999999 1pt solid; padding-bottom: 4pt; border-right-style: none; padding-left: 0cm; padding-right: 0cm; margin-left: 0.5pt; border-left-style: none; border-top: #999999 1pt solid; margin-right: 0.5pt; padding-top: 4pt">
<p style="text-indent: 20pt; margin: 11.7pt 0cm" class="a1">举例来说，尝试着打开几个&ldquo;无标题文档（Untitled Document）&rdquo;的页面，最小化之后在这些页面之间进行切换，你能够区分它们吗？如果将公司名称或者网站名称放在真正的页面标题之前，也会导致同样的问题。</p>
</div>
<p style="margin-top: 5.25pt; text-indent: 20pt" class="MsoNormal">在&lt;head&gt;结束标签之后就是&lt;body&gt;起始标签，它可以包含任何不是针对head的标记：段落、列表、图片，等等。&lt;body&gt;标签还有几个可显示属性：background、text、link、vlink和alink，这些属性分别用来设置文档的背景颜色、文本颜色、链接颜色、已访问链接颜色和可激活链接颜色。所有这些属性都已经不推荐使用，而它们的效果都可以使用CSS重现。background-color、color、a:link、a:visited和a:active属性和伪类别适合于实现这些功能。</p>
<p style="margin-top: 5.25pt; text-indent: 19pt" class="MsoNormal">&lt;body&gt;结束标签之后紧接着&lt;html&gt;结束标签。这就是一份完整的XHTML文档。</p>
<p style="margin: 7.8pt 0cm" class="111">1.3.3 XML声明</p>
<p style="margin-top: 5.25pt; text-indent: 19.6pt" class="MsoNormal">在继续讲解之前，有些正在阅读这一节的细心读者可能已经注意到，我跳过了下面的一行文字：</p>
<p style="margin: 6.2pt 0cm" class="a"><img width="226" height="12" src="http://book.csdn.net/BookFiles/608/img/image031.jpg"></p>
<p style="margin-top: 5.25pt; text-indent: 20pt" class="MsoNormal">如果使用的话，这一行就会出现在开头的doctype之前。它就是人们所知的XML声明（XML declaration），它的作用就是声明这份文档是一份XML文档、XML的版本，还（可选）有文档编码所使用的字符集。虽然在W3C的推荐中包含了这个声明（但这是可选的），但这样做将会产生一些负面影响，最糟糕的就是会导致IE切换到怪异模式。如果在doctype之前出现除了空格之外的任何内容，都会导致发生上述情况。因而，最好是略去这一行。</p>
<p style="margin: 7.8pt 0cm" class="111">1.3.4 剖析HTML文档</p>
<p style="margin-top: 5.25pt; text-indent: 20pt" class="MsoNormal">现在让我们来看看同样的模板，但这次是用HTML 4.01 Strict而不是XHTML 1.0 Strict编写：</p>
<p style="margin: 6.2pt 0cm" class="a"><img width="292" height="56" src="http://book.csdn.net/BookFiles/608/img/image032.jpg"></p>
<p style="margin-top: 5.25pt; text-indent: 20pt" class="MsoNormal">这并不是笔误，如果使用HTML编写代码的话，上面的内容就是编写文档所需要的全部东西。不需要明确地编写&lt;html&gt;、&lt;head&gt;和&lt;body&gt;标签，但是仍然必须编写自己的标记，就像它们在那里一样，因为它们确实就在那里。可以在JavaScript DOM查看器中查询类似的文档，或者为&lt;body&gt;元素编写CSS规则，你将会看到这些元素确实存在，即使你并没有在文档中明确地写入这些元素，因而一定要确保将任何head专用标记（比如&lt;meta&gt;或者&lt;link&gt;标签）放置在任何&lt;body&gt;标记开始之前。因此，下面的标记是合法的，因为head和body区域都可以根据上下文推导出来。</p>
<p style="margin: 6.2pt 0cm" class="a"><img width="401" height="70" src="http://book.csdn.net/BookFiles/608/img/image034.jpg"></p>
<p style="margin-top: 5.25pt; text-indent: 20pt" class="MsoNormal">但是下面的标记并不合法，因为&lt;meta&gt;出现在&lt;p&gt;之后，而&lt;p&gt;标记的出现已经表明head区域已经结束，body区域已经开始了：</p>
<p style="margin: 6.2pt 0cm" class="a"><img width="401" height="70" src="http://book.csdn.net/BookFiles/608/img/image035.jpg"></p>
<p style="margin: 6.2pt 0cm" class="a">《1.3 剖析XHTML文档 -精通HTML：语义、标准和样式》</p></div></body></html>