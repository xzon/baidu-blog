<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Linux操作系统中RPM命令参数的使用详解 -hxzon动手  -gdo</title></head><body><h1>Linux操作系统中RPM命令参数的使用详解 -hxzon动手  -gdo</h1><div><p>Linux操作系统中RPM命令参数的使用详解 -hxzon动手 -gdo</p>
<p style="text-indent: 2em">在Linux操作系统中，有一个系统软件包，它的功能类似于Windows里面的&ldquo;添加/删除程序&rdquo;，但是功能又比&ldquo;添加/删除程序&rdquo;强很多，它就是Red Hat Package Manager(简称RPM)。</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">此工具包最先是由Red Hat公司推出的，后来被其他Linux开发商所借用。由于它为Linux使用者省去了很多时间，所以被广泛应用于在Linux下安装、删除软件。</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">下面就给大家介绍一下它的具体使用方法。</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">[root@ford /root] # rpm -qa | more1.</p>
<p style="text-indent: 2em">我们得到一个新软件，在安装之前，一般都要先查看一下这个软件包里有什么内容，假设这个文件是：Linux-1.4-6.i368.rpm，我们可以用这条命令查看：</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">rpm -qpi Linux-1.4-6.i368.rpm</p>
<p style="text-indent: 2em">系统将会列出这个软件包的详细资料，包括含有多少个文件、各文件名称、文件大小、创建时间、编译日期等信息。</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">2.上面列出的所有文件在安装时不一定全部安装，就像Windows下程序的安装方式分为典型、完全、自定义一样，Linux也会让你选择安装方式，此时我们可以用下面这条命令查看软件包将会在系统里安装哪些部分，以方便我们的选择：</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">rpm -qpl Linux-1.4-6.i368.rpm3.</p>
<p style="text-indent: 2em">选择安装方式后，开始安装。我们可以用</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">rpm-ivh Linux-1.4-6.i368.rpm</p>
<p style="text-indent: 2em">命令安装此软件。在安装过程中，若系统提示此软件已安装过或因其他原因无法继续安装，但若我们确实想执行安装命令，可以在 -ivh后加一参数&ldquo;-replacepkgs&rdquo;：</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">rpm -ivh -replacepkgs Linux-1.4-6.i368.rpm4.</p>
<p style="text-indent: 2em">有时我们卸载某个安装过的软件，只需执行</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">rpm-e ＜文件名＞命令即可。对低版本软件进行升级是提高其功能的好办法，这样可以省去我们卸载后再安装新软件的麻烦，要升级某个软件，只须执行如下命令：</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">rpm -uvh ＜文件名＞</p>
<p style="text-indent: 2em">，注意：此时的文件名必须是要升级软件的升级补丁6.另外一个安装软件的方法可谓是Linux的独到之处，同时也是RMP强大功能的一个表现：通过FTP站点直接在线安装软件。当找到含有你所需软件的站点并与此网站连接后，执行下面的命令即可实现在线安装，譬如在线安装Linux-1.4-6.i368.rpm，可以用命令：</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">rpm -i linux/redhat/...-1.4-6.i368.rpm7.&gt;ftp://ftp.pht.com/pub/linux/redhat/...-1.4-6.i368.rpm</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">在我们使用电脑过程中，难免会有误操作，若我们误删了几个文件而影响了系统的性能时，怎样查找到底少了哪些文件呢?RPM软件包提供了一个查找损坏文件的功能，执行此命令：</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">rpm -Va</p>
<p style="text-indent: 2em">即可，Linux将为你列出所有损坏的文件。你可以通过Linux的安装光盘进行修复。Linux系统中文件繁多，在使用过程中，难免会碰到我们不认识的文件，在Windows下我们可以用&ldquo;开始/查找&rdquo;菜单快速判断某个文件属于哪个文件夹，在Linux中，下面这条命令行可以帮助我们快速判定某个文件属于哪个软件包：</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">rpm -qf ＜文件名＞</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">当每个软件包安装在Linux系统后，安装文件都会到RPM数据库中&ldquo;报到&rdquo;，所以，我们要查询某个已安装软件的属性时，只需到此数据库中查找即可。注意：此时的查询命令不同刚才的一些介绍的查询，这种方法只适用于已安装过的软件包！命令格式：一、安装 命令格式：</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">rpm -i ( or --install) options file1.rpm ... fileN.rpm</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">参数： file1.rpm ... fileN.rpm 将要安装的RPM包的文件名 详细选项：</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">-h (or --hash) 安装时输出hash记号 (``#'')</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--test 只对安装进行测试，并不实际安装。</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--percent 以百分比的形式输出安装的进度。</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--excludedocs 不安装软件包中的文档文件</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--includedocs 安装文档</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--replacepkgs 强制重新安装已经安装的软件包</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--replacefiles 替换属于其它软件包的文件</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--force 忽略软件包及文件的冲突</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--noscripts 不运行预安装和后安装脚本</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--prefix ＜path＞ 将软件包安装到由 ＜path＞ 指定的路径下</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--ignorearch 不校验软件包的结构</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--ignoreos 不检查软件包运行的操作系统</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--nodeps 不检查依赖性关系</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--ftpproxy ＜host＞ 用 ＜host＞ 作为 FTP代理</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--ftpport ＜port＞ 指定FTP的端口号为 ＜port＞ 通用选项</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">-v 显示附加信息 -vv 显示调试信息</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--root ＜path＞ 让RPM将＜path＞指定的路径做为&quot;根目录&quot;，这样预安装程序和后安装程序都会安装到这个目录下</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--rcfile ＜rcfile＞ 设置rpmrc文件为 ＜rcfile＞</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--dbpath ＜path＞ 设置RPM 资料库存所在的路径为 ＜path＞ 二、删除 命令格式：</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">rpm -e ( or --erase) options pkg1 ... pkgN 参数 pkg1 ... pkgN ：要删除的软件包 详细选项</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--test 只执行删除的测试</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--noscripts 不运行预安装和后安装脚本程序</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--nodeps 不检查依赖性 通用选项</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">-vv 显示调试信息</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--root ＜path＞ 让RPM将＜path＞指定的路径做为&quot;根目录&quot;，这样预安装程序和后安装程序都会安装到这个目录下</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--rcfile ＜rcfile＞ 设置rpmrc文件为 ＜rcfile＞</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--dbpath ＜path＞ 设置RPM 资料库存所在的路径为 ＜path＞</p>
<p style="text-indent: 2em">升级 命令格式 rpm -U ( or --upgrade) options file1.rpm ... fileN.rpm 参数 file1.rpm ... fileN.rpm 软件包的名字 详细选项</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">-h (or --hash) 安装时输出hash记号 (``#'')</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--oldpackage 允许&quot;升级&quot;到一个老版本 --test 只进行升级测试</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--excludedocs 不安装软件包中的文档文件</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--includedocs 安装文档 --replacepkgs 强制重新安装已经安装的软件包</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--replacefiles 替换属于其它软件包的文件</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--force 忽略软件包及文件的冲突</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--percent 以百分比的形式输出安装的进度。</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--noscripts 不运行预安装和后安装脚本</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--prefix ＜path＞ 将软件包安装到由 ＜path＞ 指定的路径下</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--ignorearch 不校验软件包的结构</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--ignoreos 不检查软件包运行的操作系统</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--nodeps 不检查依赖性关系 --ftpproxy ＜host＞ 用 ＜host＞ 作为 FTP代理</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--ftpport ＜port＞ 指定FTP的端口号为 ＜port＞ 通用选项</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">-v 显示附加信息 -vv 显示调试信息</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--root ＜path＞ 让RPM将＜path＞指定的路径做为&quot;根目录&quot;，这样预安装程序和后安装程序都会安装到这个目录下</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--rcfile ＜rcfile＞ 设置rpmrc文件为 ＜rcfile＞</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--dbpath ＜path＞ 设置RPM 资料库存所在的路径为 ＜path＞</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">查询 命令格式： rpm -q ( or --query) options 参数： pkg1 ... pkgN ：查询已安装的软件包 详细选项</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">-p ＜file＞(or ``-'') 查询软件包的文件</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">-f ＜file＞ 查询＜file＞属于哪个软件包</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">-a 查询所有安装的软件包</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--whatprovides ＜x＞ 查询提供了 ＜x＞功能的软件包 -g ＜group＞ 查询属于＜group＞ 组的软件包</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--whatrequires ＜x＞ 查询所有需要 ＜x＞ 功能的软件包 信息选项 ＜null＞ 显示软件包的全部标识</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">-i 显示软件包的概要信息</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">-l 显示软件包中的文件列表</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">-c 显示配置文件列表</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">-d 显示文档文件列表</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">-s 显示软件包中文件列表并显示每个文件的状态</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--scripts 显示安装、卸载、校验脚本</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--queryformat (or --qf) 以用户指定的方式显示查询信息</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--dump 显示每个文件的所有已校验信息</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--provides 显示软件包提供的功能</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--requires (or -R) 显示软件包所需的功能 通用选项</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">-v 显示附加信息 -vv 显示调试信息</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--root ＜path＞ 让RPM将＜path＞指定的路径做为&quot;根目录&quot;，这样预安装程序和后安装程序都会安装到这个目录下</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--rcfile ＜rcfile＞ 设置rpmrc文件为 ＜rcfile＞</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--dbpath ＜path＞ 设置RPM 资料库存所在的路径为 ＜path＞</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">校验已安装的软件包 命令格式： rpm -V ( or --verify, or -y) options 参数 pkg1 ... pkgN 将要校验的软件包名 软件包选项</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">-p ＜file＞ Verify against package file ＜file＞</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">-f ＜file＞ 校验＜file＞所属的软件包</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">-a Verify 校验所有的软件包</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">-g ＜group＞ 校验所有属于组 ＜group＞ 的软件包 详细选项</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--noscripts 不运行校验脚本</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--nodeps 不校验依赖性</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--nofiles 不校验文件属性 通用选项</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">-v 显示附加信息</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">-vv 显示调试信息</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--root ＜path＞ 让RPM将＜path＞指定的路径做为&quot;根目录&quot;，这样预安装程序和后安装程序都会安装到这个目录下</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--rcfile ＜rcfile＞ 设置rpmrc文件为 ＜rcfile＞</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--dbpath ＜path＞ 设置RPM 资料库存所在的路径为 ＜path＞</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">校验软件包中的文件 语法： rpm -K ( or --checksig) options file1.rpm ... fileN.rpm 参数： file1.rpm ... fileN.rpm 软件包的文件名 Checksig--详细选项</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--nopgp 不校验PGP签名 通用选项</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">-v 显示附加信息</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">-vv 显示调试信息</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--rcfile ＜rcfile＞ 设置rpmrc文件为 ＜rcfile＞</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">其它RPM选项</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--rebuilddb 重建RPM资料库</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--initdb 创建一个新的RPM资料库</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--quiet 尽可能的减少输出</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--help 显示帮助文件</p>
<p style="text-indent: 2em"> </p>
<p style="text-indent: 2em">--version 显示RPM的当前版本</p></div></body></html>