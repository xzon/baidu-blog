<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>org.objectweb.asm.ClassVisitor.visit  -hxzon动手 -gdo</title></head><body><h1>org.objectweb.asm.ClassVisitor.visit  -hxzon动手 -gdo</h1><div><p> </p>
<p>org.objectweb.asm.ClassVisitor.visit -hxzon动手 -gdo</p>
<p>java.lang.NoSuchMethodError: org.objectweb.asm.ClassVisitor.visit(IILjava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;)V -hxzon动手 -gdo</p>
<p>spring2.5+hibernate3.2出错。</p>
<p>---------------------------------------------<br>
2008-10-22 21:19:06 org.apache.catalina.core.AprLifecycleListener init<br>
信息: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: D:\big\MyEclipse\bin;D:\big\Tomcat6.0\bin<br>
2008-10-22 21:19:06 org.apache.coyote.http11.Http11Protocol init<br>
信息: Initializing Coyote HTTP/1.1 on http-8080<br>
2008-10-22 21:19:06 org.apache.catalina.startup.Catalina load<br>
信息: Initialization processed in 591 ms<br>
2008-10-22 21:19:06 org.apache.catalina.core.StandardService start<br>
信息: Starting service Catalina<br>
2008-10-22 21:19:06 org.apache.catalina.core.StandardEngine start<br>
信息: Starting Servlet Engine: Apache Tomcat/6.0.16<br>
2008-10-22 21:19:08 org.apache.catalina.core.StandardContext addApplicationListener<br>
信息: The listener &quot;org.springframework.web.context.ContextLoaderListener&quot; is already configured for this context. The duplicate definition has been ignored.<br>
2008-10-22 21:19:08 org.apache.catalina.core.ApplicationContext log<br>
信息: Initializing Spring root WebApplicationContext<br>
log4j:WARN No appenders could be found for logger (org.springframework.web.context.ContextLoader).<br>
log4j:WARN Please initialize the log4j system properly.<br>
2008-10-22 21:19:11 org.apache.catalina.core.StandardContext addApplicationListener<br>
信息: The listener &quot;org.springframework.web.context.ContextLoaderListener&quot; is already configured for this context. The duplicate definition has been ignored.<br>
log4j:WARN No appenders could be found for logger (org.springframework.util.ClassUtils).<br>
log4j:WARN Please initialize the log4j system properly.<br>
2008-10-22 21:19:12 org.apache.catalina.core.ApplicationContext log<br>
信息: Initializing Spring root WebApplicationContext<br>
2008-10-22 21:19:16 org.apache.catalina.core.StandardContext listenerStart<br>
严重: Exception sending context initialized event to listener instance of class org.springframework.web.context.ContextLoaderListener<br>
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Invocation of init method failed; nested exception is java.lang.NoSuchMethodError: org.objectweb.asm.ClassVisitor.visit(IILjava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;)V<br>
at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1336)<br>
at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:471)<br>
at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(AbstractAutowireCapableBeanFactory.java:409)<br>
at java.security.AccessController.doPrivileged(Native Method)<br>
at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:380)<br>
at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:264)<br>
at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:220)<br>
at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:261)<br>
at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:185)<br>
at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:164)<br>
at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:423)<br>
at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:729)<br>
at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:381)<br>
at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:255)<br>
at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:199)<br>
at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:45)<br>
at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:3843)<br>
at org.apache.catalina.core.StandardContext.start(StandardContext.java:4350)<br>
at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:791)<br>
at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:771)<br>
at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:525)<br>
at org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:924)<br>
at org.apache.catalina.startup.HostConfig.deployDirectories(HostConfig.java:887)<br>
at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:492)<br>
at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1147)<br>
at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:311)<br>
at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:117)<br>
at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1053)<br>
at org.apache.catalina.core.StandardHost.start(StandardHost.java:719)<br>
at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1045)<br>
at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:443)<br>
at org.apache.catalina.core.StandardService.start(StandardService.java:516)<br>
at org.apache.catalina.core.StandardServer.start(StandardServer.java:710)<br>
at org.apache.catalina.startup.Catalina.start(Catalina.java:578)<br>
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)<br>
at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)<br>
at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)<br>
at java.lang.reflect.Method.invoke(Unknown Source)<br>
at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:288)<br>
at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:413)<br>
Caused by: java.lang.NoSuchMethodError: org.objectweb.asm.ClassVisitor.visit(IILjava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;)V<br>
at net.sf.cglib.core.ClassEmitter.begin_class(ClassEmitter.java:77)<br>
at net.sf.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:173)<br>
at net.sf.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)<br>
at net.sf.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:216)<br>
at net.sf.cglib.core.KeyFactory$Generator.create(KeyFactory.java:145)<br>
at net.sf.cglib.core.KeyFactory.create(KeyFactory.java:117)<br>
at net.sf.cglib.core.KeyFactory.create(KeyFactory.java:108)<br>
at net.sf.cglib.core.KeyFactory.create(KeyFactory.java:104)<br>
at net.sf.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:69)<br>
at org.hibernate.proxy.pojo.cglib.CGLIBLazyInitializer.getProxyFactory(CGLIBLazyInitializer.java:117)<br>
at org.hibernate.proxy.pojo.cglib.CGLIBProxyFactory.postInstantiate(CGLIBProxyFactory.java:43)<br>
at org.hibernate.tuple.entity.PojoEntityTuplizer.buildProxyFactory(PojoEntityTuplizer.java:162)<br>
at org.hibernate.tuple.entity.AbstractEntityTuplizer.&lt;init&gt;(AbstractEntityTuplizer.java:135)<br>
at org.hibernate.tuple.entity.PojoEntityTuplizer.&lt;init&gt;(PojoEntityTuplizer.java:55)<br>
at org.hibernate.tuple.entity.EntityEntityModeToTuplizerMapping.&lt;init&gt;(EntityEntityModeToTuplizerMapping.java:56)<br>
at org.hibernate.tuple.entity.EntityMetamodel.&lt;init&gt;(EntityMetamodel.java:295)<br>
at org.hibernate.persister.entity.AbstractEntityPersister.&lt;init&gt;(AbstractEntityPersister.java:434)<br>
at org.hibernate.persister.entity.SingleTableEntityPersister.&lt;init&gt;(SingleTableEntityPersister.java:109)<br>
at org.hibernate.persister.PersisterFactory.createClassPersister(PersisterFactory.java:55)<br>
at org.hibernate.impl.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:226)<br>
at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1294)<br>
at org.springframework.orm.hibernate3.LocalSessionFactoryBean.newSessionFactory(LocalSessionFactoryBean.java:814)<br>
at org.springframework.orm.hibernate3.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:732)<br>
at org.springframework.orm.hibernate3.AbstractSessionFactoryBean.afterPropertiesSet(AbstractSessionFactoryBean.java:211)<br>
at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1367)<br>
at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1333)<br>
... 39 more<br>
2008-10-22 21:19:16 org.apache.catalina.core.StandardContext start<br>
严重: Error listenerStart<br>
2008-10-22 21:19:16 org.apache.catalina.core.StandardContext start<br>
严重: Context [/hs] startup failed due to previous errors<br>
2008-10-22 21:19:16 org.apache.catalina.core.ApplicationContext log<br>
信息: Closing Spring root WebApplicationContext<br>
2008-10-22 21:19:16 org.apache.coyote.http11.Http11Protocol start<br>
信息: Starting Coyote HTTP/1.1 on http-8080<br>
2008-10-22 21:19:17 org.apache.jk.common.ChannelSocket init<br>
信息: JK: ajp13 listening on /0.0.0.0:8009<br>
2008-10-22 21:19:17 org.apache.jk.server.JkMain start<br>
信息: Jk running ID=0 time=0/47 config=null<br>
2008-10-22 21:19:17 org.apache.catalina.startup.Catalina start<br>
信息: Server startup in 10268 ms</p>
<p>-------------------------------------------<br>
hxzon:Spring 和 Hibernate 共用的一些 jar 文件发生了版本冲突, 删除 WEB-INF/lib/asm-2.2.3.jar 然后重启 Tomcat.</p>
<p>ok;</p></div></body></html>