<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Facelets 标签参考 1 -grule</title></head><body><h1>Facelets 标签参考 1 -grule</h1><div><div>
<p style="margin-bottom: 0cm">Facelets 标签参考 1 -grule</p>
<p>lxm翻译自《Facelets Essentials: Guide to JavaServer&#8482; Faces View Definition Framework 》</p>
<p>不当之处欢迎指正。</p>
<p> </p>
<h3>&lt;ui:component/&gt;</h3>
<p> </p>
<p>&lt;ui:component&gt; 标签在 JSF 组件树中插入一个 UIComponet 实例，并作为所有它所包含的组件或内容片断的根节点。表格 1-4 列出它的属性。</p>
<p>表格 1-4: &lt;ui:component&gt; 标签属性</p>
<table border="1" cellspacing="0" cellpadding="4">
    <colgroup><col></col><col></col><col></col></colgroup>
    <tbody>
        <tr>
            <td>
            <p>属性名称</p>
            </td>
            <td>
            <p>必需</p>
            </td>
            <td>
            <p>描述</p>
            </td>
        </tr>
        <tr>
            <td>
            <p>id</p>
            </td>
            <td>
            <p>否</p>
            </td>
            <td>
            <p>和所有的组件一样，可以这它提供一个 id, 如果没有设置， Facelets 将按照 JSF 的规则为它创建一个。</p>
            </td>
        </tr>
        <tr>
            <td>
            <p>binding</p>
            </td>
            <td>
            <p>否</p>
            </td>
            <td>
            <p>按照 JSF 的规范 , 这个属性的作用是通过指向 Managed Bean 的一个属性来引用 UIComponet 的实例 , 如果 Managed Bean 的这个个属性没有事先初始化， UIComponet 实例将惰性 (lazily) 被创建 .</p>
            </td>
        </tr>
    </tbody>
</table>
<p> </p>
<p>这个标签以外的内容将被编译器忽略 , 因此不会显示在视图中。</p>
<p> </p>
<p>这里以及这里以前的内容将被忽略</p>
<p>&lt;ui:component binding=&quot;#{backingBean.myComponent}&quot;&gt;</p>
<p>&lt;div&gt;The directory contains #{totalBirds} birds!&lt;/div&gt;</p>
<p>&lt;/ui:component&gt;</p>
<p>这里以及这里后的内容将被忽略</p>
<p> </p>
<p>产生的 Html 输出为：</p>
<p>The directory contains #{totalBirds} birds!</p>
<p> </p>
<h3>&lt;ui:fragment/&gt;</h3>
<p>&lt;ui:fragment&gt; 标签相似，不同的是 &lt;ui:fragment&gt; 标签外部的内容不会被忽略。下列表格列出它的属性。</p>
<p>表格 : &lt;ui:fragment&gt; 标签属性</p>
<table border="1" cellspacing="0" cellpadding="4">
    <colgroup><col></col><col></col><col></col></colgroup>
    <tbody>
        <tr>
            <td>
            <p>属性名称</p>
            </td>
            <td>
            <p>必需</p>
            </td>
            <td>
            <p>描述</p>
            </td>
        </tr>
        <tr>
            <td>
            <p>id</p>
            </td>
            <td>
            <p>否</p>
            </td>
            <td>
            <p>和所有的组件一样，可以这它提供一个 id, 如果没有设置， Facelets 将按照 JSF 的规则为它创建一个。</p>
            </td>
        </tr>
        <tr>
            <td>
            <p>binding</p>
            </td>
            <td>
            <p>否</p>
            </td>
            <td>
            <p>按照 JSF 的规范 , 这个属性的作用是通过指向 Managed Bean 的一个属性来引用 UIComponet 的实例 , 如果 Managed Bean 的这个个属性没有事先初始化， UIComponet 实例将惰性 (lazily) 被创建 .</p>
            </td>
        </tr>
    </tbody>
</table>
<p>&lt;ui:component&gt; 标签在 JSF 组件树中插入一个 UIComponet 实例，并作为标签内部所有它所包含的组件或内容片断的根节点 , 标签外部的内容编译时会被包含进来。</p>
<p>举例：</p>
<p>This will not be ignored</p>
<p>&lt;ui:fragment&gt;</p>
<p>&lt;div&gt;</p>
<p>&lt;h:outputText value=&quot;I want #{eagle.total} eagles.&quot;/&gt;</p>
<p>&lt;/div&gt;</p>
<p>&lt;/ui:fragment&gt;</p>
<p>This will not be ignored</p>
<p>产生输出：</p>
<p>This will not be ignored</p>
<p>&lt;div&gt;I want 3 eagles.&lt;/div&gt;</p>
<p>This will not be ignored</p>
<p> </p>
<h3>&lt;ui:composition/&gt;</h3>
<p>&lt;ui:composition&gt; 标签是一个模板标签，它将一些可以被其它 Facelets 页面所包含的内容封装起来。表格 1-5 列出它的属性。</p>
<p>表格 1-5: &lt;ui:component&gt; 标签属性</p>
<table border="1" cellspacing="0" cellpadding="4">
    <colgroup><col></col><col></col><col></col></colgroup>
    <tbody>
        <tr>
            <td>
            <p>属性名称</p>
            </td>
            <td>
            <p>必需</p>
            </td>
            <td>
            <p>描述</p>
            </td>
        </tr>
        <tr>
            <td>
            <p>template</p>
            </td>
            <td>
            <p>否</p>
            </td>
            <td>
            <p>将在标签开始和结束之间显示的模板文件所在的路径</p>
            </td>
        </tr>
    </tbody>
</table>
<p> </p>
<p>&lt;ui:composition&gt; 指定使用哪个模版文件，然后通过 &lt;ui:define&gt; 对模版文件中每个可供插入的&ldquo; &lt;ui:insert&gt; 锚点&rdquo;进行定义。 在运行期，具体的内容将会被插入到 &lt;ui:composition&gt; 中定义的锚点位置。</p>
<p>和 ui:component 一样，这个标签以外的内容将被编译器忽略 , 不会显示在视图中 , 和 ui:component 不同的是， ui:composition 不会在组件树上创建节点。</p>
<p> </p>
<p>这里以及这里以前的内容将被忽略</p>
<p>&lt;ui:composition&gt;</p>
<p>&lt;h:outputText value=&quot;#{bird.lifeExpectancy}&quot; /&gt;</p>
<p>&lt;/ui:composition&gt;</p>
<p>这里以及这里后的内容将被忽略</p>
<p> </p>
<p>例如 :</p>
<p>&lt;ui:composition template=&quot;bird-template.xhtml&quot;&gt;</p>
<p>&lt;ui:define name=&quot;title&quot;&gt;Input Name&lt;/ui:define&gt;</p>
<p>&lt;ui:define name=&quot;summary&quot;&gt;</p>
<p>&lt;h:panelGrid columns=&quot;2&quot;&gt;</p>
<p>&lt;h:outputText value=&quot;Bird Name&quot;/&gt;</p>
<p>&lt;h:outputText value=&quot;#{bird.name}&quot;/&gt; 34 Facelets Essentials</p>
<p>&lt;h:outputText value=&quot;Life expectancy&quot;/&gt;</p>
<p>&lt;h:outputText value=&quot;#{bird.lifeExpectancy}&quot;/&gt;</p>
<p>&lt;/h:panelGrid&gt;</p>
<p>&lt;/ui:define&gt;</p>
<p>&lt;/ui:composition&gt;</p>
<p> </p>
<p>这样 composition 标签内的内容按 bird-template.xhtml 模板文件的定义显示 , 模板文件中中必须有 &lt;ui:insert name=&quot;title&quot;&gt; 和 &lt;ui:insert name=&quot;summary&quot;&gt; 的定义。</p>
<p>创建一个组合视图主要使用 ui:composition, ui:define 和 ui:insert 标签。</p>
<p> </p>
<h3>&lt;ui:decorate/&gt;</h3>
<p>&lt;ui:decorate&gt; 标签和 &lt;ui:composition&gt; 标签相似，唯一不同的是它不忽略标签外部的内容。</p>
<p>表格 1-6 列出它的属性。</p>
<p>表格 1-6: &lt;ui:decorate&gt; 标签属性</p>
<table border="1" cellspacing="0" cellpadding="4">
    <colgroup><col></col><col></col><col></col></colgroup>
    <tbody>
        <tr>
            <td>
            <p>属性名称</p>
            </td>
            <td>
            <p>必需</p>
            </td>
            <td>
            <p>描述</p>
            </td>
        </tr>
        <tr>
            <td>
            <p>template</p>
            </td>
            <td>
            <p>否</p>
            </td>
            <td>
            <p>将在标签开始和结束之间显示的模板文件所在的路径</p>
            </td>
        </tr>
    </tbody>
</table>
<p>例子：</p>
<p>Listing 1-10. box-template.xhtml</p>
<p>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD &not;</p>
<p>XHTML 1.0 Transitional//EN&quot;</p>
<p>&quot;http://www.w3.org/TR/xhtml1/DTD/ &not;</p>
<p>xhtml1-transitional.dtd&quot;&gt;</p>
<p>&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;</p>
<p>xmlns:ui=&quot;http://java.sun.com/jsf/facelets&quot;&gt; 36 Facelets Essentials</p>
<p>&lt;body&gt;</p>
<p>&lt;ui:composition&gt;</p>
<p>&lt;div style=&quot;border: 1px solid black; display:block&quot;&gt;</p>
<p>&lt;ui:insert name=&quot;header&quot;/&gt;</p>
<p>&lt;/div&gt;</p>
<p>&lt;div style=&quot;border: 1px solid black; display:block&quot;&gt;</p>
<p>&lt;ui:insert name=&quot;content&quot;/&gt;</p>
<p>&lt;/div&gt;</p>
<p>&lt;/ui:composition&gt;</p>
<p>&lt;/body&gt;</p>
<p>&lt;/html&gt;</p>
<p> </p>
<p> </p>
<p>Listing 1-11. decorate-example.xhtml</p>
<p>&lt;!DOCTYPE html</p>
<p>PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;</p>
<p>&quot;http://www.w3.org/TR/xhtml1/DTD/ &not;</p>
<p>xhtml1-transitional.dtd&quot;&gt;</p>
<p>&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;</p>
<p>xmlns:ui=&quot;http://java.sun.com/jsf/facelets&quot;</p>
<p>xmlns:h=&quot;http://java.sun.com/jsf/html&quot;&gt;</p>
<p>&lt;head&gt;</p>
<p>&lt;title&gt;Decorate example&lt;/title&gt;</p>
<p>&lt;/head&gt;</p>
<p>&lt;body&gt;</p>
<p>&lt;p&gt;These are the birds in today's menu:&lt;/p&gt;</p>
<p>&lt;ui:decorate template=&quot;box-template.xhtml&quot;&gt;</p>
<p>&lt;ui:define name=&quot;header&quot;&gt;</p>
<p>Happy Parrot</p>
<p>&lt;/ui:define&gt;</p>
<p>&lt;ui:define name=&quot;content&quot;&gt;</p>
<p>How many parrots do you want?</p>
<p>&lt;h:inputText value=&quot;3&quot;/&gt;</p>
<p>&lt;/ui:define&gt;</p>
<p>&lt;/ui:decorate&gt;</p>
<p>&lt;br/&gt;</p>
<p>&lt;ui:decorate template=&quot;box-template.xhtml&quot;&gt;</p>
<p>&lt;ui:define name=&quot;header&quot;&gt;</p>
<p>Mighty Eagle</p>
<p>&lt;/ui:define&gt;</p>
<p>&lt;ui:define name=&quot;content&quot;&gt;</p>
<p>Eagles are not available now.</p>
<p>&lt;/ui:define&gt;</p>
<p>&lt;/ui:decorate&gt;</p>
<p>&lt;/body&gt;</p>
<p>&lt;/html&gt;</p>
<p> </p>
<p>html 输出内容 :</p>
<p>&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;</p>
<p>&lt;head&gt;</p>
<p>&lt;title&gt;Decorate example&lt;/title&gt;</p>
<p>&lt;/head&gt;</p>
<p>&lt;body&gt;</p>
<p>&lt;p&gt;These are the birds in today's menu:&lt;/p&gt;</p>
<p>&lt;div style=&quot;border: 1px solid black; display:block&quot;&gt;</p>
<p>Happy Parrot</p>
<p>&lt;/div&gt;</p>
<p>&lt;div style=&quot;border: 1px solid black; display:block&quot;&gt;</p>
<p>How many parrots do you want?</p>
<p>&lt;input id=&quot;_id6&quot; name=&quot;_id6&quot;</p>
<p>type=&quot;text&quot; value=&quot;3&quot; /&gt;</p>
<p>&lt;/div&gt;</p>
<p>&lt;br/&gt;</p>
<p>&lt;div style=&quot;border: 1px solid black; display:block&quot;&gt;</p>
<p>Mighty Eagle</p>
<p>&lt;/div&gt;</p>
<p>&lt;div style=&quot;border: 1px solid black; display:block&quot;&gt;</p>
<p>Eagles are not available now.</p>
<p>&lt;/div&gt;</p>
<p>&lt;/body&gt;</p>
<p>&lt;/html&gt;</p>
<p> </p>
<h3>&lt;ui:define/&gt;</h3>
<p>ui:define 标签用于将命名的内容插入到模板中 , 它在模板标签（如 composition 和 decorate ）的内部使用。 Define 的 name 属性必须和目标模板中 ui:insert 标签的 name 属性一致。表格 1-7 列出它的属性。</p>
<p>表格 1-7: &lt;ui:define&gt; 标签属性</p>
<table border="1" cellspacing="0" cellpadding="4">
    <colgroup><col></col><col></col><col></col></colgroup>
    <tbody>
        <tr>
            <td>
            <p>属性名称</p>
            </td>
            <td>
            <p>必需</p>
            </td>
            <td>
            <p>描述</p>
            </td>
        </tr>
        <tr>
            <td>
            <p>name</p>
            </td>
            <td>
            <p>是</p>
            </td>
            <td>
            <p>必须和目标模板中 ui:insert 标签的 name 属性一致</p>
            </td>
        </tr>
    </tbody>
</table>
<p>举例 1:</p>
<p>&lt;ui:decorate template=&quot;box-template.xhtml&quot;&gt;</p>
<p>&lt;ui:define name=&quot;header&quot;&gt;</p>
<p>Happy Parrot</p>
<p>&lt;/ui:define&gt;</p>
<p>this will be removed</p>
<p>&lt;ui:define name=&quot;content&quot;&gt;</p>
<p>How many parrots do you want?</p>
<p>&lt;/ui:define&gt;</p>
<p>&lt;/ui:decorate&gt;</p>
<p>define 标签内部的内容将被插入到目标模板中 name 相同的 insert 标签处。 define 标签外部的内容将被忽略。</p>
<p>举例 2:</p>
<p>Listing 1-12. define-template.xhtml</p>
<p>&lt;h:outputText value=&quot;Which bird sings like this? &quot;/&gt;</p>
<p>&lt;ui:insert name=&quot;song&quot;/&gt;</p>
<p>define-example.xhtml</p>
<p>This will be ignored</p>
<p>&lt;ui:composition template=&quot;define-template.xhtml&quot;&gt;</p>
<p>&lt;ui:define name=&quot;song&quot;&gt;</p>
<p>&lt;h:outputText value=&quot;cock-a-doodle-doo&quot;/&gt;</p>
<p>&lt;/ui:define&gt;</p>
<p>&lt;/ui:composition&gt;</p>
<p>这个例子输出 :</p>
<p>Which bird sings like this? cock-a-doodle-doo</p>
<h3>&lt;ui:insert/&gt;</h3>
<p>ui:insert 标签用来在模板中指定一个插入点，可以被客户端模板中 ui:define 定义的内容所代替。 表格 1-8 列出它的属性。</p>
<p>表格 1-8: &lt;ui:insert&gt; 标签属性</p>
<table border="1" cellspacing="0" cellpadding="4">
    <colgroup><col></col><col></col><col></col></colgroup>
    <tbody>
        <tr>
            <td>
            <p>属性名称</p>
            </td>
            <td>
            <p>必需</p>
            </td>
            <td>
            <p>描述</p>
            </td>
        </tr>
        <tr>
            <td>
            <p>name</p>
            </td>
            <td>
            <p>否</p>
            </td>
            <td>
            <p>用来和客户端模板中 ui:define 标签的 name 属性相一致 , 如果没有指定，整个客户端模板将被插入。</p>
            </td>
        </tr>
    </tbody>
</table>
<p>如果模板中某个 insert 标签在客户端模板中没有定义对应的 define ，则使用模板中的默认值。</p>
<p>Listing 1-13. insert-template.xhtml</p>
<p>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD &not;</p>
<p>XHTML 1.0 Transitional//EN&quot;</p>
<p>&quot;http://www.w3.org/TR/xhtml1/DTD/ &not;</p>
<p>xhtml1-transitional.dtd&quot;&gt;</p>
<p>&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;</p>
<p>xmlns:ui=&quot;http://java.sun.com/jsf/facelets&quot;&gt;</p>
<p>&lt;body&gt;</p>
<p>&lt;h1&gt;</p>
<p>&lt;ui:insert name=&quot;title&quot;&gt;</p>
<p>No title</p>
<p>&lt;/ui:insert&gt;</p>
<p>&lt;/h1&gt;</p>
<p>&lt;div&gt;</p>
<p>&lt;ui:insert name=&quot;content&quot;&gt;</p>
<p>No content is defined</p>
<p>&lt;/ui:insert&gt;</p>
<p>&lt;/div&gt;</p>
<p>&lt;/body&gt;</p>
<p>&lt;/html&gt;</p>
<p>我们需要一个客户端模板 , 如下：</p>
<p>Listing 1-14. insert-client.xhtml</p>
<p>&lt;ui:composition template=&quot;insert-template.xhtml&quot;&gt;</p>
<p>&lt;ui:define name=&quot;title&quot;&gt;</p>
<p>The Parrot Quest</p>
<p>&lt;/ui:define&gt;</p>
<p>&lt;/ui:composition&gt;</p>
<p>我们只定义了 title 的内容，所以 content 使用默认值。输出如下：</p>
<p>&lt;h1&gt;</p>
<p>The Parrot Quest</p>
<p>&lt;/h1&gt;</p>
<p>&lt;div&gt;</p>
<p>No content is defined</p>
<p>&lt;/div&gt;</p>
<p>name 属性是可选的，如果没有被指定，整个客户端模板将被插入。也没必须要客户端模板定义 define 。如下：</p>
<p>Listing 1-15. insert-template2.xhtml</p>
<p>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD &not;</p>
<p>HTML 1.0 Transitional//EN&quot;</p>
<p>&quot;http://www.w3.org/TR/xhtml1/DTD/ &not;</p>
<p>xhtml1-transitional.dtd&quot;&gt;</p>
<p>&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;</p>
<p>xmlns:ui=&quot;http://java.sun.com/jsf/facelets&quot;&gt;</p>
<p>&lt;body&gt;</p>
<p>&lt;div&gt;</p>
<p>&lt;h1&gt;One story of Birds&lt;/h1&gt;</p>
<p>&lt;ui:insert/&gt;</p>
<p>&lt;/div&gt;</p>
<p>&lt;/body&gt;</p>
<p>&lt;/html&gt;</p>
<p>Listing 1-16. insert-client2.xhtml</p>
<p>&lt;ui:composition template=&quot;insert-template2.xhtml&quot;&gt;</p>
<p>One day I decided to start counting</p>
<p>the number of parrots in the world,</p>
<p>just to find that...</p>
<p>&lt;br/&gt;</p>
<p>&lt;h:inputTextarea value=&quot;#{backingBean.story}&quot;/&gt;</p>
<p>&lt;/ui:composition&gt;</p>
<p>输出如下：</p>
<p>&lt;div&gt;</p>
<p>&lt;h1&gt;One story of Birds&lt;/h1&gt;</p>
<p>One day I decided to start counting</p>
<p>the number of parrots in the world,</p>
<p>just to find that...</p>
<p>&lt;br /&gt;</p>
<p>&lt;textarea name=&quot;_id3&quot;&gt;&lt;/textarea&gt;</p>
<p>&lt;/div&gt;</p>
<p> </p>
<h3>&lt;ui:include/&gt;</h3>
<p>&lt;ui:include/&gt; 标签用来在文件中包含另外一个 Facelets 文件 , 它只需要指定被包含文件的位置。它可以包含任何拥有 ui:component 或 ui:composition 等标签或是简单的 XHTML 或 XML 代码片断的文件。下列表格列出它的属性。</p>
<p>表格 : &lt;ui:include&gt; 标签属性</p>
<table border="1" cellspacing="0" cellpadding="4">
    <colgroup><col></col><col></col><col></col></colgroup>
    <tbody>
        <tr>
            <td>
            <p>属性名称</p>
            </td>
            <td>
            <p>必需</p>
            </td>
            <td>
            <p>描述</p>
            </td>
        </tr>
        <tr>
            <td>
            <p>src</p>
            </td>
            <td>
            <p>是</p>
            </td>
            <td>
            <p>属性的值可以是简单的值或是 EL 表达式，用来指定被包含的 Faclets 文件的位置 , 可以是相对路径也可以是绝对路径。</p>
            </td>
        </tr>
    </tbody>
</table>
<p>举例：</p>
<p>&lt;div&gt;</p>
<p>&lt;ui:include src=&quot;#{backingBean.currentMenu}&quot;/&gt;</p>
<p>&lt;/div&gt;</p>
<p><a href="http://www.javaeye.com/post/628412">http://www.javaeye.com/post/628412</a> 原文<br>
hxzon：facelets6个模板标签，4个非模板标签，分别为<br>
composition，decorate，define，insert，include，param，，，<br>
component，fragment，remove，debug。（模板文件，模板客户文件）。</p>
</div></div></body></html>