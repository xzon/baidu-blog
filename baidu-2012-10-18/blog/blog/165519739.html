<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>undefined reference to `ntohs@4&amp;#39;</title></head><body><h1>undefined reference to `ntohs@4&amp;#39;</h1><div><p> </p>
<p>undefined reference to <a href="mailto:`ntohs@4 ">`ntohs@4'</a></p>
<p>hxzon:缺少libwsock32.a 。在 Dev-Cpp\lib 和 mingw\lib 下。</p>
<p>==================<br>
我用DEVCPP4.9.7.8编译一SOCKET程序时出现如下编译连接错误： <br>
Compiler: Default compiler <br>
Building Makefile: &quot;F:\sock\Makefile.win&quot; <br>
Executing make... <br>
make.exe -f &quot;F:\sock\Makefile.win&quot; all <br>
gcc.exe server.o -o &quot;Server.exe&quot; -L&quot;C:/Dev-Cpp/lib&quot; <br>
<br>
server.o(.text+0x2d7):server.c: undefined reference to `recv@16' <br>
server.o(.text+0x301):server.c: undefined reference to `WSAGetLastError@0' <br>
server.o(.text+0x395):server.c: undefined reference to `send@16' <br>
<br>
server.o(.text+0x3bd):server.c: undefined reference to `WSAGetLastError@0' <br>
server.o(.text+0x4b5):server.c: undefined reference to `WSAStartup@8' <br>
server.o(.text+0x4e6):server.c: undefined reference to `socket@12' <br>
server.o(.text+0x502):server.c: undefined reference to `WSAGetLastError@0' <br>
server.o(.text+0x532):server.c: undefined reference to `inet_addr@4' <br>
server.o(.text+0x55a):server.c: undefined reference to `htonl@4' <br>
server.o(.text+0x57e):server.c: undefined reference to `htons@4' <br>
server.o(.text+0x5a2):server.c: undefined reference to `bind@12' <br>
server.o(.text+0x5b4):server.c: undefined reference to `WSAGetLastError@0' <br>
server.o(.text+0x5e1):server.c: undefined reference to `listen@8' <br>
server.o(.text+0x613):server.c: undefined reference to `accept@12' <br>
server.o(.text+0x62f):server.c: undefined reference to `WSAGetLastError@0' <br>
server.o(.text+0x657):server.c: undefined reference to `ntohs@4' <br>
<br>
server.o(.text+0x66f):server.c: undefined reference to `inet_ntoa@4' <br>
server.o(.text+0x6fb):server.c: undefined reference to `closesocket@4' <br>
server.o(.text+0x703):server.c: undefined reference to `WSACleanup@0' <br>
<br>
make.exe: *** [Server.exe] Error 1 <br>
<br>
Execution terminated <br>
这是什么原因引起的？ <br>
---------------------------<br>
先找到:菜单 Project-&gt;project Options -&gt;中的&quot;Linker Options/Optonal Libs or Obeject files &quot;, <br>
点击右边的&quot;Add Library or Object&quot; --&gt; 在你的..\lib目录中找到:&quot;libwsock32.a&quot;,选中,点击&quot;打开&quot;--&gt;返回后再按&quot;ok&quot;, <br>
重新编译链接即可.&nbsp;&nbsp;&nbsp;<br>
<a href="http://topic.csdn.net/t/20030312/13/1521264.html">http://topic.csdn.net/t/20030312/13/1521264.html</a></p></div></body></html>