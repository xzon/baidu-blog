<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>java时间格式大全</title></head><body><h1>java时间格式大全</h1><div><div class="Detail">
<div>java时间格式大全<br>
java.util.*;<br>
import java.text.*;<br>
import java.util.Calendar;</div>
<div>public class VeDate {<br>
/**<br>
* 获取现在时间<br>
* <br>
* @return 返回时间类型 yyyy-MM-dd HH:mm:ss<br>
*/<br>
public static Date getNowDate() {<br>
Date currentTime = new Date();<br>
SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);<br>
String dateString = formatter.format(currentTime);<br>
ParsePosition pos = new ParsePosition(8);<br>
Date currentTime_2 = formatter.parse(dateString, pos);<br>
return currentTime_2;<br>
}</div>
<div>/**<br>
* 获取现在时间<br>
* <br>
* @return返回短时间格式 yyyy-MM-dd<br>
*/<br>
public static Date getNowDateShort() {<br>
Date currentTime = new Date();<br>
SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);<br>
String dateString = formatter.format(currentTime);<br>
ParsePosition pos = new ParsePosition(8);<br>
Date currentTime_2 = formatter.parse(dateString, pos);<br>
return currentTime_2;<br>
}</div>
<div>/**<br>
* 获取现在时间<br>
* <br>
* @return返回字符串格式 yyyy-MM-dd HH:mm:ss<br>
*/<br>
public static String getStringDate() {<br>
Date currentTime = new Date();<br>
SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);<br>
String dateString = formatter.format(currentTime);<br>
return dateString;<br>
}</div>
<div>/**<br>
* 获取现在时间<br>
* <br>
* @return 返回短时间字符串格式yyyy-MM-dd<br>
*/<br>
public static String getStringDateShort() {<br>
Date currentTime = new Date();<br>
SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);<br>
String dateString = formatter.format(currentTime);<br>
return dateString;<br>
}</div>
<div>/**<br>
* 获取时间 小时:分;秒 HH:mm:ss<br>
* <br>
* @return<br>
*/<br>
public static String getTimeShort() {<br>
SimpleDateFormat formatter = new SimpleDateFormat(&quot;HH:mm:ss&quot;);<br>
Date currentTime = new Date();<br>
String dateString = formatter.format(currentTime);<br>
return dateString;<br>
}</div>
<div>/**<br>
* 将长时间格式字符串转换为时间 yyyy-MM-dd HH:mm:ss<br>
* <br>
* @param strDate<br>
* @return<br>
*/<br>
public static Date strToDateLong(String strDate) {<br>
SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);<br>
ParsePosition pos = new ParsePosition(0);<br>
Date strtodate = formatter.parse(strDate, pos);<br>
return strtodate;<br>
}</div>
<div>/**<br>
* 将长时间格式时间转换为字符串 yyyy-MM-dd HH:mm:ss<br>
* <br>
* @param dateDate<br>
* @return<br>
*/<br>
public static String dateToStrLong(java.util.Date dateDate) {<br>
SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);<br>
String dateString = formatter.format(dateDate);<br>
return dateString;<br>
}</div>
<div>/**<br>
* 将短时间格式时间转换为字符串 yyyy-MM-dd<br>
* <br>
* @param dateDate<br>
* @param k<br>
* @return<br>
*/<br>
public static String dateToStr(java.util.Date dateDate) {<br>
SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);<br>
String dateString = formatter.format(dateDate);<br>
return dateString;<br>
}</div>
<div>/**<br>
* 将短时间格式字符串转换为时间 yyyy-MM-dd <br>
* <br>
* @param strDate<br>
* @return<br>
*/<br>
public static Date strToDate(String strDate) {<br>
SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);<br>
ParsePosition pos = new ParsePosition(0);<br>
Date strtodate = formatter.parse(strDate, pos);<br>
return strtodate;<br>
}</div>
<div>/**<br>
* 得到现在时间<br>
* <br>
* @return<br>
*/<br>
public static Date getNow() {<br>
Date currentTime = new Date();<br>
return currentTime;<br>
}</div>
<div>/**<br>
* 提取一个月中的最后一天<br>
* <br>
* @param day<br>
* @return<br>
*/<br>
public static Date getLastDate(long day) {<br>
Date date = new Date();<br>
long date_3_hm = date.getTime() - 3600000 * 34 * day;<br>
Date date_3_hm_date = new Date(date_3_hm);<br>
return date_3_hm_date;<br>
}</div>
<div>/**<br>
* 得到现在时间<br>
* <br>
* @return 字符串 yyyyMMdd HHmmss<br>
*/<br>
public static String getStringToday() {<br>
Date currentTime = new Date();<br>
SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyyMMdd HHmmss&quot;);<br>
String dateString = formatter.format(currentTime);<br>
return dateString;<br>
}</div>
<div>/**<br>
* 得到现在小时<br>
*/<br>
public static String getHour() {<br>
Date currentTime = new Date();<br>
SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);<br>
String dateString = formatter.format(currentTime);<br>
String hour;<br>
hour = dateString.substring(11, 13);<br>
return hour;<br>
}</div>
<div>/**<br>
* 得到现在分钟<br>
* <br>
* @return<br>
*/<br>
public static String getTime() {<br>
Date currentTime = new Date();<br>
SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);<br>
String dateString = formatter.format(currentTime);<br>
String min;<br>
min = dateString.substring(14, 16);<br>
return min;<br>
}</div>
<div>/**<br>
* 根据用户传入的时间表示格式，返回当前时间的格式 如果是yyyyMMdd，注意字母y不能大写。<br>
* <br>
* @param sformat<br>
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  yyyyMMddhhmmss<br>
* @return<br>
*/<br>
public static String getUserDate(String sformat) {<br>
Date currentTime = new Date();<br>
SimpleDateFormat formatter = new SimpleDateFormat(sformat);<br>
String dateString = formatter.format(currentTime);<br>
return dateString;<br>
}</div>
<div>/**<br>
* 二个小时时间间的差值,必须保证二个时间都是&quot;HH:MM&quot;的格式，返回字符型的分钟<br>
*/<br>
public static String getTwoHour(String st1, String st2) {<br>
String[] kk = null;<br>
String[] jj = null;<br>
kk = st1.split(&quot;:&quot;);<br>
jj = st2.split(&quot;:&quot;);<br>
if (Integer.parseInt(kk[0]) &lt; Integer.parseInt(jj[0]))<br>
&nbsp;&nbsp;  return &quot;0&quot;;<br>
else {<br>
&nbsp;&nbsp;  double y = Double.parseDouble(kk[0]) + Double.parseDouble(kk[1]) / 60;<br>
&nbsp;&nbsp;  double u = Double.parseDouble(jj[0]) + Double.parseDouble(jj[1]) / 60;<br>
&nbsp;&nbsp;  if ((y - u) &gt; 0)<br>
&nbsp;&nbsp;&nbsp;  return y - u + &quot;&quot;;<br>
&nbsp;&nbsp;  else<br>
&nbsp;&nbsp;&nbsp;  return &quot;0&quot;;<br>
}<br>
}</div>
<div>/**<br>
* 得到二个日期间的间隔天数<br>
*/<br>
public static String getTwoDay(String sj1, String sj2) {<br>
SimpleDateFormat myFormatter = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);<br>
long day = 0;<br>
try {<br>
&nbsp;&nbsp;  java.util.Date date = myFormatter.parse(sj1);<br>
&nbsp;&nbsp;  java.util.Date mydate = myFormatter.parse(sj2);<br>
&nbsp;&nbsp;  day = (date.getTime() - mydate.getTime()) / (24 * 60 * 60 * 1000);<br>
} catch (Exception e) {<br>
&nbsp;&nbsp;  return &quot;&quot;;<br>
}<br>
return day + &quot;&quot;;<br>
}</div>
<div>/**<br>
* 时间前推或后推分钟,其中JJ表示分钟.<br>
*/<br>
public static String getPreTime(String sj1, String jj) {<br>
SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);<br>
String mydate1 = &quot;&quot;;<br>
try {<br>
&nbsp;&nbsp;  Date date1 = format.parse(sj1);<br>
&nbsp;&nbsp;  long Time = (date1.getTime() / 1000) + Integer.parseInt(jj) * 60;<br>
&nbsp;&nbsp;  date1.setTime(Time * 1000);<br>
&nbsp;&nbsp;  mydate1 = format.format(date1);<br>
} catch (Exception e) {<br>
}<br>
return mydate1;<br>
}</div>
<div>/**<br>
* 得到一个时间延后或前移几天的时间,nowdate为时间,delay为前移或后延的天数<br>
*/<br>
public static String getNextDay(String nowdate, String delay) {<br>
try{<br>
SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);<br>
String mdate = &quot;&quot;;<br>
Date d = strToDate(nowdate);<br>
long myTime = (d.getTime() / 1000) + Integer.parseInt(delay) * 24 * 60 * 60;<br>
d.setTime(myTime * 1000);<br>
mdate = format.format(d);<br>
return mdate;<br>
}catch(Exception e){<br>
&nbsp;&nbsp;  return &quot;&quot;;<br>
}<br>
}</div>
<div>/**<br>
* 判断是否润年<br>
* <br>
* @param ddate<br>
* @return<br>
*/<br>
public static boolean isLeapYear(String ddate) {</div>
<div>/**<br>
&nbsp;&nbsp;  * 详细设计： 1.被400整除是闰年，否则： 2.不能被4整除则不是闰年 3.能被4整除同时不能被100整除则是闰年<br>
&nbsp;&nbsp;  * 3.能被4整除同时能被100整除则不是闰年<br>
&nbsp;&nbsp;  */<br>
Date d = strToDate(ddate);<br>
GregorianCalendar gc = (GregorianCalendar) Calendar.getInstance();<br>
gc.setTime(d);<br>
int year = gc.get(Calendar.YEAR);<br>
if ((year % 400) == 0)<br>
&nbsp;&nbsp;  return true;<br>
else if ((year % 4) == 0) {<br>
&nbsp;&nbsp;  if ((year % 100) == 0)<br>
&nbsp;&nbsp;&nbsp;  return false;<br>
&nbsp;&nbsp;  else<br>
&nbsp;&nbsp;&nbsp;  return true;<br>
} else<br>
&nbsp;&nbsp;  return false;<br>
}</div>
<div>/**<br>
* 返回美国时间格式 26 Apr 2006<br>
* <br>
* @param str<br>
* @return<br>
*/<br>
public static String getEDate(String str) {<br>
SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);<br>
ParsePosition pos = new ParsePosition(0);<br>
Date strtodate = formatter.parse(str, pos);<br>
String j = strtodate.toString();<br>
String[] k = j.split(&quot; &quot;);<br>
return k[2] + k[1].toUpperCase() + k[5].substring(2, 4);<br>
}</div>
<div>/**<br>
* 获取一个月的最后一天<br>
* <br>
* @param dat<br>
* @return<br>
*/<br>
public static String getEndDateOfMonth(String dat) {// yyyy-MM-dd<br>
String str = dat.substring(0, 8);<br>
String month = dat.substring(5, 7);<br>
int mon = Integer.parseInt(month);<br>
if (mon == 1 || mon == 3 || mon == 5 || mon == 7 || mon == 8 || mon == 10 || mon == 12) {<br>
&nbsp;&nbsp;  str += &quot;31&quot;;<br>
} else if (mon == 4 || mon == 6 || mon == 9 || mon == 11) {<br>
&nbsp;&nbsp;  str += &quot;30&quot;;<br>
} else {<br>
&nbsp;&nbsp;  if (isLeapYear(dat)) {<br>
&nbsp;&nbsp;&nbsp;  str += &quot;29&quot;;<br>
&nbsp;&nbsp;  } else {<br>
&nbsp;&nbsp;&nbsp;  str += &quot;28&quot;;<br>
&nbsp;&nbsp;  }<br>
}<br>
return str;<br>
}</div>
<div>/**<br>
* 判断二个时间是否在同一个周<br>
* <br>
* @param date1<br>
* @param date2<br>
* @return<br>
*/<br>
public static boolean isSameWeekDates(Date date1, Date date2) {<br>
Calendar cal1 = Calendar.getInstance();<br>
Calendar cal2 = Calendar.getInstance();<br>
cal1.setTime(date1);<br>
cal2.setTime(date2);<br>
int subYear = cal1.get(Calendar.YEAR) - cal2.get(Calendar.YEAR);<br>
if (0 == subYear) {<br>
&nbsp;&nbsp;  if (cal1.get(Calendar.WEEK_OF_YEAR) == cal2.get(Calendar.WEEK_OF_YEAR))<br>
&nbsp;&nbsp;&nbsp;  return true;<br>
} else if (1 == subYear &amp;&amp; 11 == cal2.get(Calendar.MONTH)) {<br>
&nbsp;&nbsp;  // 如果12月的最后一周横跨来年第一周的话则最后一周即算做来年的第一周<br>
&nbsp;&nbsp;  if (cal1.get(Calendar.WEEK_OF_YEAR) == cal2.get(Calendar.WEEK_OF_YEAR))<br>
&nbsp;&nbsp;&nbsp;  return true;<br>
} else if (-1 == subYear &amp;&amp; 11 == cal1.get(Calendar.MONTH)) {<br>
&nbsp;&nbsp;  if (cal1.get(Calendar.WEEK_OF_YEAR) == cal2.get(Calendar.WEEK_OF_YEAR))<br>
&nbsp;&nbsp;&nbsp;  return true;<br>
}<br>
return false;<br>
}</div>
<div>/**<br>
* 产生周序列,即得到当前时间所在的年度是第几周<br>
* <br>
* @return<br>
*/<br>
public static String getSeqWeek() {<br>
Calendar c = Calendar.getInstance(Locale.CHINA);<br>
String week = Integer.toString(c.get(Calendar.WEEK_OF_YEAR));<br>
if (week.length() == 1)<br>
&nbsp;&nbsp;  week = &quot;0&quot; + week;<br>
String year = Integer.toString(c.get(Calendar.YEAR));<br>
return year + week;<br>
}</div>
<div>/**<br>
* 获得一个日期所在的周的星期几的日期，如要找出2002年2月3日所在周的星期一是几号<br>
* <br>
* @param sdate<br>
* @param num<br>
* @return<br>
*/<br>
public static String getWeek(String sdate, String num) {<br>
// 再转换为时间<br>
Date dd = VeDate.strToDate(sdate);<br>
Calendar c = Calendar.getInstance();<br>
c.setTime(dd);<br>
if (num.equals(&quot;1&quot;)) // 返回星期一所在的日期<br>
&nbsp;&nbsp;  c.set(Calendar.DAY_OF_WEEK, Calendar.MONDAY);<br>
else if (num.equals(&quot;2&quot;)) // 返回星期二所在的日期<br>
&nbsp;&nbsp;  c.set(Calendar.DAY_OF_WEEK, Calendar.TUESDAY);<br>
else if (num.equals(&quot;3&quot;)) // 返回星期三所在的日期<br>
&nbsp;&nbsp;  c.set(Calendar.DAY_OF_WEEK, Calendar.WEDNESDAY);<br>
else if (num.equals(&quot;4&quot;)) // 返回星期四所在的日期<br>
&nbsp;&nbsp;  c.set(Calendar.DAY_OF_WEEK, Calendar.THURSDAY);<br>
else if (num.equals(&quot;5&quot;)) // 返回星期五所在的日期<br>
&nbsp;&nbsp;  c.set(Calendar.DAY_OF_WEEK, Calendar.FRIDAY);<br>
else if (num.equals(&quot;6&quot;)) // 返回星期六所在的日期<br>
&nbsp;&nbsp;  c.set(Calendar.DAY_OF_WEEK, Calendar.SATURDAY);<br>
else if (num.equals(&quot;0&quot;)) // 返回星期日所在的日期<br>
&nbsp;&nbsp;  c.set(Calendar.DAY_OF_WEEK, Calendar.SUNDAY);<br>
return new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).format(c.getTime());<br>
}</div>
<div>/**<br>
* 根据一个日期，返回是星期几的字符串<br>
* <br>
* @param sdate<br>
* @return<br>
*/<br>
public static String getWeek(String sdate) {<br>
// 再转换为时间<br>
Date date = VeDate.strToDate(sdate);<br>
Calendar c = Calendar.getInstance();<br>
c.setTime(date);<br>
// int hour=c.get(Calendar.DAY_OF_WEEK);<br>
// hour中存的就是星期几了，其范围 1~7<br>
// 1=星期日 7=星期六，其他类推<br>
return new SimpleDateFormat(&quot;EEEE&quot;).format(c.getTime());<br>
}<br>
public static String getWeekStr(String sdate){<br>
String str = &quot;&quot;;<br>
str = VeDate.getWeek(sdate);<br>
if(&quot;1&quot;.equals(str)){<br>
&nbsp;&nbsp;  str = &quot;星期日&quot;;<br>
}else if(&quot;2&quot;.equals(str)){<br>
&nbsp;&nbsp;  str = &quot;星期一&quot;;<br>
}else if(&quot;3&quot;.equals(str)){<br>
&nbsp;&nbsp;  str = &quot;星期二&quot;;<br>
}else if(&quot;4&quot;.equals(str)){<br>
&nbsp;&nbsp;  str = &quot;星期三&quot;;<br>
}else if(&quot;5&quot;.equals(str)){<br>
&nbsp;&nbsp;  str = &quot;星期四&quot;;<br>
}else if(&quot;6&quot;.equals(str)){<br>
&nbsp;&nbsp;  str = &quot;星期五&quot;;<br>
}else if(&quot;7&quot;.equals(str)){<br>
&nbsp;&nbsp;  str = &quot;星期六&quot;;<br>
}<br>
return str;<br>
}</div>
<div>/**<br>
* 两个时间之间的天数<br>
* <br>
* @param date1<br>
* @param date2<br>
* @return<br>
*/<br>
public static long getDays(String date1, String date2) {<br>
if (date1 == null || date1.equals(&quot;&quot;))<br>
&nbsp;&nbsp;  return 0;<br>
if (date2 == null || date2.equals(&quot;&quot;))<br>
&nbsp;&nbsp;  return 0;<br>
// 转换为标准时间<br>
SimpleDateFormat myFormatter = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);<br>
java.util.Date date = null;<br>
java.util.Date mydate = null;<br>
try {<br>
&nbsp;&nbsp;  date = myFormatter.parse(date1);<br>
&nbsp;&nbsp;  mydate = myFormatter.parse(date2);<br>
} catch (Exception e) {<br>
}<br>
long day = (date.getTime() - mydate.getTime()) / (24 * 60 * 60 * 1000);<br>
return day;<br>
}</div>
<div>/**<br>
* 形成如下的日历 ， 根据传入的一个时间返回一个结构 星期日 星期一 星期二 星期三 星期四 星期五 星期六 下面是当月的各个时间<br>
* 此函数返回该日历第一行星期日所在的日期<br>
* <br>
* @param sdate<br>
* @return<br>
*/<br>
public static String getNowMonth(String sdate) {<br>
// 取该时间所在月的一号<br>
sdate = sdate.substring(0, 8) + &quot;01&quot;;</div>
<div>// 得到这个月的1号是星期几<br>
Date date = VeDate.strToDate(sdate);<br>
Calendar c = Calendar.getInstance();<br>
c.setTime(date);<br>
int u = c.get(Calendar.DAY_OF_WEEK);<br>
String newday = VeDate.getNextDay(sdate, (1 - u) + &quot;&quot;);<br>
return newday;<br>
}</div>
<div>/**<br>
* 取得数据库主键 生成格式为yyyymmddhhmmss+k位随机数<br>
* <br>
* @param k<br>
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  表示是取几位随机数，可以自己定<br>
*/</div>
<div>public static String getNo(int k) {</div>
<div>return getUserDate(&quot;yyyyMMddhhmmss&quot;) + getRandom(k);<br>
}</div>
<div>/**<br>
* 返回一个随机数<br>
* <br>
* @param i<br>
* @return<br>
*/<br>
public static String getRandom(int i) {<br>
Random jjj = new Random();<br>
// int suiJiShu = jjj.nextInt(9);<br>
if (i == 0)<br>
&nbsp;&nbsp;  return &quot;&quot;;<br>
String jj = &quot;&quot;;<br>
for (int k = 0; k &lt; i; k++) {<br>
&nbsp;&nbsp;  jj = jj + jjj.nextInt(9);<br>
}<br>
return jj;<br>
}</div>
<div>/**<br>
* <br>
* @param args<br>
*/<br>
public static boolean RightDate(String date) {</div>
<div>SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss&quot;);<br>
;<br>
if (date == null)<br>
&nbsp;&nbsp;  return false;<br>
if (date.length() &gt; 10) {<br>
&nbsp;&nbsp;  sdf = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss&quot;);<br>
} else {<br>
&nbsp;&nbsp;  sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);<br>
}<br>
try {<br>
&nbsp;&nbsp;  sdf.parse(date);<br>
} catch (ParseException pe) {<br>
&nbsp;&nbsp;  return false;<br>
}<br>
return true;<br>
}</div>
<div>/***************************************************************************<br>
* //nd=1表示返回的值中包含年度 //yf=1表示返回的值中包含月份 //rq=1表示返回的值中包含日期 //format表示返回的格式 1<br>
* 以年月日中文返回 2 以横线-返回 // 3 以斜线/返回 4 以缩写不带其它符号形式返回 // 5 以点号.返回<br>
**************************************************************************/<br>
public static String getStringDateMonth(String sdate, String nd, String yf, String rq, String format) {<br>
Date currentTime = new Date();<br>
SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);<br>
String dateString = formatter.format(currentTime);<br>
String s_nd = dateString.substring(0, 4); // 年份<br>
String s_yf = dateString.substring(5, 7); // 月份<br>
String s_rq = dateString.substring(8, 10); // 日期<br>
String sreturn = &quot;&quot;;<br>
roc.util.MyChar mc = new roc.util.MyChar();<br>
if (sdate == null || sdate.equals(&quot;&quot;) || !mc.Isdate(sdate)) { // 处理空值情况<br>
&nbsp;&nbsp;  if (nd.equals(&quot;1&quot;)) {<br>
&nbsp;&nbsp;&nbsp;  sreturn = s_nd;<br>
&nbsp;&nbsp;&nbsp;  // 处理间隔符<br>
&nbsp;&nbsp;&nbsp;  if (format.equals(&quot;1&quot;))<br>
&nbsp;&nbsp;&nbsp;&nbsp;  sreturn = sreturn + &quot;年&quot;;<br>
&nbsp;&nbsp;&nbsp;  else if (format.equals(&quot;2&quot;))<br>
&nbsp;&nbsp;&nbsp;&nbsp;  sreturn = sreturn + &quot;-&quot;;<br>
&nbsp;&nbsp;&nbsp;  else if (format.equals(&quot;3&quot;))<br>
&nbsp;&nbsp;&nbsp;&nbsp;  sreturn = sreturn + &quot;/&quot;;<br>
&nbsp;&nbsp;&nbsp;  else if (format.equals(&quot;5&quot;))<br>
&nbsp;&nbsp;&nbsp;&nbsp;  sreturn = sreturn + &quot;.&quot;;<br>
&nbsp;&nbsp;  }<br>
&nbsp;&nbsp;  // 处理月份<br>
&nbsp;&nbsp;  if (yf.equals(&quot;1&quot;)) {<br>
&nbsp;&nbsp;&nbsp;  sreturn = sreturn + s_yf;<br>
&nbsp;&nbsp;&nbsp;  if (format.equals(&quot;1&quot;))<br>
&nbsp;&nbsp;&nbsp;&nbsp;  sreturn = sreturn + &quot;月&quot;;<br>
&nbsp;&nbsp;&nbsp;  else if (format.equals(&quot;2&quot;))<br>
&nbsp;&nbsp;&nbsp;&nbsp;  sreturn = sreturn + &quot;-&quot;;<br>
&nbsp;&nbsp;&nbsp;  else if (format.equals(&quot;3&quot;))<br>
&nbsp;&nbsp;&nbsp;&nbsp;  sreturn = sreturn + &quot;/&quot;;<br>
&nbsp;&nbsp;&nbsp;  else if (format.equals(&quot;5&quot;))<br>
&nbsp;&nbsp;&nbsp;&nbsp;  sreturn = sreturn + &quot;.&quot;;<br>
&nbsp;&nbsp;  }<br>
&nbsp;&nbsp;  // 处理日期<br>
&nbsp;&nbsp;  if (rq.equals(&quot;1&quot;)) {<br>
&nbsp;&nbsp;&nbsp;  sreturn = sreturn + s_rq;<br>
&nbsp;&nbsp;&nbsp;  if (format.equals(&quot;1&quot;))<br>
&nbsp;&nbsp;&nbsp;&nbsp;  sreturn = sreturn + &quot;日&quot;;<br>
&nbsp;&nbsp;  }<br>
} else {<br>
&nbsp;&nbsp;  // 不是空值，也是一个合法的日期值，则先将其转换为标准的时间格式<br>
&nbsp;&nbsp;  sdate = roc.util.RocDate.getOKDate(sdate);<br>
&nbsp;&nbsp;  s_nd = sdate.substring(0, 4); // 年份<br>
&nbsp;&nbsp;  s_yf = sdate.substring(5, 7); // 月份<br>
&nbsp;&nbsp;  s_rq = sdate.substring(8, 10); // 日期<br>
&nbsp;&nbsp;  if (nd.equals(&quot;1&quot;)) {<br>
&nbsp;&nbsp;&nbsp;  sreturn = s_nd;<br>
&nbsp;&nbsp;&nbsp;  // 处理间隔符<br>
&nbsp;&nbsp;&nbsp;  if (format.equals(&quot;1&quot;))<br>
&nbsp;&nbsp;&nbsp;&nbsp;  sreturn = sreturn + &quot;年&quot;;<br>
&nbsp;&nbsp;&nbsp;  else if (format.equals(&quot;2&quot;))<br>
&nbsp;&nbsp;&nbsp;&nbsp;  sreturn = sreturn + &quot;-&quot;;<br>
&nbsp;&nbsp;&nbsp;  else if (format.equals(&quot;3&quot;))<br>
&nbsp;&nbsp;&nbsp;&nbsp;  sreturn = sreturn + &quot;/&quot;;<br>
&nbsp;&nbsp;&nbsp;  else if (format.equals(&quot;5&quot;))<br>
&nbsp;&nbsp;&nbsp;&nbsp;  sreturn = sreturn + &quot;.&quot;;<br>
&nbsp;&nbsp;  }<br>
&nbsp;&nbsp;  // 处理月份<br>
&nbsp;&nbsp;  if (yf.equals(&quot;1&quot;)) {<br>
&nbsp;&nbsp;&nbsp;  sreturn = sreturn + s_yf;<br>
&nbsp;&nbsp;&nbsp;  if (format.equals(&quot;1&quot;))<br>
&nbsp;&nbsp;&nbsp;&nbsp;  sreturn = sreturn + &quot;月&quot;;<br>
&nbsp;&nbsp;&nbsp;  else if (format.equals(&quot;2&quot;))<br>
&nbsp;&nbsp;&nbsp;&nbsp;  sreturn = sreturn + &quot;-&quot;;<br>
&nbsp;&nbsp;&nbsp;  else if (format.equals(&quot;3&quot;))<br>
&nbsp;&nbsp;&nbsp;&nbsp;  sreturn = sreturn + &quot;/&quot;;<br>
&nbsp;&nbsp;&nbsp;  else if (format.equals(&quot;5&quot;))<br>
&nbsp;&nbsp;&nbsp;&nbsp;  sreturn = sreturn + &quot;.&quot;;<br>
&nbsp;&nbsp;  }<br>
&nbsp;&nbsp;  // 处理日期<br>
&nbsp;&nbsp;  if (rq.equals(&quot;1&quot;)) {<br>
&nbsp;&nbsp;&nbsp;  sreturn = sreturn + s_rq;<br>
&nbsp;&nbsp;&nbsp;  if (format.equals(&quot;1&quot;))<br>
&nbsp;&nbsp;&nbsp;&nbsp;  sreturn = sreturn + &quot;日&quot;;<br>
&nbsp;&nbsp;  }<br>
}<br>
return sreturn;<br>
}</div>
<div>public static String getNextMonthDay(String sdate, int m) {<br>
sdate = getOKDate(sdate);<br>
int year = Integer.parseInt(sdate.substring(0, 4));<br>
int month = Integer.parseInt(sdate.substring(5, 7));<br>
month = month + m;<br>
if (month &lt; 0) {<br>
&nbsp;&nbsp;  month = month + 12;<br>
&nbsp;&nbsp;  year = year - 1;<br>
} else if (month &gt; 12) {<br>
&nbsp;&nbsp;  month = month - 12;<br>
&nbsp;&nbsp;  year = year + 1;<br>
}<br>
String smonth = &quot;&quot;;<br>
if (month &lt; 10)<br>
&nbsp;&nbsp;  smonth = &quot;0&quot; + month;<br>
else<br>
&nbsp;&nbsp;  smonth = &quot;&quot; + month;<br>
return year + &quot;-&quot; + smonth + &quot;-10&quot;;<br>
}</div>
<div>public static String getOKDate(String sdate) {<br>
if (sdate == null || sdate.equals(&quot;&quot;))<br>
&nbsp;&nbsp;  return getStringDateShort();</div>
<div>if (!VeStr.Isdate(sdate)) {<br>
&nbsp;&nbsp;  sdate = getStringDateShort();<br>
}<br>
// 将&ldquo;/&rdquo;转换为&ldquo;-&rdquo;<br>
sdate = VeStr.Replace(sdate, &quot;/&quot;, &quot;-&quot;);<br>
// 如果只有8位长度，则要进行转换<br>
if (sdate.length() == 8)<br>
&nbsp;&nbsp;  sdate = sdate.substring(0, 4) + &quot;-&quot; + sdate.substring(4, 6) + &quot;-&quot; + sdate.substring(6, 8);<br>
SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);<br>
ParsePosition pos = new ParsePosition(0);<br>
Date strtodate = formatter.parse(sdate, pos);<br>
String dateString = formatter.format(strtodate);<br>
return dateString;<br>
}</div>
<div>public static void main(String[] args) throws Exception {<br>
try {<br>
&nbsp;&nbsp;  //System.out.print(Integer.valueOf(getTwoDay(&quot;2006-11-03 12:22:10&quot;, &quot;2006-11-02 11:22:09&quot;)));<br>
} catch (Exception e) {<br>
&nbsp;&nbsp;  throw new Exception();<br>
}<br>
//System.out.println(&quot;sss&quot;);<br>
}<br>
}</div>
</div></div></body></html>