<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>jni导致虚拟机崩溃</title></head><body><h1>jni导致虚拟机崩溃</h1><div><p>jni导致虚拟机崩溃</p>
<p>1，&nbsp;&nbsp;<br>
char buf[MAX_GOOSE_FIELD_LEN];<br>
(*env)-&gt;ReleaseStringChars(env, entry1value, (jchar*) buf);<br>
释放了非jni产生的数组，虚拟机不确定性的崩溃。</p>
<p>2，<br>
// (*env)-&gt;DeleteLocalRef(env,fid);<br>
// (*env)-&gt;DeleteLocalRef(env,mid);<br>
最后这两句，导致虚拟机必然崩溃。尚不知原因。</p></div></body></html>