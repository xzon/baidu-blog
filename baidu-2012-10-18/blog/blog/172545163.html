<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>不给line-height加单位要成为一种习惯</title></head><body><h1>不给line-height加单位要成为一种习惯</h1><div><p>不给line-height加单位要成为一种习惯</p>
<p><a href="http://blog.doyoe.com/article.asp?id=195">http://blog.doyoe.com/article.asp?id=195</a><br>
<a href="http://lifesinger.org/blog/category/ue/">http://lifesinger.org/blog/category/ue/</a></p>
<p class="tit-quote">转载请注明出处，<a title="css探索之旅-飘零雾雨的庄园" href="http://blog.doyoe.com/"><font color="#b7839d">css探索之旅-飘零雾雨的庄园</font></a></p>
<p>　　好久都没有更新Blog了，最近懒了不少。</p>
<p>　　我们都知道line-height是可以继承的，由于这个特性，子元素就可以不用重复定义line-height了。但line-height会给人误解的地方也就是这个继承。这是怎么回事呢？别急，我们先来看一幅图。</p>
<p>　　<img src="http://blog.doyoe.com/attachments/month_0808/q200884201722.gif">（图一）</p>
<p>　　看着图一，是不是让你心生&ldquo;亲切&rdquo;呢?^_^不过即使不感到亲切，也会觉得眼熟。明眼人一眼就能看出这是line-height导致的，其实这就是line-height好玩的地方。</p>
<p>　　有的时候，我们为了实现单行文字的垂直居中，会给line-height一个和height相同的固定的值；有的时候，我们为了调整特定的某段文字的行间距，通常会考虑使用百分比或者相对尺寸的em。或许是习惯，于是我们都习惯了line-height是要有单位的。</p>
<p>　　但，很明显，这些情况下，我们都不需要考虑line-height的继承，所以我们不会发现任何问题。</p>
<p>　　然而，当你要使用到line-height继承的时候，你会发现原来还有那么多的猫腻藏在其中。比如有这样一个结构（例一）：</p>
<p class="quote">&lt;style type=&quot;text/css&quot;&gt;<br>
.test{line-height:150%;}<br>
pre{font-size:30px;}<br>
&lt;/style&gt;<br>
&lt;div class=&quot;test&quot;&gt;<br>
&lt;pre&gt;<br>
第一行<br>
第二行<br>
&lt;/pre&gt;<br>
&lt;/div&gt;</p>
<p> 　　你会发现这2行字重叠了，问题来了吧。按普通的思维定式来看，由于line-height会被继承，于是pre内部的文字也应该是line-height:150%，所以出现重叠，似乎太过玄乎？</p>
<p>　　别急，再来看更具体的例子（例二）：<a title="line-height属性的继承问题" href="http://www.doyoe.com/model/xhtmlcss/teach/line-height/1.htm" target="_blank">DEMO</a></p>
<p>　　看过例子后，你会发现，只要有单位的line-height继承，都发生了重叠的现象。那到底这是什么原因导致的呢？</p>
<p>　　如果line-height属性值有单位，那么继承的值则是换算后的一个具体的px级别的值；而如果属性值没有单位，则浏览器会直接继承这个&ldquo;因子（数值）&rdquo;，而非计算后的具体值，此时它的line-height会根据本身的font-size值重新计算得到新的line-height 值。</p>
<p>　　如例一，div的line-height为150%，由于默认情况的字体大小为16px，所以div的具体line-height值可换算为16px*150%=24px，由于pre的line-height会继承24px这个换算过后的具体值，此时pre又被重新定义了font-size:30px;字体大小超过了line-height的大小，于是发生重叠。其它单位原理一样。</p>
<p>　　而例二中，不带单位的那个line-height，pre由于会直接继承1.5这个因子，所以pre的line-height值为30*1.5=45px;字体大小小于line-height，不会重叠，line-height永远是本身font-size乘以&ldquo;因子&rdquo;的倍数。</p>
<p>　　为了应付各种不可尽知的情况，请习惯不要给line-height单位。</p>
<p><br>
 </p></div></body></html>