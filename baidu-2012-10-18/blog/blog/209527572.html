<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>.o文件变量重复定义 -hxzon</title></head><body><h1>.o文件变量重复定义 -hxzon</h1><div><div>.o文件变量重复定义 -hxzon</div>
<div> </div>
<div>已经加上#ifndef UI_GLOBAL_H_<br>
#define UI_GLOBAL_H_<br>
但还是出错：<br>
main.o:(.data+0x0): multiple definition of `allIconFiles'<br>
ui_global.o:(.data+0x0): first defined here<br>
ui_user.o:(.data+0x0): multiple definition of `allIconFiles'<br>
ui_global.o:(.data+0x0): first defined here</div>
<div> </div>
<div>--------------------</div>
<div> </div>
<div>不要在头文件中定义变量，应该定义在.c文件中，然后在 .h 中用extern 来申明一下，就可以在别的.c中引用了。</div>
<div> </div>
<div>hxzon：ok。<br>
头文件为<br>
extern const char* allIconFiles[] ;<br>
extern BITMAP allIcons [12];<br>
源文件为<br>
const char* allIconFiles[] =<br>
{<br>
&nbsp;&nbsp;&nbsp;  &quot;./clearWarn.bmp&quot;,<br>
&nbsp;&nbsp;&nbsp;  &quot;./clearWarn.bmp&quot;,<br>
&nbsp;&nbsp;&nbsp;  &quot;./warn.bmp&quot;,<br>
&nbsp;&nbsp;&nbsp;  &quot;./noWarn.bmp&quot;,<br>
&nbsp;&nbsp;&nbsp;  &quot;./serverOpen.bmp&quot;,<br>
&nbsp;&nbsp;&nbsp;  &quot;./serverClose.bmp&quot;,<br>
&nbsp;&nbsp;&nbsp;  &quot;./reboot.bmp&quot;,<br>
&nbsp;&nbsp;&nbsp;  &quot;./shutdown.bmp&quot;,<br>
&nbsp;&nbsp;&nbsp;  &quot;./bottom.bmp&quot;<br>
};<br>
BITMAP allIcons [12];</div></div></body></html>