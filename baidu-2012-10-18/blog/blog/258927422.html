<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>MySQL字符串类型转成时间类型</title></head><body><h1>MySQL字符串类型转成时间类型</h1><div><div>MySQL字符串类型转成时间类型</div>
<div> </div>
<div>字符串类型转成时间类型，字符串值必须满足2010-10-19 17:08:00模式。</div>
<div> </div>
<div>SELECT STR_TO_DATE('04/31/2004,13:2:26', '%m/%d/%Y,%H:%i:%s');<br>
成功。注意，模式区分大小写。<br>
SELECT STR_TO_DATE('2010 - 10 - 19, 17 : 08', '%Y - %m - %d, %H : %i');<br>
不成功。<br>
SELECT STR_TO_DATE('2010-10-19,17:08', '%Y-%m-%d,%H:%i');<br>
去除所有空格后成功。<br>
SELECT STR_TO_DATE(replace(createTime,' ',''), '%Y-%m-%d,%H:%i') from upload;<br>
预先显示转换结果。符合预期。<br>
正式转换如下：<br>
update upload set createTime=STR_TO_DATE(replace(createTime,' ',''), '%Y-%m-%d,%H:%i');<br>
update uzer set createTime=STR_TO_DATE(replace(createTime,' ',''), '%Y-%m-%d,%H:%i');<br>
update hlog set createTime=STR_TO_DATE(replace(createTime,' ',''), '%Y-%m-%d,%H:%i');<br>
再将列定义转为datetime类型。<br>
另外要注意，mysql只精确到秒而已。</div>
<div> </div>
<div>by hxzon.</div></div></body></html>