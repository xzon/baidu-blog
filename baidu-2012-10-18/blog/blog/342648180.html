<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Prototype and script.aculo.us: You Never Knew JavaScript Could Do This!</title></head><body><h1>Prototype and script.aculo.us: You Never Knew JavaScript Could Do This!</h1><div><h1>Prototype and script.aculo.us: You Never Knew JavaScript Could Do This!</h1>
<h2>by Christophe Porteneuve</h2>
<p>http://pragprog.com/titles/cppsu/prototype-and-script-aculo-us</p><p>pdf</p><p>448 pages, 2007-12-01<br>

      ISBN: 978-1-93435-601-2</p><p>Copyright &#169; 2007 The Pragmatic Programmers LLC.<br>All rights reserved.<br>No part of this publication may be reproduced, stored in a retrieval system, or transmit-<br>ted, in any form, or by any means, electronic, mechanical, photocopying, recording, or<br>otherwise, without the prior consent of the publisher.<br>Printed in the United States of America.<br>ISBN-10: 1-934356-01-8<br>ISBN-13: 978-1-934356-01-2</p><p>详细目录 -hxzon</p><p>Preface 15<br>
1 Introduction 17<br>
1.1 It’s About Time . . . . . . . . . . . . . . . . . . . . . . . . 17<br>
1.2 What’s in This Book, and How Is It Organized? . . . . . 19<br>
1.3 Acknowledgments . . . . . . . . . . . . . . . . . . . . . . 20</p><p>I Prototype 22<br>
2 Discovering Prototype 23<br>
2.1 What Is Prototype, and What Is It Not? . . . . . . . . . . 23<br>
2.2 Using Prototype in Our Project . . . . . . . . . . . . . . . 24<br>
2.3 What Does Our JavaScript Look Like When Using Prototype? 24<br>
2.4 Prototype Jargon and Concepts . . . . . . . . . . . . . . 39<br>
2.5 What Are Prototypes Anyway? . . . . . . . . . . . . . . . 41<br>
2.6 Running Prototype Code Samples in This Book . . . . . 43<br>
3 Quick Help with the Dollars 44<br>
3.1 Shortcuts Should Be Short . . . . . . . . . . . . . . . . . 44<br>
3.2 Quick Fetching of Smart Elements with $ . . . . . . . . 44<br>
3.3 $w, Because Array Literals Are Boring . . . . . . . . . . 46<br>
3.4 $$ Searches with Style . . . . . . . . . . . . . . . . . . . 47<br>
3.5 $A, the Collection Uni&#64257;er . . . . . . . . . . . . . . . . . . 49<br>
3.6 $F Is a Field Expert . . . . . . . . . . . . . . . . . . . . . 51<br>
3.7 $H Makes a Hash of Things . . . . . . . . . . . . . . . . . 52<br>
3.8 Handling Ranges with $R . . . . . . . . . . . . . . . . . . 52<br>
4 Regular JavaScript on Steroids 54<br>
4.1 Generic Object Manipulation . . . . . . . . . . . . . . . . 54<br>
4.2 Proper Function Binding . . . . . . . . . . . . . . . . . . 60<br>
4.3 Your Functions Actually Know More Tricks . . . . . . . 64<br>
4.4 Numbers . . . . . . . . . . . . . . . . . . . . . . . . . . . . 67CONTENTS 11<br>
4.5 Strings . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 70<br>
4.6 Arrays . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 78<br>
4.7 Full-Spectrum JSON Support . . . . . . . . . . . . . . . 84<br>
5 Advanced Collections with Enumerable 90<br>
5.1 The Core Method: Iterating with each . . . . . . . . . . . 90<br>
5.2 Getting General Information About Our Collection . . . 93<br>
5.3 Finding Elements and Applying Filters . . . . . . . . . . 95<br>
5.4 Grouping Elements and Pasting Collections Together . 97<br>
5.5 Computing a Derived Collection or Value . . . . . . . . . 101<br>
5.6 Order Now: Getting Extreme Values and Using Custom Sorts104<br>
5.7 Turning Our Collection into an Array or Debugging String106<br>
5.8 Enumerable Is Actually a Module . . . . . . . . . . . . . 106<br>
6 Uni&#64257;ed Event Handling 110<br>
6.1 Event . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 110<br>
6.2 The Events Hall of Fame . . . . . . . . . . . . . . . . . . 127<br>
6.3 Reacting to Form-Related Content Changes . . . . . . . 129<br>
7 Playing with the DOM Is Finally Fun! 132<br>
7.1 Extending DOM Elements . . . . . . . . . . . . . . . . . . 132<br>
7.2 Element, Your New Best Friend . . . . . . . . . . . . . . 134<br>
7.3 Selector . . . . . . . . . . . . . . . . . . . . . . . . . . . . 169<br>
7.4 Debugging Our DOM-Related Code . . . . . . . . . . . . 170<br>
8 Form Management 175<br>
8.1 Toward a Better User Interface . . . . . . . . . . . . . . . 175<br>
8.2 Looking at Form Fields . . . . . . . . . . . . . . . . . . . 179<br>
8.3 Submitting Forms Through Ajax . . . . . . . . . . . . . . 180<br>
8.4 Keeping an Eye on Forms and Fields . . . . . . . . . . . 185<br>
9 Ajax Has Never Been So Easy 188<br>
9.1 Before We Start. . . . . . . . . . . . . . . . . . . . . . . . . 188<br>
9.2 Hitting the Road: Ajax.Request . . . . . . . . . . . . . . . 194<br>
9.3 Streamlining: Ajax.Updater . . . . . . . . . . . . . . . . . 209<br>
9.4 Polling: Ajax.PeriodicalUpdater . . . . . . . . . . . . . . . 216<br>
9.5 Monitoring Ajax Activity: Ajax.Responders . . . . . . . . 220<br>
9.6 Debugging Ajax . . . . . . . . . . . . . . . . . . . . . . . . 220<br>
9.7 Ajax Considered Harmful? Thinking About Accessibility and Ergonomy221<br>
CLICK HERE to purchase this book now.CONTENTS 12<br>
10 More Useful Helper Objects 226<br>
10.1 Storing Values in a Hash . . . . . . . . . . . . . . . . . . 226<br>
10.2 Expressing Ranges of. . .Well, Anything You Want! . . . 231<br>
10.3 Periodical Execution Without Risk of Reentrance . . . . 232<br>
10.4 Templating Made Easy . . . . . . . . . . . . . . . . . . . 234<br>
10.5 Examining the Current Browser and Prototype Library . 237<br>
11 Performance Considerations 242<br>
11.1 Element Extension and the $ Function . . . . . . . . . . 242<br>
11.2 Iterations vs. Regular Loops . . . . . . . . . . . . . . . . 243<br>
11.3 Obsolete Event Handlers . . . . . . . . . . . . . . . . . . 244<br>
11.4 Recent Speed Boosts You Should Know About . . . . . . 244<br>
11.5 Small Is Beautiful . . . . . . . . . . . . . . . . . . . . . . 245<br>
12 Wrapping Up 246<br>
12.1 Building a Fancy Task List . . . . . . . . . . . . . . . . . 246<br>
12.2 Laying the Groundwork . . . . . . . . . . . . . . . . . . . 247<br>
12.3 It Takes Only 40 Lines: The JavaScript Code . . . . . . . 249</p><p>II script.aculo.us 253<br>
13 Discovering script.aculo.us 254<br>
13.1 The Modules of script.aculo.us . . . . . . . . . . . . . . . 254<br>
13.2 Using script.aculo.us in Your Pages . . . . . . . . . . . . 256<br>
14 Visual Effects 258<br>
14.1 What Are Those Effects, and Why Should We Use Them? 258<br>
14.2 Core Effects . . . . . . . . . . . . . . . . . . . . . . . . . . 260<br>
14.3 Diving into Effects . . . . . . . . . . . . . . . . . . . . . . 266<br>
14.4 Combined Effects . . . . . . . . . . . . . . . . . . . . . . . 270<br>
14.5 Unlocking the Cool Factor: Effect Queues . . . . . . . . 273<br>
14.6 Effect Helpers . . . . . . . . . . . . . . . . . . . . . . . . . 275<br>
14.7 How to Create Our Own Effects . . . . . . . . . . . . . . 277<br>
15 Drag and Drop 284<br>
15.1 Dragging Stuff Around . . . . . . . . . . . . . . . . . . . . 284<br>
15.2 Controlling How It Starts, Where It Goes, &amp; How It Ends 290<br>
15.3 Ghosting . . . . . . . . . . . . . . . . . . . . . . . . . . . . 298<br>
15.4 Dragging and Scrolling . . . . . . . . . . . . . . . . . . . 299<br>
15.5 Monitoring Drags . . . . . . . . . . . . . . . . . . . . . . . 302<br>
15.6 Dropping Stuff . . . . . . . . . . . . . . . . . . . . . . . . 302<br>
CLICK HERE to purchase this book now.CONTENTS 13<br>
15.7 Customizing Drop Behavior . . . . . . . . . . . . . . . . . 303<br>
15.8 Sorting with Drag and Drop . . . . . . . . . . . . . . . . 308<br>
15.9 Common Pitfalls . . . . . . . . . . . . . . . . . . . . . . . 320<br>
16 Autocompletion 324<br>
16.1 The Basics . . . . . . . . . . . . . . . . . . . . . . . . . . . 324<br>
16.2 Local Autocompletion . . . . . . . . . . . . . . . . . . . . 326<br>
16.3 Getting Ajaxy . . . . . . . . . . . . . . . . . . . . . . . . . 331<br>
16.4 Using Rich-Markup Choices . . . . . . . . . . . . . . . . 335<br>
16.5 Autocompleting Multiple Values in One Field . . . . . . 336<br>
16.6 Reacting to Completion with Callbacks . . . . . . . . . . 340<br>
17 Building DOM Fragments the Easy Way: Builder 344<br>
17.1 Building Explicitly . . . . . . . . . . . . . . . . . . . . . . 345<br>
17.2 Using an (X)HTML Representation . . . . . . . . . . . . . 348<br>
18 In-Place Editing 350<br>
18.1 What’s In-Place Editing Exactly? . . . . . . . . . . . . . . 350<br>
18.2 A Simple Example . . . . . . . . . . . . . . . . . . . . . . 353<br>
18.3 How Can We Tweak the Ajax Persistence? . . . . . . . . 355<br>
18.4 Customizing the Appearance . . . . . . . . . . . . . . . . 356<br>
18.5 Dealing with Multiple Lines . . . . . . . . . . . . . . . . . 364<br>
18.6 Editing Alternative Text . . . . . . . . . . . . . . . . . . . 365<br>
18.7 Disabling In-Place Editing . . . . . . . . . . . . . . . . . . 368<br>
18.8 Offering a List of Values Instead of Text Typing . . . . . 369<br>
19 Sliders 374<br>
19.1 Creating a Simple Slider . . . . . . . . . . . . . . . . . . . 375<br>
19.2 Customizing the Basics . . . . . . . . . . . . . . . . . . . 377<br>
19.3 Restricting Range or Allowed Values . . . . . . . . . . . . 379<br>
19.4 Tweaking an Existing Slider and Adding Controls . . . . 382<br>
19.5 De&#64257;ning Multiple Values . . . . . . . . . . . . . . . . . . 382<br>
20 Sound Without Flash 387<br>
20.1 Where Does It Work? . . . . . . . . . . . . . . . . . . . . . 387<br>
20.2 How Do We Play Sounds? . . . . . . . . . . . . . . . . . . 388<br>
20.3 Playing Multiple Sounds on Multiple Tracks . . . . . . . 388</p><p>A Extending and Contributing 392<br>
A.1 Building Over: Classes, Inheritance, and DOM Extension 392<br>
A.2 Contributing! . . . . . . . . . . . . . . . . . . . . . . . . . 399<br>
CLICK HERE to purchase this book now.CONTENTS 14<br>
B Further Reading 412<br>
B.1 Of&#64257;cial Websites . . . . . . . . . . . . . . . . . . . . . . . 412<br>
B.2 Useful Blogs by Prototype Core Members . . . . . . . . . 412<br>
B.3 JavaScript Masters . . . . . . . . . . . . . . . . . . . . . . 413<br>
B.4 Community and New Sites Around Ajax . . . . . . . . . 414<br>
B.5 ECMAScript Intimacy . . . . . . . . . . . . . . . . . . . . 414<br>
B.6 Bibliography . . . . . . . . . . . . . . . . . . . . . . . . . 414<br>
C Installing and Using Ruby 415<br>
C.1 On Windows . . . . . . . . . . . . . . . . . . . . . . . . . . 416<br>
C.2 On Linux . . . . . . . . . . . . . . . . . . . . . . . . . . . 416<br>
C.3 On Mac OS X . . . . . . . . . . . . . . . . . . . . . . . . . 417<br>
C.4 Running a Ruby Script . . . . . . . . . . . . . . . . . . . 417<br>
C.5 “But I Don’t Know a Thing About Ruby!” . . . . . . . . . 418<br>
Index 419</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p></div></body></html>