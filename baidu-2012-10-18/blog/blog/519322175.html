<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>SpringSource发布Spring Data Redis 1.0.0</title></head><body><h1>SpringSource发布Spring Data Redis 1.0.0</h1><div><h1>SpringSource发布Spring Data Redis 1.0.0</h1><p><a href="http://www.infoq.com/cn/news/2012/01/spring-data-redis-1-0-0">http://www.infoq.com/cn/news/2012/01/spring-data-redis-1-0-0</a></p><p><span>作者&nbsp;</span><strong>&nbsp;</strong><span>译者&nbsp;</span><strong>&nbsp;</strong><span>发布于 2012年1月29日</span></p><p>&nbsp;</p><p>近日，<a href="http://eclipsesource.com/" style="color: #0b59b2;">SpringSource</a>&nbsp;<a href="http://www.springsource.org/node/3337" style="color: #0b59b2;">发布</a>了用于将Redis轻松集成到Java应用中的开源<a href="http://www.springsource.org/spring-data/redis" style="color: #0b59b2;">库</a>的首个稳定版。<a href="http://redis.io/" style="color: #0b59b2;">Redis</a>是个由VMWare/SpringSource资助的键值存储，为一些高性能网站如GitHub与StackOverflow等所用。</p><p>Redis是新近涌现的NoSQL数据存储之一，它关注于简单性与性能（整个数据集放在内存中）。你可以通过<a href="http://redis.io/commands" style="color: #0b59b2;">大量命令</a>来访问Redis，与其他众多的键值存储不同，除了基本的字符串外，Redis还支持额外的数据类型。下面列出Redis的一些命令：</p><p>set my-news-site INFOQ<br />=&gt;OK</p><p>get my-news-site<br />=&gt;&quot;INFOQ&quot;</p><p>set my-counter 22<br />=&gt;OK</p><p>get my-counter<br />=&gt;&quot;22&quot;</p><p>incr my-counter<br />=&gt;(integer) 23</p><p>get my-counter<br />=&gt;&quot;23&quot;</p><p>虽然Redis本身是用ANSI C编写的，但其提供了<a href="http://redis.io/clients" style="color: #0b59b2;">各种编程语言的客户端</a>，包括Tcl、Go、SmallTalk、C#与Java。要想与Java集成，你可以使用如下库：</p><ul><li></li><li><a href="http://code.google.com/p/jredis/" style="color: #0b59b2;">JRedis</a></li><li><a href="http://code.google.com/p/jdbc-redis/" style="color: #0b59b2;">JDBC Redis</a></li><li></li></ul><p>这么多选择表明社区参与的健康程度，但选择恰当的库进行开发可能会比较浪费时间。每个库都拥有自己的一套API、配置与文档。选择其中一个，然后决定升级到其他库并不是那么直接的事情。</p><p>Spring Data Redis是<a href="http://www.springsource.org/spring-data" style="color: #0b59b2;">Spring Data umbrella项目</a>的一部分，旨在促进在Spring环境下（已经实现了JPA/Hibernate）非关系数据库的使用。其主要目标是保证Spring Java应用中的可移植性与一致性。在其最底层，Spring Data Redis在每个Java Redis库之上提供了一个基本的抽象层。开发者面对的是统一的Spring Redis API，并且可以轻松在多种实现间切换（比如说出于性能原因等）。</p><p>Spring Data Redis提供了<a href="http://static.springsource.org/spring-data/data-redis/docs/current/api/org/springframework/data/redis/connection/RedisConnection.html" style="color: #0b59b2;">RedisConnection</a>，这是针对Redis实例（类似于JPA&nbsp;<a href="http://docs.oracle.com/javaee/6/api/javax/persistence/EntityManager.html" style="color: #0b59b2;">EntityManager</a>或是Hibernate&nbsp;<a href="http://docs.jboss.org/hibernate/core/3.5/api/org/hibernate/Session.html" style="color: #0b59b2;">Session</a>）的短暂、非线程安全的连接抽象；还提供了<a href="http://static.springsource.org/spring-data/data-redis/docs/current/api/org/springframework/data/redis/connection/RedisConnectionFactory.html" style="color: #0b59b2;">RedisConnectionFactory</a>，它用于创建这种连接（类似于JPA&nbsp;<a href="http://docs.oracle.com/javaee/6/api/javax/persistence/EntityManagerFactory.html" style="color: #0b59b2;">EntityManagerFactory</a>或是Hibernate&nbsp;<a href="http://docs.jboss.org/hibernate/core/3.5/api/org/hibernate/SessionFactory.html" style="color: #0b59b2;">SessionFactory</a>）。这些抽象在共同的编程接口之上隐藏了实际的实现机制，考虑到了Spring所支持的Java Redis库的轻松移植。</p><p>RedisConnection包含了所有的Redis命令，但使用的却是Java语法。你可以使用底层的键保存/检索命令通过该接口获得Redis的全部能量。上面的示例可以使用RedisConnection提供的Java&nbsp;<a href="http://static.springsource.org/spring-data/data-redis/docs/current/api/org/springframework/data/redis/connection/RedisStringCommands.html#set(byte[], byte[])" style="color: #0b59b2;">set</a>、<a href="http://static.springsource.org/spring-data/data-redis/docs/current/api/org/springframework/data/redis/connection/RedisStringCommands.html#get(byte[])" style="color: #0b59b2;">get</a>和<a href="http://static.springsource.org/spring-data/data-redis/docs/current/api/org/springframework/data/redis/connection/RedisStringCommands.html#incr(byte[])" style="color: #0b59b2;">incr</a>命令编写。这么做最大的好处在于无论实际使用的是哪个Java库，这些命令能够保持一致。切换到不同的实现只需在Spring Context中修改单独一行配置即可：</p><p>&nbsp; &lt;!-- Jedis ConnectionFactory --&gt;<br />&nbsp; &lt;bean id=&quot;connectionFactory&quot; class=&quot;org.springframework.data.redis.connection.jedis.JedisConnectionFactory&quot;/&gt;</p><p>&nbsp; &lt;!-- JRedis ConnectionFactory --&gt;<br />&nbsp; &lt;bean id=&quot;connectionFactory&quot; class=&quot;org.springframework.data.redis.connection.jredis.JredisConnectionFactory&quot;/&gt;</p><p>&nbsp; &lt;!-- RJC ConnectionFactory --&gt;<br />&nbsp; &lt;bean id=&quot;connectionFactory&quot; class=&quot;org.springframework.data.redis.connection.rjc.RjcConnectionFactory&quot;/&gt;</p><p>在高层，Spring Data Redis使用了<a href="http://static.springsource.org/spring-data/data-redis/docs/current/reference/redis.html#redis:template" style="color: #0b59b2;">RedisTemplate</a>，它用于将整个Java对象直接存储到Redis中，而不仅仅是基本类型（比如说字符串与数字）。如下序列化方法支持都是开箱即用的：</p><ol><li>JDK序列化（默认方式）</li><li>toString</li><li>JSON（通过<a href="http://jackson.codehaus.org/" style="color: #0b59b2;">Jackson</a>库）</li><li>XML（通过Spring&nbsp;<a href="http://static.springsource.org/spring-ws/site/reference/html/oxm.html" style="color: #0b59b2;">OXM模块</a>）</li></ol><p>要想了解更多信息，请观看这个介绍Redis与Spring Data Redis的<a href="http://www.youtube.com/watch?v=5xtEpB2FmMU" style="color: #0b59b2;">视频</a>、<a href="http://static.springsource.org/spring-data/data-redis/docs/current/reference/" style="color: #0b59b2;">参考文档</a>与<a href="http://static.springsource.org/spring-data/data-redis/docs/current/api/" style="color: #0b59b2;">Javadocs</a>。Spring Data Redis的源代码托管在上。</p><p><b>查看英文原文：</b></p></div></body></html>