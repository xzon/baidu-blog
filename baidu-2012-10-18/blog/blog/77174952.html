<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>windows api参数说明符前缀详解 -grule</title></head><body><h1>windows api参数说明符前缀详解 -grule</h1><div><h3><strong>windows api参数说明符前缀详解 -grule</strong></h3>
<p>使用MASM写Windows程序，其实就是和Windows API打交道，而一个人是不可能记住所有的API用法的，所以API参考手册是必不可少的，API的参考手册中函数原型是按匈牙利表示法表示的，下面这个表就是API原型中那些前缀的详细解释，希望对初学者有帮助。</p>
<p>资料来源：MicroSoft MSDN Platform SDK 参考<br>
a Array 数组<br>
b BOOL (int) 布尔(整数)<br>
by Unsigned Char (Byte) 无符号字符(字节)<br>
c Char 字符(字节)<br>
cb Count of bytes 字节数<br>
cr Color reference value 颜色(参考)值<br>
cx Count of x (Short) x的集合(短整数)<br>
dw DWORD (unsigned long) 双字(无符号长整数)<br>
f Flags (usually multiple bit values) 标志(一般是有多位的数值)<br>
fn Function 函数<br>
g_ global 全局的<br>
h Handle 句柄<br>
i Integer 整数<br>
l Long 长整数<br>
lp Long pointer 长指针<br>
m_ Data member of a class 一个类的数据成员<br>
n Short int 短整数<br>
p Pointer 指针<br>
s String 字符串<br>
sz Zero terminated String 以0结尾的字符串<br>
tm Text metric 文本规则<br>
u Unsigned int 无符号整数<br>
ul Unsigned long (ULONG) 无符号长整数<br>
w WORD (unsigned short) 无符号短整数<br>
x,y x, y coordinates (short) 坐标值/短整数<br>
v void 空</p>
<p>比如说API函数CreateWindowsEx,API原型如下：<br>
HWND CreateWindowEx(<br>
DWORD dwExStyle, // extended window style<br>
LPCTSTR lpClassName, // pointer to registered class name<br>
LPCTSTR lpWindowName, // pointer to window name<br>
DWORD dwStyle, // window style<br>
int x, // horizontal position of window<br>
int y, // vertical position of window<br>
int nWidth, // window width<br>
int nHeight, // window height<br>
HWND hWndParent, // handle to parent or owner window<br>
HMENU hMenu, // handle to menu, or child-window identifier<br>
HINSTANCE hInstance, // handle to application instance<br>
LPVOID lpParam // pointer to window-creation data<br>
);<br>
那么根据上述前缀表可以得出,dwExStyle需要一个双字值,lpClassName与lpWindowName需要一个指向字符串的长指针(在MASM中则是偏移地址),x、y表示需传递整数值,nWidth与nHeight表示传递短整数,hWndParent表示需要一个窗口句柄,hMenu表示传递一个菜单句柄，hInstance表示传递的是程序实例句柄,lpParam表示可以传递长指针(地址)。<br>
注意看前缀时请不要看前面的类型说明符，而是要看词的前缀，如DWORD dwExStyle,只需要看dwExStyle就知道传递的是双字数。<br>
另外还有其它的组合，只要稍注意就能行，比如说lpfn表示指向函数的长指针，在MASM中则是一个函数的地址,，还有像lpSecurityAttributes之类的，则是指向SECURITY_ATTRIBUTES结构的长指针(地址),lpvBuffer表示传递一个缓存(Buffer)长指针(lp)或者为空(void),还有一些没有前缀的则是这个词已经足够说明它的意思了。等等,熟悉这些前缀的含义可以让你在学习API的时候进行快速的掌握。并能排除一些错误。</p>
<p><a href="http://www.bianceng.cn/">http://www.bianceng.cn/</a></p></div></body></html>