<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>c#事件实例</title></head><body><h1>c#事件实例</h1><div><h2 class="diaryTitle">c#事件实例</h2>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
<p> </p>
<p>using System;<br>
public class Control<br>
{</p>
<p>public delegate void SomeHandler(object sender,System.EventArgs e);//第一步<br>
public event SomeHandler SomeEvent;//第一步<br>
public Control()<br>
{<br>
&nbsp;&nbsp;  this.SomeEvent +=new SomeHandler(this.ProcessSomeEvent);<br>
&nbsp;&nbsp;  //第三步<br>
}<br>
public void RaiseSomeEvent()<br>
{<br>
&nbsp;&nbsp;  EventArgs e= new EventArgs();<br>
&nbsp;&nbsp;  Console.WriteLine (&quot;请输入&lsquo;a&rsquo;&quot;);<br>
&nbsp;&nbsp;  string s=Console.ReadLine ();<br>
&nbsp;&nbsp;<br>
&nbsp;&nbsp;  if(s==&quot;a&quot;)//请在用户输入一个a的情况下触发事件，否则不触发。第二步<br>
&nbsp;&nbsp;  {<br>
&nbsp;&nbsp;&nbsp;  SomeEvent(this,e);<br>
&nbsp;&nbsp;  }<br>
&nbsp;&nbsp;  else<br>
&nbsp;&nbsp;  {<br>
&nbsp;&nbsp;&nbsp;  Console.WriteLine (&quot;cuowu&quot;);<br>
&nbsp;&nbsp;  }<br>
}<br>
//事件的触发者对事件的处理方法，此方法的参数必须和代理中的一致<br>
private void ProcessSomeEvent(object sender,EventArgs e)<br>
{<br>
&nbsp;&nbsp;  Console.WriteLine (&quot;hello&quot;);<br>
}</p>
<p>}<br>
//事件的接收者（事件的响应）<br>
class Container<br>
{<br>
private Control ctr1=new Control ();<br>
public Container()<br>
{<br>
&nbsp;&nbsp;  ctr1.SomeEvent +=new Control.SomeHandler(this.ResponseSomeEvent);<br>
&nbsp;&nbsp;  ctr1.RaiseSomeEvent();<br>
}<br>
public static void Main()<br>
{<br>
&nbsp;&nbsp;  Container pane=new Container ();<br>
&nbsp;&nbsp;  Console.ReadLine ();<br>
}<br>
//接收者对事件的响应<br>
private void ResponseSomeEvent (object sender , EventArgs e)<br>
{<br>
&nbsp;&nbsp;  Console.WriteLine (&quot;事件响应，也就是事件发生了&quot;);<br>
}<br>
}</p>
<p> </p>
<p>2）</p>
<p>using System;<br>
using System.Drawing;<br>
using System.Collections;<br>
using System.ComponentModel;<br>
using System.Windows.Forms;<br>
using System.Data;</p>
<p>namespace WindowsApplication1<br>
{<br>
/// &lt;summary&gt;<br>
/// Form1 的摘要说明。<br>
/// &lt;/summary&gt;<br>
public class Form1 : System.Windows.Forms.Form<br>
{<br>
&nbsp;&nbsp;  /// &lt;summary&gt;<br>
&nbsp;&nbsp;  /// 必需的设计器变量。<br>
&nbsp;&nbsp;  /// &lt;/summary&gt;<br>
&nbsp;&nbsp;  private System.ComponentModel.Container components = null;</p>
<p>&nbsp;&nbsp;  public Form1()<br>
&nbsp;&nbsp;  {<br>
&nbsp;&nbsp;&nbsp;  //<br>
&nbsp;&nbsp;&nbsp;  // Windows 窗体设计器支持所必需的<br>
&nbsp;&nbsp;&nbsp;  //<br>
&nbsp;&nbsp;&nbsp;  InitializeComponent();</p>
<p>&nbsp;&nbsp;&nbsp;  //<br>
&nbsp;&nbsp;&nbsp;  // TODO: 在 InitializeComponent 调用后添加任何构造函数代码<br>
&nbsp;&nbsp;&nbsp;  //<br>
&nbsp;&nbsp;  }</p>
<p>&nbsp;&nbsp;  /// &lt;summary&gt;<br>
&nbsp;&nbsp;  /// 清理所有正在使用的资源。<br>
&nbsp;&nbsp;  /// &lt;/summary&gt;<br>
&nbsp;&nbsp;  protected override void Dispose( bool disposing )<br>
&nbsp;&nbsp;  {<br>
&nbsp;&nbsp;&nbsp;  if( disposing )<br>
&nbsp;&nbsp;&nbsp;  {<br>
&nbsp;&nbsp;&nbsp;&nbsp;  if (components != null) <br>
&nbsp;&nbsp;&nbsp;&nbsp;  {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  components.Dispose();<br>
&nbsp;&nbsp;&nbsp;&nbsp;  }<br>
&nbsp;&nbsp;&nbsp;  }<br>
&nbsp;&nbsp;&nbsp;  base.Dispose( disposing );<br>
&nbsp;&nbsp;  }</p>
<p>&nbsp;&nbsp;  #region Windows 窗体设计器生成的代码<br>
&nbsp;&nbsp;  /// &lt;summary&gt;<br>
&nbsp;&nbsp;  /// 设计器支持所需的方法 - 不要使用代码编辑器修改<br>
&nbsp;&nbsp;  /// 此方法的内容。<br>
&nbsp;&nbsp;  /// &lt;/summary&gt;<br>
&nbsp;&nbsp;  private void InitializeComponent()<br>
&nbsp;&nbsp;  {<br>
&nbsp;&nbsp;&nbsp;  // <br>
&nbsp;&nbsp;&nbsp;  // Form1<br>
&nbsp;&nbsp;&nbsp;  // <br>
&nbsp;&nbsp;&nbsp;  this.AutoScaleBaseSize = new System.Drawing.Size(6, 14);<br>
&nbsp;&nbsp;&nbsp;  this.ClientSize = new System.Drawing.Size(292, 273);<br>
&nbsp;&nbsp;&nbsp;  this.Name = &quot;Form1&quot;;<br>
&nbsp;&nbsp;&nbsp;  this.Text = &quot;Form1&quot;;<br>
&nbsp;&nbsp;&nbsp;  this.Load += new System.EventHandler(this.Form1_Load);</p>
<p>&nbsp;&nbsp;  }<br>
&nbsp;&nbsp;  #endregion</p>
<p>&nbsp;&nbsp;  /// &lt;summary&gt;<br>
&nbsp;&nbsp;  /// 应用程序的主入口点。<br>
&nbsp;&nbsp;  /// &lt;/summary&gt;<br>
&nbsp;&nbsp;  [STAThread]<br>
&nbsp;&nbsp;  static void Main() <br>
&nbsp;&nbsp;  {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  MessageBox.Show(&quot;测试成功&quot;,&quot;信息提示框&quot;,MessageBoxButtons.YesNo,MessageBoxIcon.Question);<br>
&nbsp;&nbsp;&nbsp;  Application.Run(new Form1());<br>
&nbsp;&nbsp;  }</p>
<p>&nbsp;&nbsp;  private void Form1_Load(object sender, System.EventArgs e)<br>
&nbsp;&nbsp;  {<br>
&nbsp;&nbsp;<br>
&nbsp;&nbsp;  }<br>
}<br>
}</p></div></body></html>