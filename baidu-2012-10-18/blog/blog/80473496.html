<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>马周游优化-算法设计-C++code -gcode</title></head><body><h1>马周游优化-算法设计-C++code -gcode</h1><div><h2 class="mode_title" style="font-size: 16px">马周游优化-算法设计-C++code -gcode</h2>
<p>#include &lt;iostream.h&gt; <br>
static int a[13][13],w=1,k[2]={0,0}; <br>
static int m[8]={-2,-2,2,2,-1,-1,1,1},n[8]={-1,1,-1,1,-2,2,-2,2}; <br>
int num(int i,int j) <br>
{ <br>
&nbsp;&nbsp;  int x=0,d; <br>
&nbsp;&nbsp;  if(a[i][j]!=0)return 9; <br>
&nbsp;&nbsp;  for(d=0;d&lt;8;d++) <br>
&nbsp;&nbsp;  { <br>
&nbsp;&nbsp;&nbsp;&nbsp;  <br>
&nbsp;&nbsp;&nbsp;&nbsp;  if(a[i+m[d]][j+n[d]]==0) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  x++; <br>
&nbsp;&nbsp;  } <br>
&nbsp;&nbsp;  return x; <br>
} <br>
void minnum(int i,int j) <br>
{ <br>
&nbsp;&nbsp;  int t,min=9,d; <br>
&nbsp;&nbsp;  for(d=0;d&lt;8;d++) <br>
&nbsp;&nbsp;  { <br>
&nbsp;&nbsp;&nbsp;&nbsp;  if((t=num(i+m[d],j+n[d]))&lt;min) <br>
&nbsp;&nbsp;&nbsp;&nbsp;  { <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  min=t;k[0]=i+m[d];k[1]=j+n[d]; <br>
&nbsp;&nbsp;&nbsp;&nbsp;  } <br>
&nbsp;&nbsp;  } <br>
} <br>
void findnext(int i,int j) <br>
{ <br>
&nbsp;&nbsp;  int g,h; <br>
&nbsp;&nbsp;  if(w&lt;=64) <br>
&nbsp;&nbsp;  { <br>
&nbsp;&nbsp;&nbsp;&nbsp;  a[i][j]=w++; <br>
&nbsp;&nbsp;&nbsp;&nbsp;  minnum(i,j); <br>
&nbsp;&nbsp;&nbsp;&nbsp;  g=k[0];h=k[1]; <br>
&nbsp;&nbsp;&nbsp;&nbsp;  findnext(g,h); <br>
&nbsp;&nbsp;  } <br>
} <br>
int main() <br>
{ <br>
&nbsp;&nbsp;  int i,j,b,c; <br>
&nbsp;&nbsp;  cout&lt;&lt;"请输入起始位置行号列号（1—8）："&lt;&lt;endl; <br>
&nbsp;&nbsp;  cin&gt;&gt;b&gt;&gt;c; <br>
&nbsp;&nbsp;  for(i=1;i&lt;=12;i++) <br>
&nbsp;&nbsp;&nbsp;&nbsp;  for(j=1;j&lt;=12;j++) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  if(i&gt;=3&amp;&amp;i&lt;=10&amp;&amp;j&gt;=3&amp;&amp;j&lt;=10)a[i][j]=0; <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  else a[i][j]=-1; <br>
&nbsp;&nbsp;  findnext(b+2,c+2); <br>
&nbsp;&nbsp;  for(i=3;i&lt;=10;i++,cout&lt;&lt;endl) <br>
&nbsp;&nbsp;&nbsp;&nbsp;  for(j=3;j&lt;=10;j++) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  cout&lt;&lt;a[i][j]&lt;&lt;" "; <br>
&nbsp;&nbsp;  return 0; <br>
} <br>
<br>
/*原先程序 <br>
#include &lt;iostream.h&gt; <br>
int k[2]={0,0}; <br>
static int a[13][13],w=1; <br>
int num(int i,int j) <br>
{ <br>
&nbsp;&nbsp;  int n=0; <br>
&nbsp;&nbsp;  if(a[i][j]!=0)return 9; <br>
&nbsp;&nbsp;  if(a[i-2][j-1]==0)n++; <br>
&nbsp;&nbsp;  if(a[i-2][j+1]==0)n++; <br>
&nbsp;&nbsp;  if(a[i+2][j-1]==0)n++; <br>
&nbsp;&nbsp;  if(a[i+2][j+1]==0)n++; <br>
&nbsp;&nbsp;  if(a[i+1][j-2]==0)n++; <br>
&nbsp;&nbsp;  if(a[i+1][j+2]==0)n++; <br>
&nbsp;&nbsp;  if(a[i-1][j-2]==0)n++; <br>
&nbsp;&nbsp;  if(a[i-1][j+2]==0)n++; <br>
&nbsp;&nbsp;  return n; <br>
} <br>
void minnum(int i,int j) <br>
{ <br>
&nbsp;&nbsp;  int t,min=9; <br>
&nbsp;&nbsp;  if((t=num(i-2,j-1))&lt;min){min=t;k[0]=i-2;k[1]=j-1;} <br>
&nbsp;&nbsp;  if((t=num(i-2,j+1))&lt;min){min=t;k[0]=i-2;k[1]=j+1;} <br>
&nbsp;&nbsp;  if((t=num(i+2,j-1))&lt;min){min=t;k[0]=i+2;k[1]=j-1;} <br>
&nbsp;&nbsp;  if((t=num(i+2,j+1))&lt;min){min=t;k[0]=i+2;k[1]=j+1;} <br>
&nbsp;&nbsp;  if((t=num(i-1,j-2))&lt;min){min=t;k[0]=i-1;k[1]=j-2;} <br>
&nbsp;&nbsp;  if((t=num(i-1,j+2))&lt;min){min=t;k[0]=i-1;k[1]=j+2;} <br>
&nbsp;&nbsp;  if((t=num(i+1,j-2))&lt;min){min=t;k[0]=i+1;k[1]=j-2;} <br>
&nbsp;&nbsp;  if((t=num(i+1,j+2))&lt;min){min=t;k[0]=i+1;k[1]=j+2;} <br>
} <br>
void findnext(int i,int j) <br>
{ <br>
&nbsp;&nbsp;  int g,h; <br>
&nbsp;&nbsp;  if(w&lt;=64) <br>
&nbsp;&nbsp;  { <br>
&nbsp;&nbsp;&nbsp;&nbsp;  a[i][j]=w++; <br>
&nbsp;&nbsp;&nbsp;&nbsp;  minnum(i,j); <br>
&nbsp;&nbsp;&nbsp;&nbsp;  g=k[0];h=k[1]; <br>
&nbsp;&nbsp;&nbsp;&nbsp;  findnext(g,h); <br>
&nbsp;&nbsp;  } <br>
} <br>
int main() <br>
{ <br>
&nbsp;&nbsp;  int i,j,b,c; <br>
&nbsp;&nbsp;  cout&lt;&lt;"请输入起始位置行号列号（1—8）："&lt;&lt;endl; <br>
&nbsp;&nbsp;  cin&gt;&gt;b&gt;&gt;c; <br>
&nbsp;&nbsp;  for(i=1;i&lt;=12;i++) <br>
&nbsp;&nbsp;&nbsp;&nbsp;  for(j=1;j&lt;=12;j++) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  if(i&gt;=3&amp;&amp;i&lt;=10&amp;&amp;j&gt;=3&amp;&amp;j&lt;=10)a[i][j]=0; <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  else a[i][j]=-1; <br>
&nbsp;&nbsp;  findnext(b+2,c+2); <br>
&nbsp;&nbsp;  for(i=3;i&lt;=10;i++,cout&lt;&lt;endl) <br>
&nbsp;&nbsp;&nbsp;&nbsp;  for(j=3;j&lt;=10;j++) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  cout&lt;&lt;a[i][j]&lt;&lt;" "; <br>
&nbsp;&nbsp;  return 0; <br>
}*/</p>
<p><a target="_blank" link="http://sqqt.cn/blog/article.asp" href="http://sqqt.cn/blog/article.asp">http://sqqt.cn/blog/article.asp</a></p></div></body></html>