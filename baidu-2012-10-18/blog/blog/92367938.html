<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>依赖、关联、聚合、组合还有泛化的关系</title></head><body><h1>依赖、关联、聚合、组合还有泛化的关系</h1><div><div>
<p> </p>
<p><a href="http://www.cnblogs.com/suzongwei/archive/2008/02/26/1081805.html">依赖、关联、聚合、组合还有泛化的关系</a></p>
<div class="postbody">
<p><font face="Verdana"><span style="color: red"><font face="Verdana">此文为转载文章:<font face="Verdana">http://zjzkiss.cnblogs.com/</font><br>
</font></span>世界是普遍联系的，因此程序世界中的类，也不可能是孤立的。UML为我们定义了它们之间的关系，就是：依赖、关联、聚合、组合还有泛化。 </font></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  泛化关系比较好理解，就是表示类之间的继承关系。容易混淆的是依赖、关联、聚合和组合的关系。这里做一些甄别：</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  1、 依赖和关联的颠倒颠</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  在网上查找了一下依赖和关联的区别，有说&ldquo;关联本身即是一种依赖&rdquo;，亦有说&ldquo;依赖是一种弱关联&rdquo;，其实说来说去是一档子事。依赖和关联都是说一个类用到了另一个类。其区别在于一个是使用，一个是拥有。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <strong>依赖</strong>：具有某种偶然性。比如说我要过河，没有桥怎么办，我就去借来一条小船渡过去。我与小船的关系仅仅是使用（借用）的关系。表现在代码上，为依赖的类的某个方法以被依赖的类作为其参数。或者是class A 的某个方法创造了 class B 的实例抑或对class B的静态方法的调用。如果A依赖于B，那意味着B的变化可能要求A也发生变化；</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  这是uml<span>图表示的依赖关系：<br>
<span style="font-size: 10.5pt; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img height="101" src="http://www.cnblogs.com/images/cnblogs_com/zjzkiss/l5.GIF" width="274" border="0"><br>
<span style="font-size: 10.5pt; ">代码表现：<br>
</span></span></span>以上是转自,<font face="Verdana">http://zjzkiss.cnblogs.com/</font></p>
<p> </p>
<div style="border-right: #cccccc 1px solid; padding-right: 5px; border-top: #cccccc 1px solid; padding-left: 4px; font-size: 13px; padding-bottom: 4px; border-left: #cccccc 1px solid; width: 98%; word-break: break-all; padding-top: 4px; border-bottom: #cccccc 1px solid; background-color: #eeeeee"><span style="color: #008080">1</span><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockStart.gif" align="top"><img style="display: none" src="http://www.cnblogs.com/Images/OutliningIndicators/ContractedBlock.gif" align="top"><span style="color: #0000ff">public</span> <span style="color: #0000ff">class</span><span style="color: #000000"> Person</span><span ><span style="color: #000000">{&nbsp;&nbsp;&nbsp;&nbsp;<br>
</span><span style="color: #008080">2</span><span style="color: #000000"><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" align="top"><img style="display: none" src="http://www.cnblogs.com/Images/OutliningIndicators/ContractedSubBlock.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp;</span><span ><span style="color: #008000">/*</span><span style="color: #008000">* 划船 </span><span style="color: #008000">*/</span></span><span style="color: #000000">&nbsp;&nbsp;&nbsp;<br>
</span><span style="color: #008080">3</span><span style="color: #000000"><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" align="top"><img style="display: none" src="http://www.cnblogs.com/Images/OutliningIndicators/ContractedSubBlock.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">public</span> <span style="color: #0000ff">void</span><span style="color: #000000"> oarage (Boat boat)</span><span ><span style="color: #000000">{&nbsp;&nbsp;&nbsp;&nbsp;<br>
</span><span style="color: #008080">4</span><span style="color: #000000"><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; boat.oarage();&nbsp;&nbsp;&nbsp;&nbsp;<br>
</span><span style="color: #008080">5</span><span style="color: #000000"><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"> }</span></span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;<br>
</span><span style="color: #008080">6</span><span style="color: #000000"><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockEnd.gif" align="top">}</span></span><span style="color: #000000"> <br>
</span><span style="color: #008080">7</span><span style="color: #000000"><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"></span></div>
<p><br>
 </p>
<p><strong>关联：有名的客户和订单的关系以及公司和员工的关系，都是关联关系。还有就是我和我的单车的例子，他们都是一种&ldquo;拥有&rdquo;的关系。表现在代码上，就是一个类包含另一个类的实例，</strong>通常表现为被关联类以类属性的形式出现在关联类的类定义中，也可以表现为关联类引用了一个类型为被关联类的全局变量。关联可以使单向的，也可以使双向的。</p>
<p>从网上找到的公司和员工的UML图和代码 ：</p>
<p><img height="74" src="http://www.cnblogs.com/images/cnblogs_com/zjzkiss/l2.GIF" width="303" border="0"><br>
<span style="font-size: 10pt; "><strong>公司和员工的关联关系<br>
</strong></span><br>
 </p>
<div style="border-right: #cccccc 1px solid; padding-right: 5px; border-top: #cccccc 1px solid; padding-left: 4px; font-size: 13px; padding-bottom: 4px; border-left: #cccccc 1px solid; width: 98%; word-break: break-all; padding-top: 4px; border-bottom: #cccccc 1px solid; background-color: #eeeeee"><span style="color: #008080"> 1</span><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockStart.gif" align="top"><img style="display: none" src="http://www.cnblogs.com/Images/OutliningIndicators/ContractedBlock.gif" align="top"><span style="color: #0000ff">public</span> <span style="color: #0000ff">class</span><span style="color: #000000"> Company</span><span ><span style="color: #000000">{&nbsp;&nbsp;&nbsp;&nbsp;<br>
</span><span style="color: #008080"> 2</span><span style="color: #000000"><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">private</span><span style="color: #000000"> Employee employee;&nbsp;&nbsp;&nbsp;&nbsp;<br>
</span><span style="color: #008080"> 3</span><span style="color: #000000"><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" align="top"><img style="display: none" src="http://www.cnblogs.com/Images/OutliningIndicators/ContractedSubBlock.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">public</span><span style="color: #000000"> Employee getEmployee()</span><span ><span style="color: #000000">{&nbsp;&nbsp;&nbsp;&nbsp;<br>
</span><span style="color: #008080"> 4</span><span style="color: #000000"><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">return</span><span style="color: #000000"> employee;&nbsp;&nbsp;&nbsp;&nbsp;<br>
</span><span style="color: #008080"> 5</span><span style="color: #000000"><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp; }</span></span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;<br>
</span><span style="color: #008080"> 6</span><span style="color: #000000"><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" align="top"><img style="display: none" src="http://www.cnblogs.com/Images/OutliningIndicators/ContractedSubBlock.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">public</span> <span style="color: #0000ff">void</span><span style="color: #000000"> setEmployee(Employee employee)</span><span ><span style="color: #000000">{&nbsp;&nbsp;&nbsp;&nbsp;<br>
</span><span style="color: #008080"> 7</span><span style="color: #000000"><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">this</span><span style="color: #000000">.employee</span><span style="color: #000000">=</span><span style="color: #000000">employee;&nbsp;&nbsp;&nbsp;&nbsp;<br>
</span><span style="color: #008080"> 8</span><span style="color: #000000"><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp; }</span></span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;<br>
</span><span style="color: #008080"> 9</span><span style="color: #000000"><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000">//</span><span style="color: #008000">公司运作&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000"><br>
</span><span style="color: #008080">10</span><span style="color: #008000"><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" align="top"><img style="display: none" src="http://www.cnblogs.com/Images/OutliningIndicators/ContractedSubBlock.gif" align="top"></span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">public</span> <span style="color: #0000ff">void</span><span style="color: #000000"> run()</span><span ><span style="color: #000000">{&nbsp;&nbsp;&nbsp;&nbsp;<br>
</span><span style="color: #008080">11</span><span style="color: #000000"><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; employee.startWorking();&nbsp;&nbsp;&nbsp;&nbsp;<br>
</span><span style="color: #008080">12</span><span style="color: #000000"><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp; }</span></span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;<br>
</span><span style="color: #008080">13</span><span style="color: #000000"><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockEnd.gif" align="top">}</span></span><span style="color: #000000">&nbsp;&nbsp;<br>
</span><span style="color: #008080">14</span><span style="color: #000000"><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"></span></div>
<p> </p>
<p>可见依赖于与关联亦有动静之别，关联的类&ldquo;静态&rdquo;地引用了被关联类的实例变量，而依赖的偶然性也正说明了它的动态性。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2、 聚合与组合同出而异体</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 聚合与组合其实都是关联的特例，都是整体和部分的关系。他们的区别在于聚合的两个对象之间是可分离的，他们具有各自的生命周期。而组合往往表现为一种唇齿相依的关系。</p>
<p>聚合：一种容纳或曰包含的关系，如同机场和飞机，汽车和轮胎的关系。其实仔细想想，前面的公司和员工的关系也有聚合的味道在里面。</p>
<p>组合：也可称之为强聚合，整体和部分是不可分的，整体的生命周期结束时也就是部分的生命周期到头时。很有名的就是桌子和桌子腿的关系。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 聚合的UML图：<br>
<img height="90" src="http://www.cnblogs.com/images/cnblogs_com/zjzkiss/l3.GIF" width="245" border="0"></p>
<p style="margin: 0cm 0cm 0pt 21pt; text-indent: 18pt"><span>组合的</span><font face="Times New Roman">UML</font><span>图：</span></p>
<p><br>
<br>
<img height="90" src="http://www.cnblogs.com/images/cnblogs_com/zjzkiss/l4.GIF" width="245" border="0"><br>
 </p>
<p>然而，聚合与组合的代码表现形式是一样的，都可以表现为以下的形式，它们仅仅具有语义上的区别。</p>
<p>网上找到的电脑和CPU的关系的代码表现：</p>
<p> </p>
<div style="border-right: #cccccc 1px solid; padding-right: 5px; border-top: #cccccc 1px solid; padding-left: 4px; font-size: 13px; padding-bottom: 4px; border-left: #cccccc 1px solid; width: 98%; word-break: break-all; padding-top: 4px; border-bottom: #cccccc 1px solid; background-color: #eeeeee"><span style="color: #008080"> 1</span><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockStart.gif" align="top"><img style="display: none" src="http://www.cnblogs.com/Images/OutliningIndicators/ContractedBlock.gif" align="top"><span style="color: #0000ff">public</span> <span style="color: #0000ff">class</span><span style="color: #000000"> Computer</span><span ><span style="color: #000000">{&nbsp;&nbsp;&nbsp;&nbsp;<br>
</span><span style="color: #008080"> 2</span><span style="color: #000000"><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">private</span><span style="color: #000000"> CPU cpu;&nbsp;&nbsp;&nbsp;&nbsp;<br>
</span><span style="color: #008080"> 3</span><span style="color: #000000"><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" align="top"><img style="display: none" src="http://www.cnblogs.com/Images/OutliningIndicators/ContractedSubBlock.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">public</span><span style="color: #000000"> CPU getCPU()</span><span ><span style="color: #000000">{&nbsp;&nbsp;&nbsp;&nbsp;<br>
</span><span style="color: #008080"> 4</span><span style="color: #000000"><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">return</span><span style="color: #000000"> cpu;&nbsp;&nbsp;&nbsp;&nbsp;<br>
</span><span style="color: #008080"> 5</span><span style="color: #000000"><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp; }</span></span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;<br>
</span><span style="color: #008080"> 6</span><span style="color: #000000"><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" align="top"><img style="display: none" src="http://www.cnblogs.com/Images/OutliningIndicators/ContractedSubBlock.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">public</span> <span style="color: #0000ff">void</span><span style="color: #000000"> setCPU(CPU cpu)</span><span ><span style="color: #000000">{&nbsp;&nbsp;&nbsp;&nbsp;<br>
</span><span style="color: #008080"> 7</span><span style="color: #000000"><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">this</span><span style="color: #000000">.cpu</span><span style="color: #000000">=</span><span style="color: #000000">cpu;&nbsp;&nbsp;&nbsp;&nbsp;<br>
</span><span style="color: #008080"> 8</span><span style="color: #000000"><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp; }</span></span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;<br>
</span><span style="color: #008080"> 9</span><span style="color: #000000"><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000">//</span><span style="color: #008000">开启电脑&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000"><br>
</span><span style="color: #008080">10</span><span style="color: #008000"><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" align="top"><img style="display: none" src="http://www.cnblogs.com/Images/OutliningIndicators/ContractedSubBlock.gif" align="top"></span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff">public</span> <span style="color: #0000ff">void</span><span style="color: #000000"> start()</span><span ><span style="color: #000000">{&nbsp;&nbsp;&nbsp;&nbsp;<br>
</span><span style="color: #008080">11</span><span style="color: #000000"><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000">//</span><span style="color: #008000">cpu运作&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000"><br>
</span><span style="color: #008080">12</span><span style="color: #008000"><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" align="top"></span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cpu.run();&nbsp;&nbsp;&nbsp;&nbsp;<br>
</span><span style="color: #008080">13</span><span style="color: #000000"><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp; }</span></span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;<br>
</span><span style="color: #008080">14</span><span style="color: #000000"><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockEnd.gif" align="top">}</span></span><span style="color: #000000">&nbsp;&nbsp;<br>
</span><span style="color: #008080">15</span><span style="color: #000000"><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top"></span></div>
<p><br>
 </p>
</div>
</div></div></body></html>